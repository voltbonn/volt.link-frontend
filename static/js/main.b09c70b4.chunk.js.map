{"version":3,"sources":["pages/Editor.module.css","components/Repeater.module.css","components/Header.module.css","pages/Chooser.module.css","pages/Shortcode.module.css","components/HtmlInput.module.css","pages/App.module.css","components/FancyInput.module.css","components/InputWithLocal.module.css","locales lazy /^/.//.*/.ftl$/ groupOptions: {} namespace object","fluent/Localized.js","hooks/useUser.js","components/Header.js","hooks/useKeyPress.js","pages/Chooser.js","components/UrlInput.js","components/FancyInput.js","pages/Shortcode.js","images/layout-default.svg","images/layout-person.svg","images/qr_code_24pd.svg","images/assessment_24dp.svg","images/publish_24dp.svg","images/link_24dp.svg","images/title_24dp.svg","images/notes_24dp.svg","images/coverphotos/thumbs/20200912_Plakatschlange_Koeln_Matteo Sant_Unione_011.png","images/coverphotos/thumbs/Aktion.png","images/coverphotos/thumbs/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.png","images/coverphotos/thumbs/Welcome-to-Volt.png","components/MultiButton.js","components/InputWithLocal.js","components/PermissionInput.js","components/EmailInput.js","components/HtmlInput.js","components/Repeater.js","pages/Editor.js","pages/App.js","fluent/l10n.js","index.js"],"names":["module","exports","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","Localized","props","elems","br","Fragment","children","withLocalization","Inner","l10n","React","useContext","FluentContext","createElement","fluentByObject","object","fallback","globalSupportedLocales","supportedLocales","thisSupportedLocales","filter","locale","includes","currentLocales","negotiateLanguages","userLocales","defaultLocale","getString","args","useUser","forceRefetch","useState","user","setUser","loggedIn","setLoggedIn","useEffect","window","hasOwnProperty","useUser_user","useUser_loggedIn","fetch","domains","backend","mode","credentials","response","json","data","status","username","email","split","catch","error","console","Header","title","rightActions","notificationBanner","className","classes","header","headerBar","useKeyPress","callback","onKeyup","event","key","addEventListener","removeEventListener","rightHeaderActions","user_editable_links","editable","userPageAlreadyExists","setUserPageAlreadyExists","history","useHistory","forbidden","setForbidden","value","setValue","alreadyExists","setAlreadyExists","setError","push","handleCheckIfPathExists","useCallback","newValue","target","toLowerCase","forbidden_letters","letters","newValue_split","forbidden_letters_filtered","codes","length","startsWith","allowed","exists","to","style","marginLeft","marginRight","vars","chooserInput","hideSubmitButton","domainPrefix","type","placeholder","onChange","content","href","slug","flatMap","slice","role","rel","url_regex","email_regex","is_email_not_url_regex","UrlInput","defaultValue","onError","handleTextChange","isSubmittable","schema_parts","schema","shift","after_schema","join","match","FancyInput","redirectLink","setRedirectLink","setIsSubmittable","generateRedirectLink","handleRedirectLink","use_as","redirect","method","headers","body","JSON","stringify","r","a","input","flexGrow","display","flexDirection","onClick","MultiButton","ariaLabel","items","choosen","setChoosen","handleClick","dataset","item","icon","pointerEvents","verticalAlign","locales","en","de","es","pt","fr","it","nl","da","sv","nb","fi","mt","pl","ru","bg","tr","ar","el","ro","sl","entries","nativeName","InputWithLocal","reorderHandle","wrapperDiv","useRef","changedLocale","setChangedLocale","changedValue","setChangedValue","handleLocaleChange","current","event_or_value","input_with_local","ref","toUpperCase","margin","flexShrink","PermissionInput","changedRole","setChangedRole","handleRoleChange","alignItems","maxWidth","EmailInput","HtmlInput","linebreaks","fake_defaultValue","__html","replace","text","setText","innerHTML","trim","addLineBreaks","document","execCommand","preventDefault","handlePaste","originalEvent","clipboardData","getData","onKeyDown","onInput","onPaste","rebuild_textarea","show_placeholder","contentEditable","dangerouslySetInnerHTML","Repeater","addDefaultValue","addButtonText","reorderLabel","render","prependNewItems","showReorderControls","showActionButton","isReorderable","rows","setRows","tmp_defaultValue","Array","isArray","handleRemoveRow","index","new_rows","splice","rows_from_onChange","handleRowChange","_id","handleAddRow","parseInt","isNaN","hasOnlyOneRow","addButton","textAlign","addRowButton","marginBottom","onDragEnd","result","destination","source","list","startIndex","endIndex","from","removed","reorder","droppableId","isDropDisabled","provided","innerRef","droppableProps","subDefaultValue","draggableId","isDragDisabled","disableInteractiveElementBlocking","draggableProps","row","middleActions","trigger","inlineRowButton","form","dragHandleProps","actionButton","Item","setType","setTitle","link","setLink","active","setActive","handleChange_Type","handleChange_Text","handleChange_Link","toggle_Active","type_classname","chooseTypeScreen","itemSettingsRow","itemSettingsRowLeft","active_toggle_wrapper","Visibility","active_toggle_icon","VisibilityOff","form_active","form_deactivated","src","icon_link","icon_title","icon_notes","uuidv4","marginTop","repeater_props","InputWithLocal_props","width","Items","addIds","array","delay","time","setTimeout","useParams","loadingContent","setLoadingContent","canEdit","setCanEdit","savingMessage","setSavingMessage","useAs","setUseAs","handleUseAsChange","layout","setLayout","handleLayoutChange","handleChange_Title","description","setDescription","permissionsDefault","useMemo","permissions","setPermissions","handleChange_Permissions","p","unshift","viewPermission","setViewPermission","coverphoto","setCoverphoto","imprintOverwrite","setImprintOverwrite","privacyPolicyOverwrite","setPrivacyPolicyOverwrite","setRedirect","setItems","handleChange_Items","overwrites","imprint","privacy_policy","viewPermissionTmp","handleSave","permissionsTmp","message","viewStatistics","click","whiteSpace","icon_qr_code","icon_assessment","icon_publish","editor_form","layoutDefault","layoutPerson","height","ratio","volt_bonn_thumb","welcome_to_volt_thumb","plakatschlange_thumb","aktion_thumb","alt","editor","menuRouteMatch","useRouteMatch","selected_route","params","loginLogoutButton","new_selected","open","encodeURIComponent","location","toString","app","path","Shortcode","_supportedLocales_","_defaultLocale_","fetchMessages","default","messages","FluentResource","createMessagesGenerator","all","fetched","reduce","obj","cur","assign","generateBundles","bundle","FluentBundle","addResource","f","AppLocalizationProvider","onLocaleChange","ReactLocalization","getDefaultBundles","bundles","setBundles","new_bundles","loadBundles","AppLanguageWrapper","navigator","languages","setUserLocales","currentLocale","setCurrentLocale","umami","systemLocales","language","trackEvent","handleLanguageChange","handleCurrentLocalesChange","onLanguageChange","frontend","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b09c70b4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"Editor_editor__2hX0g\",\"loadingContent\":\"Editor_loadingContent__2fqdK\",\"item\":\"Editor_item__3sX2B\",\"chooseTypeScreen\":\"Editor_chooseTypeScreen__3G3o8\",\"itemSettingsRow\":\"Editor_itemSettingsRow__2Z6Xh\",\"itemSettingsRowLeft\":\"Editor_itemSettingsRowLeft__235UR\",\"active_toggle_wrapper\":\"Editor_active_toggle_wrapper__3tPCG\",\"ion_toggle\":\"Editor_ion_toggle__2lGcG\",\"active_label\":\"Editor_active_label__3qS1e\",\"form_deactivated\":\"Editor_form_deactivated__2bH62\",\"form_active\":\"Editor_form_active__3nax4\",\"active_toggle_icon\":\"Editor_active_toggle_icon__O5fBq\",\"active\":\"Editor_active__mXNFR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Repeater_row__1ODoF\",\"middleActions\":\"Repeater_middleActions__3nRoT\",\"trigger\":\"Repeater_trigger__1VtG5\",\"content\":\"Repeater_content__110R9\",\"form\":\"Repeater_form__2N6kw\",\"item\":\"Repeater_item__2OI78\",\"inlineRowButton\":\"Repeater_inlineRowButton__uqk8Y\",\"addRowButton\":\"Repeater_addRowButton__3huSP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\",\"headerBar\":\"Header_headerBar__2YU41\",\"notificationBanner\":\"Header_notificationBanner__104SP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chooserInput\":\"Chooser_chooserInput__JXUde\",\"hideSubmitButton\":\"Chooser_hideSubmitButton__5jsIt\",\"domainPrefix\":\"Chooser_domainPrefix__2HRVV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Shortcode_input__Av6rm\",\"hideSubmitButton\":\"Shortcode_hideSubmitButton__mbXgB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rebuild_textarea\":\"HtmlInput_rebuild_textarea__2u8XW\",\"show_placeholder\":\"HtmlInput_show_placeholder__3tbxN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3hbGO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FancyInput_error__2dhxG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input_with_local\":\"InputWithLocal_input_with_local__gnKLu\"};","var map = {\n\t\"./de.ftl\": [\n\t\t74,\n\t\t3\n\t],\n\t\"./en.ftl\": [\n\t\t75,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 72;\nmodule.exports = webpackAsyncContext;","import React from 'react'\nimport {\n  Localized as LocalizedOriginal,\n  // withLocalization,\n} from '@fluent/react'\nimport { negotiateLanguages } from '@fluent/langneg'\n\nimport { FluentContext } from '../../node_modules/@fluent/react/esm/context.js'\n\nconst Localized = props => (\n  <LocalizedOriginal\n    key={props.id}\n    {...props}\n    elems={{\n      br: <br />,\n      ...props.elems,\n    }}\n  >\n    <React.Fragment>{props.children}</React.Fragment>\n  </LocalizedOriginal>\n)\n\n// A custom withLocalization to have an empty fallback.\n// It is nearly identical to the original.\nfunction withLocalization(Inner) {\n  function WithLocalization(props) {\n    const l10n = React.useContext(FluentContext)\n\n    const getString = (id, args, fallback) => l10n.getString(id, args, fallback || ' ')\n\n    const fluentByObject = (object, fallback) => {\n      if (!(!!fallback)) {\n        fallback = null\n      }\n\n      if (!!object) {\n        const globalSupportedLocales = l10n.supportedLocales || []\n        const thisSupportedLocales = Object.keys(object).filter(locale => globalSupportedLocales.includes(locale))\n\n        const currentLocales = negotiateLanguages(\n          l10n.userLocales,\n          thisSupportedLocales,\n          { defaultLocale: l10n.defaultLocale }\n        )\n\n        for (const locale of currentLocales) {\n          if (!!object[locale]) {\n            return object[locale]\n          }\n        }\n\n        return fallback\n      }\n\n      return fallback\n    }\n\n    return React.createElement(Inner, { fluentByObject, getString, ...props })\n  }\n  return WithLocalization\n}\n\nexport {\n  withLocalization,\n  Localized,\n  Localized as default,\n}\n\n/*\n\nimport { Localized, withLocalization } from '../Localized/'\n\n<Localized id=\"translation_id\" />\nexport default withLocalization(componentName)\n\n\nimport Localized from '../Localized/'\n<Localized id=\"translation_id\" />\n\nimport { withLocalization } from '@fluent/react'\nexport default withLocalization(componentName)\n\n*/\n","import { useState, useEffect } from 'react'\n\nexport default function useUser(forceRefetch = false) {\n  const [user, setUser] = useState({})\n  const [loggedIn, setLoggedIn] = useState(false)\n\n  useEffect(() => {\n    if (forceRefetch !== true && window.hasOwnProperty('useUser_user') && window.hasOwnProperty('useUser_loggedIn')) {\n      setUser(window.useUser_user)\n      setLoggedIn(window.useUser_loggedIn)\n    }else{\n      fetch(`${window.domains.backend}user.json`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then(response => response.json())\n        .then(data => {\n          if (\n            !!data\n            && !!data.user\n            && !!data.user.id\n            && !!data.user.status\n          ) {\n            data.user.username = (!!data.user.email ? data.user.email || '' : '').split('@')[0]\n\n            window.useUser_user = data.user\n            window.useUser_loggedIn = true\n            setUser(data.user)\n            setLoggedIn(true)\n          } else {\n            window.useUser_user = {}\n            window.useUser_loggedIn = false\n            setUser({})\n            setLoggedIn(false)\n          }\n        })\n        .catch(error => console.error(error))\n    }\n  }, [forceRefetch, setUser, setLoggedIn])\n\n  return [user, loggedIn]\n}\n","import classes from './Header.module.css'\n\nexport default function Header({ title, rightActions, notificationBanner }) {\n  return <header className={classes.header}>\n    <div className={classes.headerBar}>\n      <h2>{title}</h2>\n      {rightActions}\n    </div>\n    {\n      !!notificationBanner\n        ? <div className={classes.notificationBanner}>{notificationBanner}</div>\n        : null\n    }\n  </header>\n}\n","import { useEffect } from 'react'\n\nexport default function useKeyPress(keys, callback) {\n  useEffect(() => {\n    function onKeyup(event) {\n      if (keys.includes(event.key)) {\n        callback(event)\n      }\n    }\n    window.addEventListener('keyup', onKeyup)\n    return () => window.removeEventListener('keyup', onKeyup)\n  }, [keys, callback])\n}\n","import { Fragment, useState, useCallback, useEffect } from 'react'\nimport classes from './Chooser.module.css'\n\nimport { Link, useHistory } from 'react-router-dom'\n\nimport { withLocalization, Localized } from '../fluent/Localized.js'\nimport useKeyPress from '../hooks/useKeyPress.js'\nimport useUser from '../hooks/useUser.js'\nimport Header from '../components/Header.js'\n\nfunction Chooser({ getString, rightHeaderActions }) {\n  const [user, ] = useUser()\n  const username = user.username || ''\n  const user_editable_links = (user.editable || [])\n  const [userPageAlreadyExists, setUserPageAlreadyExists] = useState(null)\n\n  const history = useHistory()\n  const [forbidden, setForbidden] = useState({})\n  const [value, setValue] = useState('')\n  const [alreadyExists, setAlreadyExists] = useState(null)\n  const [error, setError] = useState('')\n\n  useKeyPress(['Enter'], () => {\n    history.push(`/edit/${value}`)\n  })\n\n  const handleCheckIfPathExists = useCallback(event => {\n    const newValue = (event.target.value || '').toLowerCase()\n    setValue(newValue)\n\n    const forbidden_letters = (forbidden.letters || '').split('')\n    const newValue_split = (newValue || '').split('')\n    const forbidden_letters_filtered = forbidden_letters.filter(value => !newValue_split.includes(value))\n\n    const forbidden_codes = forbidden.codes || []\n    const value_is_a_forbidden_code = forbidden_codes.includes(newValue)\n\n    if (value_is_a_forbidden_code) {\n      setAlreadyExists(null)\n      setError('This path is not allowed.')\n    } else if (forbidden_letters_filtered.length < forbidden_letters.length) {\n      setAlreadyExists(null)\n      setError('This path contains forbidden characters.')\n    } else if (newValue.startsWith('volt')) {\n      setAlreadyExists(null)\n      setError('A path can\\'t start with \"volt\".')\n    } else if (newValue === '') {\n      setAlreadyExists(null)\n      setError('')\n    } else {\n      setError('')\n      fetch(`${window.domains.backend}quickcheck/${newValue}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then(response => response.json())\n        .then(data => {\n          if (data.allowed === false) {\n            setAlreadyExists(null)\n            setError('You are not allowed to edit this code.')\n          } else {\n            if (data.exists === true) {\n              setAlreadyExists(true)\n              setError('')\n            } else if (newValue_split.includes('.')) {\n              setAlreadyExists(null)\n              setError('Codes with a dot are restricted to people. Please contact thomas.rosen@volteuropa.org to use volt.link for your Volt Account.')\n            } else {\n              setAlreadyExists(false)\n              setError('')\n            }\n          }\n        })\n        .catch(error => {\n          console.error(error)\n          setAlreadyExists(false)\n        })\n    }\n  }, [setValue, setAlreadyExists, forbidden.letters, forbidden.codes])\n\n  useEffect(() => {\n    fetch(`${window.domains.backend}forbidden_codes/`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then(response => response.json())\n      .then(data => {\n        setForbidden(data)\n      })\n      .catch(error => {\n        console.error(error)\n        setForbidden({})\n      })\n  }, [setForbidden])\n\n  useEffect(() => {\n    const newValue = (username || '').toLowerCase()\n\n    if (newValue !== '') {\n      fetch(`${window.domains.backend}quickcheck/${newValue}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then(response => response.json())\n        .then(data => {\n          if (data.allowed === false) {\n            setUserPageAlreadyExists(null)\n          } else {\n            if (data.exists === true) {\n              setUserPageAlreadyExists(true)\n            } else {\n              setUserPageAlreadyExists(false)\n            }\n          }\n        })\n        .catch(error => {\n          console.error(error)\n          setUserPageAlreadyExists(false)\n        })\n    } else {\n      setUserPageAlreadyExists(null)\n    }\n  }, [username, setUserPageAlreadyExists])\n\n  return <div>\n    <Header\n      title={<Localized id=\"chooser_header_title\" />}\n      rightActions={rightHeaderActions || null}\n    />\n\n    {\n      username !== ''\n        ? <>\n          <h2><Localized id={userPageAlreadyExists === true ? 'edit_user_page_headline' : 'create_user_page_headline'} /></h2>\n          <p><Localized id={userPageAlreadyExists === true ? 'edit_user_page_info' : 'create_user_page_info'} /></p>\n          <Link to={`/edit/${username}`}>\n            <button style={{ marginLeft: '0', marginRight: '0' }}>\n              <Localized\n                id={userPageAlreadyExists === true ? 'edit_user_page_button' : 'create_user_page_button'}\n                vars={{ username }}\n              />\n            </button>\n          </Link>\n          <br />\n          <br />\n        </>\n        : null\n    }\n    <h2><Localized id=\"chooser_any_link_headline\" /></h2>\n    <p><Localized id=\"chooser_any_link_info\" /></p>\n\n    <div className={`${classes.chooserInput} ${alreadyExists === null ? classes.hideSubmitButton : ''}`}>\n      <p className={classes.domainPrefix}>volt.link/</p>\n      <input type=\"text\" placeholder={getString('type_a_path')} onChange={handleCheckIfPathExists}/>\n      {\n        alreadyExists === null\n          ? null\n          : <Link to={`/edit/${value}`}>\n              <button className=\"green\">\n              {alreadyExists ? getString('edit_path_button') : getString('create_path_button')}\n              </button>\n            </Link>\n      }\n    </div>\n    {\n      error !== ''\n        ? <>\n          <h3 className=\"red\"><Localized id=\"headline_errors\" /></h3>\n          <p>{error}</p>\n        </>\n        : null\n    }\n\n    {\n      user_editable_links.length > 0\n        ? <>\n          <br />\n          <div className=\"buttonRow usesLinks\">\n            {user_editable_links.map(content => <a key={content.slug} href={`/edit/${content.slug}`}><button>{content.slug}</button></a>)}\n          </div>\n        </>\n        : null\n    }\n\n    <br />\n    <hr />\n\n    <h2>Restrictions</h2>\n    <ul>\n      <li>These letters are not allowed: <code>{forbidden.letters ||''}</code> (And of course: Don't use whitespace!)</li>\n      <li>\n        These paths are not allowed: {\n          (forbidden.codes || [])\n          .filter(code => !code.includes('/') && !code.includes('.'))\n          .flatMap(code => [<code key={code}>{code}</code>, <Fragment key={code+'separator'}>, </Fragment>])\n          .slice(0, -1)\n        }\n      </li>\n      <li>The dot (<code>.</code>) is used for Volt Accounts.</li>\n    </ul>\n\n    <h2>Best Practices</h2>\n\n    <h3>General</h3>\n    <ul>\n      <li>Keep it short!</li>\n      <li>Seperate words with hyphens (<code>-</code>). This makes it readable by humans and parsable by search engines. (Try not to use underscores (<code>_</code>). Your favorite search provider will thank you :D)</li>\n      <li>It is not important if you use upper- or lower-case letters.</li>\n      <li>Use letters people can type. The less international characters the better.</li>\n      <li>\n        <span role=\"img\" aria-label=\"EU-flag-emoji\"></span> Emojis are possible. But like before. Use them sparingly and check if others can type and see them on their device.<br/>\n        <a href=\"https://emojipedia.org/emoji-11.0/\" target=\"_blank\" rel=\"noopener noreferrer\">Emoji 11</a> and earlier should be okay.<br/>\n        And better don't mix emojis and normals letters.\n      </li>\n    </ul>\n\n    <h3>City Teams</h3>\n    <p>Use the name of your city team without the Volt prefix or a common international name.</p>\n    <p>If two cities have the same name, add your country's <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes\" target=\"_blank\" rel=\"noopener noreferrer\">two letter shortcode</a> before it (eg: <code className=\"filled\">de-bonn</code>).</p>\n    <p>Use the full city/state/team name if possible. Not everybody knows the abbreviation. But keep it short.</p>\n    <p>Example:</p>\n    <ul>\n      <li>Volt Bonn  <code className=\"filled\">bonn</code></li>\n      <li>Volt Kln  <code className=\"filled\">kln</code> or <code className=\"filled\">cologne</code></li>\n    </ul>\n\n    <h3>Personal Pages</h3>\n    <p>The link of your personal page should match your Volt Europa account.</p>\n    <p>We want to look professional, so please don't use your socialmedia handle.</p>\n    <p>We are a lot of people in Volt. People with the same first or lastname exist. To prevent name collisions, use your Volt Account username. (The part before the @ sign.)</p>\n    <p>Examples for \"Thomas Rosen\":</p>\n    <ul>\n      <li>Do  <code className=\"filled\">thomas.rosen</code></li>\n      <li>Don't  <code className=\"filled\">thomas_rosen_official_123</code>, <code className=\"filled\">thomas</code> or <code className=\"filled\">rosen</code></li>\n    </ul>\n\n    <h3>Redirects</h3>\n    <p>There are three options of naming redirects:</p>\n    <ul>\n      <li>random letters or words (<code className=\"filled\">123abc</code>),</li>\n      <li>words describing the redirect content (<code className=\"filled\">de-events</code>) and</li>\n      <li>words describing where the redirect content is used (<code className=\"filled\">flyer-bonn</code>).</li>\n    </ul>\n    <p>Use a random text or describe where the redirect is used if you'll change the link in the future.</p>\n\n    <h3>Translation</h3>\n    <p>You can provide translations for text for these langues:</p>\n    <ul>\n      <li>English</li>\n      <li>Deutsch</li>\n      <li>Espaol</li>\n      <li>Francais</li>\n      <li>Italiano</li>\n      <li>Nederlands</li>\n      <li>Portugues</li>\n    </ul>\n    <p>Contact <a href=\"mailto:thomas.rosen@volteuropa.org\">Thomas</a> for more languages. We'll add more as needed. {/*(We're aspecially interested in people speaking Arabic.)*/}</p>\n\n    <h3>Email Addresses</h3>\n    <p>You can of course link to email addresses.</p>\n    <p>But like you write <code className=\"filled\">https://</code> before normal links, you need to write <code className=\"filled\">mailto:</code> before email addresses.</p>\n    <p>Examples:</p>\n    <ul>\n      <li>bonn@voltdeutschland.org  <code className=\"filled\">mailto:bonn@voltdeutschland.org</code></li>\n    </ul>\n\n    <h3>Legal</h3>\n    <p>The default imprint is the one from Volt Europa. You can change it to the correct link of your chapter.</p>\n\n    <h3>Statistics</h3>\n    <p>As with the whole volt.link project, the statistics are currently in beta.</p>\n\n    <h3>Deletion</h3>\n    <p>Links can't be deleted as nobody likes to scan a QR-Code, just to receive an <a href=\"https://volt.link/error\">error page</a>.</p>\n    <p>But links can of course be reused. Contact <a href=\"mailto:thomas.rosen@volteuropa.org\">Thomas</a> if you need get access to a link.</p>\n  </div>\n}\n\nexport default withLocalization(Chooser)\n\n/*\n\n\n    <input\n      type=\"text\"\n      placeholder=\"title\"\n      style={{\n        marginRight: '0',\n        marginLeft: '0'\n      }}\n    />\n    <textarea\n      placeholder=\"description\"\n      style={{\n        marginRight: '0',\n        marginLeft: '0'\n      }}\n    />\n*/\n","import { useCallback } from 'react'\n\nconst url_regex = /^([A-Z0-9+-.]+:(?:\\/\\/)?)[\\w\\u00C0-\\u00FF_.-]+(?:\\.[\\w\\u00C0-\\u00FF_.-]+)+[\\w\\u00C0-\\u00FF_~:/?#[\\]!%$&'()@*+,;=.-]+$/gui\nconst email_regex = /^(?:(?:[^<>()[\\]\\\\.,;:\\s@\"]+(?:\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(?:\".+\"))@(?:(?:\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(?:(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,})\\.?)$/gui\nconst is_email_not_url_regex = /^[^:/]+@.+$/gui\n\nfunction UrlInput({ defaultValue, onChange, onError, ...props }) {\n  const handleTextChange = useCallback((event) => {\n    if (onChange ||onError) {\n      const value = event.target.value ||''\n      let isSubmittable = false\n      let error = ''\n\n      if (value !== '') {\n        const schema_parts = value.split(':')\n        const schema = schema_parts.shift()\n        const after_schema = schema_parts.join(':')\n\n        if (schema === 'tel') {\n          isSubmittable = true\n        } else if (schema === 'mailto' || value.match(is_email_not_url_regex)) {\n          if (after_schema.match(email_regex)) {\n            isSubmittable = true\n          } else {\n            error = 'invalid_mailto_url'\n          }\n        } else {\n          if (value.match(url_regex)) {\n            isSubmittable = true\n          } else {\n            error = 'invalid_url'\n          }\n        }\n      }\n\n      if (onChange) {\n        if (isSubmittable) {\n          onChange(value)\n        } else {\n          onChange('')\n        }\n      }\n\n      if (onError) {\n        onError(error)\n      }\n    }\n  }, [onChange, onError])\n\n  return <input\n    type=\"url\"\n    onChange={handleTextChange}\n    defaultValue={defaultValue}\n    {...props}\n  />\n}\n\nexport default UrlInput\n","import { useState } from 'react'\n\nimport { Localized } from '../fluent/Localized.js'\nimport classes from './FancyInput.module.css'\n\nfunction FancyInput({ children, className, ...props }) {\n  const [error, setError] = useState('')\n\n  return <div\n    {...props}\n  >\n    {children({ setError })}\n    {error ? <div className={classes.error}><Localized id={'error_'+error} /></div> : null}\n  </div>\n}\n\nexport default FancyInput\n","import React, { useState, useCallback } from 'react'\nimport classes from './Shortcode.module.css'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { withLocalization, Localized } from '../fluent/Localized.js'\nimport useKeyPress from '../hooks/useKeyPress.js'\nimport Header from '../components/Header.js'\nimport UrlInput from '../components/UrlInput.js'\nimport FancyInput from '../components/FancyInput.js'\n\nfunction Redirect({ getString, rightHeaderActions }) {\n  const history = useHistory()\n  const [redirectLink, setRedirectLink] = useState('')\n  const [isSubmittable, setIsSubmittable] = useState(false)\n  const [error, setError] = useState('')\n\n  useKeyPress(['Enter'], () => {\n    if (isSubmittable) {\n      generateRedirectLink()\n    }\n  })\n\n  const handleRedirectLink = useCallback(value => {\n    setRedirectLink(value)\n\n    if (value === '') {\n      setIsSubmittable(false)\n    } else {\n      setIsSubmittable(true)\n    }\n  }, [setRedirectLink, setIsSubmittable])\n\n  const generateRedirectLink = useCallback(() => {\n    if (isSubmittable) {\n      const data = {\n        use_as: 'redirect',\n        redirect: redirectLink,\n      }\n\n      fetch(`${window.domains.backend}set_redirect`, {\n        mode: 'cors',\n        credentials: 'include',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json;charset=utf-8'\n        },\n        body: JSON.stringify(data)\n      })\n        .then(r => r.json())\n        .then(async data => {\n          if (typeof data.error === 'string') {\n            console.error(data.error)\n            setError(data.error)\n          } else if (typeof data.code === 'string') {\n            history.push(`/edit/${data.code}`)\n          } else {\n            setError('Undefined Error. Please contact thomas.rosen@volteuropa.org')\n          }\n        })\n        .catch(async error => {\n          console.error(error)\n          setError(error)\n        })\n    }\n  }, [isSubmittable, redirectLink, history])\n\n  return <div>\n    <Header\n      title={<Localized id=\"create_shortcode_headline\" />}\n      rightActions={rightHeaderActions || null}\n    />\n\n    <p><Localized id=\"create_shortcode_info\" /></p>\n\n    <div className={`${classes.input} ${isSubmittable === true ? '' : classes.hideSubmitButton }`}>\n      <FancyInput\n        style={{ flexGrow: '1', display: 'flex', flexDirection: 'column' }}\n      >\n        {({ setError }) => (\n          <UrlInput\n            onError={setError}\n            placeholder={getString('create_shortcode_url_placeholder')}\n            onChange={handleRedirectLink}\n          />\n        )}\n      </FancyInput>\n      {\n        isSubmittable === true\n          ? <button className=\"green\" onClick={generateRedirectLink}>\n              <Localized id=\"create_shortcode_url_submit\" />\n            </button>\n          : null\n      }\n    </div>\n\n    {\n      error !== ''\n        ? <>\n          <h3 className=\"red\"><Localized id=\"headline_errors\" /></h3>\n          <p>{error}</p>\n        </>\n        : null\n    }\n  </div>\n}\n\nexport default withLocalization(Redirect)\n","export default __webpack_public_path__ + \"static/media/layout-default.e50ac204.svg\";","export default __webpack_public_path__ + \"static/media/layout-person.3608bb84.svg\";","export default __webpack_public_path__ + \"static/media/qr_code_24pd.b620c9c2.svg\";","export default __webpack_public_path__ + \"static/media/assessment_24dp.7a4e5a03.svg\";","export default __webpack_public_path__ + \"static/media/publish_24dp.ae37f206.svg\";","export default __webpack_public_path__ + \"static/media/link_24dp.282e3b25.svg\";","export default __webpack_public_path__ + \"static/media/title_24dp.316937bc.svg\";","export default __webpack_public_path__ + \"static/media/notes_24dp.f140f374.svg\";","export default __webpack_public_path__ + \"static/media/20200912_Plakatschlange_Koeln_Matteo Sant_Unione_011.3f9289d0.png\";","export default __webpack_public_path__ + \"static/media/Aktion.89c1bcdf.png\";","export default __webpack_public_path__ + \"static/media/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.6824f6ef.png\";","export default __webpack_public_path__ + \"static/media/Welcome-to-Volt.39e04eca.png\";","import { useState, useCallback, useEffect } from 'react'\n\nfunction MultiButton({ ariaLabel, items, defaultValue, onChange, style, className }) {\n  const [choosen, setChoosen] = useState()\n\n  useEffect(() => setChoosen(defaultValue), [defaultValue, setChoosen])\n\n  const handleClick = useCallback(event => {\n    const newValue = event.target.dataset.value\n    setChoosen(newValue)\n    if (onChange) {\n      onChange(newValue)\n    }\n  }, [setChoosen, onChange])\n\n  return <div\n    aria-label={ariaLabel}\n    className={'buttonRow ' + (className ||'')}\n    style={{\n      display: 'inline-block',\n      ...style\n    }}\n  >\n    {\n      items.map(item => {\n        const value = item.value\n        const title = item.title\n        const icon = item.icon || null\n        return <button\n          key={value+'_'+title}\n          className={`${choosen === value ? 'choosen' : ''} ${!!icon ? 'hasIcon' : ''}`}\n          onClick={handleClick}\n          data-value={value}\n        >\n          <span style={{pointerEvents: 'none'}}>\n            {!!icon ? icon : null}\n            {!!title ? <span style={{verticalAlign: 'middle'}}>{title}</span> : null}\n          </span>\n        </button>\n      })\n    }\n  </div>\n}\n\nexport default MultiButton\n","import { useState, useCallback, useRef } from 'react'\n\nimport classes from './InputWithLocal.module.css'\n\nlet locales = {\n  en: 'English',\n  de: 'Deutsch',\n  es: 'Espaol',\n  pt: 'Portugus',\n  fr: 'Franais',\n  it: 'Italiano',\n  nl: 'Nederlands', // Dutch\n  da: 'Dansk', // Danish\n  sv: 'Svenska', // Swedish\n  nb: 'Norsk bokml', // Norwegian\n  fi: 'Suomi', // Finish\n  mt: 'Malti', // Maltese\n  pl: 'Jzyk polski', // Polish\n  ru: ' ', // Russian\n  bg: ' ', // Bulgarian\n  tr: 'Trke',\n  ar: '', // Arabic\n  el: '', // Greek\n  ro: 'limba romn', // Romanian\n  sl: 'slovenina', // Slovenian\n  // uk: ' ', // Ukrainian\n  // cy: 'Cymraeg', // Welsh\n}\nlocales = Object.entries(locales)\n.map(([code, nativeName]) => ({code, nativeName}))\n\nfunction InputWithLocal({ reorderHandle, locale, defaultValue, children, style, onChange, className, ...props }) {\n  const wrapperDiv = useRef(null)\n\n  const [changedLocale, setChangedLocale] = useState(locale)\n  const [changedValue, setChangedValue] = useState(defaultValue)\n\n  const handleLocaleChange = useCallback((event) => {\n    setChangedLocale(event.target.value)\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = {\n        locale: event.target.value,\n        value: changedValue,\n      }\n      onChange({ target })\n    }\n  }, [setChangedLocale, onChange, changedValue])\n\n  const handleTextChange = useCallback((event_or_value) => {\n    let value = event_or_value\n    if (\n      !!event_or_value\n      && !!event_or_value.target\n      && !!event_or_value.target.value\n    ) {\n      value = event_or_value.target.value\n    }\n\n    setChangedValue(value)\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = {\n        locale: changedLocale,\n        value,\n      }\n      onChange({ target })\n    }\n  }, [setChangedValue, onChange, changedLocale])\n\n  return <div\n    className={classes.input_with_local+' '+className}\n    ref={wrapperDiv}\n    {...props}\n  >\n    <div\n      className=\"wrapped_select\"\n      placeholder={changedLocale.toUpperCase()}\n      style={{\n        margin: '0 var(--basis) 0 0',\n        flexShrink: 0,\n      }}\n    >\n      <select\n        onChange={handleLocaleChange}\n        defaultValue={locale}\n      >\n        {locales.map(({ code, nativeName }) => <option key={code} value={code}>{nativeName}</option>)}\n      </select>\n    </div>\n    {\n      !!children\n        ? children({\n          onChange: handleTextChange,\n          defaultValue: defaultValue,\n          style: {\n            flexGrow: '1',\n          }\n        })\n        : null\n    }\n  </div>\n}\n\nexport default InputWithLocal\n","import { useState, useCallback, useRef } from 'react'\n\nfunction PermissionInput({ reorderHandle, role, defaultValue, children, style, onChange, ariaLabel, placeholder, ...props }) {\n  const wrapperDiv = useRef(null)\n\n  const [changedRole, setChangedRole] = useState(role || 'editor')\n  const [changedValue, setChangedValue] = useState(defaultValue)\n\n  const handleRoleChange = useCallback((event) => {\n    setChangedRole(event.target.value)\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = {\n        role: event.target.value,\n        value: changedValue,\n      }\n      onChange({ target })\n    }\n  }, [setChangedRole, onChange, changedValue])\n\n  const handleTextChange = useCallback(value => {\n    setChangedValue(value)\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = {\n        role: changedRole,\n        value,\n      }\n      onChange({ target })\n    }\n  }, [setChangedValue, onChange, changedRole])\n\n  return <div\n    ref={wrapperDiv}\n    style={{\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'flex-start',\n      maxWidth: '100%',\n      ...style\n    }}\n    {...props}\n  >\n    {\n      !!children\n        ? children({\n          onChange: handleTextChange,\n          defaultValue: defaultValue,\n          style: {\n            flexGrow: '1',\n          }\n        })\n        : null\n    }\n    <select\n      onChange={handleRoleChange}\n      defaultValue={role}\n      style={{\n        margin: '0 0 0 var(--basis)',\n        display: 'none',\n      }}\n    >\n      <option key=\"editor\" value=\"editor\">Editor</option>\n      <option key=\"viewer\" value=\"viewer\">Viewer</option>\n    </select>\n  </div>\n}\n\nexport default PermissionInput\n","import { useCallback } from 'react'\n\nconst email_regex = /^(?:(?:[^<>()[\\]\\\\.,;:\\s@\"]+(?:\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(?:\".+\"))@(?:(?:\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(?:(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,})\\.?)$/gui\n\nfunction EmailInput({ defaultValue, onChange, onError, ...props }) {\n  const handleTextChange = useCallback((event) => {\n    if (onChange ||onError) {\n      const value = event.target.value ||''\n      let isSubmittable = false\n      let error = ''\n\n      if (value !== '') {\n        if (value.match(email_regex)) {\n          isSubmittable = true\n        } else {\n          error = 'invalid_email'\n        }\n      }\n\n      if (onChange) {\n        if (isSubmittable) {\n          onChange(value)\n        } else {\n          onChange('')\n        }\n      }\n\n      if (onError) {\n        onError(error)\n      }\n    }\n  }, [onChange, onError])\n\n  return <input\n    type=\"email\"\n    onChange={handleTextChange}\n    defaultValue={defaultValue}\n    {...props}\n  />\n}\n\nexport default EmailInput\n","import React, { useCallback, useRef, useState } from 'react'\n\nimport classes from './HtmlInput.module.css'\n\nfunction HtmlInput({ defaultValue, children, className, onChange, onError, linebreaks, ...props }) {\n  const fake_defaultValue = useRef({__html:\n    defaultValue\n    // .replace(/\\t/g, '&emsp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    // .replace(/\\n/g, '<br />')\n  })\n  const [text, setText] = useState(defaultValue)\n\n  const handleTextChange = useCallback((event) => {\n    try {\n      if (onChange) {\n        let value = (event.target.innerHTML || '')\n        // .replace(/&emsp;/g, '\\t')\n        .replace(/&lt;/g, '<')\n        .replace(/&gt;/g, '>')\n\n        if (linebreaks === false) {\n          value = value.replace(/<\\/? ?br ?\\/?>/g, ' ')\n        } else {\n          value = value.replace(/<\\/? ?br ?\\/?>/g, '\\n')\n        }\n\n        value = value.trim()\n\n        onChange(value)\n        setText(value)\n      }\n    } catch (error) {\n      if (onError) {\n        onError(error)\n      }\n    }\n  }, [onChange, onError, setText, linebreaks])\n\n  const addLineBreaks = useCallback(event => {\n    if (event.key === 'Enter') {\n      // source: StackOverflow (https://stackoverflow.com/a/61237402)\n      if (linebreaks !== false) {\n        document.execCommand('insertLineBreak')\n      }\n      event.preventDefault()\n    } else if (event.key === 'Tab') {\n      document.execCommand('insertText', false, '\\t')\n      event.preventDefault()\n    }\n  }, [linebreaks])\n\n  const handlePaste = useCallback(event => {\n    // only accept plain text\n\n    // cancel paste\n    event.preventDefault()\n\n    // get text representation of clipboard\n    let text = (event.originalEvent || event).clipboardData.getData('text/plain')\n\n    if (linebreaks === false) {\n      text = text.replace(/\\n/g, ' ')\n    }\n\n    // insert text manually\n    document.execCommand('insertText', false, text)\n  }, [linebreaks])\n\n  return <div\n    onKeyDown={addLineBreaks}\n    onInput={handleTextChange}\n    onPaste={handlePaste}\n    className={`${classes.rebuild_textarea} ${text.length === 0 ? classes.show_placeholder : ''} ${className}`}\n    contentEditable={true}\n    dangerouslySetInnerHTML={fake_defaultValue.current}\n    {...props}\n  />\n}\n\nexport default HtmlInput\n","import { useState, useCallback, useEffect } from 'react'\n\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd'\n\nimport classes from './Repeater.module.css'\n\nfunction reorder(list, startIndex, endIndex) {\n  const result = Array.from(list)\n  const [removed] = result.splice(startIndex, 1)\n  result.splice(endIndex, 0, removed)\n\n  return result\n}\n\nfunction Repeater({ defaultValue, addDefaultValue, addButtonText, reorderLabel = 'Reorder', render, style, onChange, prependNewItems, showReorderControls = true, showActionButton = true, isReorderable = false }) {\n  if (!(!!addButtonText)) {\n    addButtonText = 'Add Row'\n  }\n\n  const [rows, setRows] = useState([])\n\n  useEffect(() => {\n    let tmp_defaultValue = defaultValue\n    if (!Array.isArray(defaultValue) || defaultValue.length === 0) {\n      tmp_defaultValue = [addDefaultValue()]\n    }\n    setRows(tmp_defaultValue)\n  }, [defaultValue, addDefaultValue, setRows])\n\n  const handleRemoveRow = useCallback(event => {\n    const index = event.target.dataset.index\n    let new_rows = [...rows]\n    new_rows.splice(index, 1)\n    const rows_from_onChange = onChange(new_rows)\n    if (Array.isArray(rows_from_onChange)) {\n      new_rows = rows_from_onChange\n    }\n    setRows(new_rows)\n  }, [rows, setRows, onChange])\n\n  const handleRowChange = useCallback(event => {\n    const index = event.target.dataset.index\n    const _id = event.target.dataset.id\n    const newValue = event.target.value\n\n    const new_rows = [...rows]\n    if (typeof newValue !== 'object' || Array.isArray(newValue)) {\n      new_rows[index] = {\n        _id,\n        value: newValue\n      }\n    } else if (typeof newValue === 'object') {\n      new_rows[index] = {\n        _id,\n        ...newValue\n      }\n    }\n    setRows(new_rows)\n    onChange(new_rows)\n  }, [rows, setRows, onChange])\n\n  const handleAddRow = useCallback(event => {\n    const newValue = addDefaultValue()\n\n    let index = null\n    if (!!event.target.dataset.index) {\n      index = parseInt(event.target.dataset.index)\n      if (isNaN(index)) {\n        index = null\n      }\n    }\n\n    let new_rows = null\n    if (index !== null && index >= 0) {\n      new_rows = [...rows]\n      new_rows.splice(index, 0, newValue)\n    } else {\n      if (prependNewItems === true) {\n        new_rows = [newValue, ...rows]\n      } else {\n        new_rows = [...rows, newValue]\n      }\n    }\n\n    setRows(new_rows)\n    onChange(new_rows)\n  }, [rows, addDefaultValue, setRows, onChange, prependNewItems])\n\n  function onDragEnd(result) {\n    if (!result.destination) {\n      return\n    }\n\n    if (result.destination.index === result.source.index) {\n      return\n    }\n\n    const new_rows = reorder(\n      rows,\n      result.source.index,\n      result.destination.index\n    )\n    setRows(new_rows)\n    onChange(new_rows)\n  }\n\n  const hasOnlyOneRow = rows.length === 1\n\n  const addButton = <div style={{ textAlign: 'right' }}>\n    <button className={`green ${classes.addRowButton}`} onClick={handleAddRow}>{addButtonText}</button>\n  </div>\n\n  return <div style={style}>\n    {!hasOnlyOneRow && prependNewItems ? <div style={{ marginBottom: 'var(--basis)' }}>{addButton}</div> : null}\n\n    <DragDropContext onDragEnd={onDragEnd}>\n      <Droppable\n        droppableId=\"list\"\n        isDropDisabled={isReorderable === true ? false : true}\n      >\n        {provided => (\n          <div ref={provided.innerRef} {...provided.droppableProps}>\n            {\n              rows\n              .filter(subDefaultValue => subDefaultValue._id)\n              .map(\n                (subDefaultValue, index) => <Draggable\n                  key={subDefaultValue._id}\n                  draggableId={subDefaultValue._id}\n                  index={index}\n                  isDragDisabled={isReorderable === true ? false : true}\n                  disableInteractiveElementBlocking={true}\n                >\n                  {provided => (\n                    <div\n                      ref={provided.innerRef}\n                      {...provided.draggableProps}\n\n                      key={subDefaultValue._id}\n                      className={classes.row}\n                    >\n                      {\n                        index !== 0\n                        ? <div className={classes.middleActions}>\n                          <div className={classes.trigger}></div>\n                          <div className={classes.content}>\n                            <button className={`green ${classes.inlineRowButton}`} data-index={index} onClick={handleAddRow}>+</button>\n                          </div>\n                        </div>\n                        : null\n                      }\n\n                      <div className={classes.form}>\n                        {\n                          isReorderable === true && showReorderControls === true\n                            ? <button aria-label={reorderLabel} className={`text ${classes.inlineRowButton}`} {...provided.dragHandleProps}></button>\n                            : null\n                        }\n                        {\n                          render({\n                            key: subDefaultValue._id,\n                            defaultValue: subDefaultValue,\n                            className: classes.item,\n                            'data-index': index,\n                            'data-id': subDefaultValue._id,\n                            onChange: handleRowChange,\n                            reorderHandle: <button aria-label={reorderLabel} className={`text ${classes.inlineRowButton}`} {...provided.dragHandleProps}></button>,\n                            actionButton: (\n                          hasOnlyOneRow\n                            ? <button className={`green ${classes.inlineRowButton}`} onClick={handleAddRow}>+</button>\n                            : <button className={`red ${classes.inlineRowButton}`} data-index={index} onClick={handleRemoveRow}></button>\n                            )\n                          })\n                        }\n                        {\n                          showActionButton === true\n                          ? (\n                          hasOnlyOneRow\n                            ? <button className={`green ${classes.inlineRowButton}`} onClick={handleAddRow}>+</button>\n                            : <button className={`red ${classes.inlineRowButton}`} data-index={index} onClick={handleRemoveRow}></button>\n                          )\n                          : null\n                        }\n                      </div>\n                    </div>\n                  )}\n                </Draggable>\n              )\n            }\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </DragDropContext>\n\n    {!hasOnlyOneRow && !prependNewItems ? addButton : null}\n  </div>\n}\n\nexport default Repeater\n","import { useState, useCallback, useRef, useEffect, useMemo } from 'react'\n\nimport { v4 as uuidv4 } from 'uuid'\n\nimport {\n  useParams\n} from 'react-router-dom'\n\nimport { Visibility, VisibilityOff } from '@material-ui/icons'\n\nimport SVG from 'react-inlinesvg'\nimport layoutDefault from '../images/layout-default.svg'\nimport layoutPerson from '../images/layout-person.svg'\nimport icon_qr_code from '../images/qr_code_24pd.svg'\nimport icon_assessment from '../images/assessment_24dp.svg'\nimport icon_publish from '../images/publish_24dp.svg'\nimport icon_link from '../images/link_24dp.svg'\nimport icon_title from '../images/title_24dp.svg'\nimport icon_notes from '../images/notes_24dp.svg'\n\nimport plakatschlange_thumb from '../images/coverphotos/thumbs/20200912_Plakatschlange_Koeln_Matteo Sant_Unione_011.png'\nimport aktion_thumb from '../images/coverphotos/thumbs/Aktion.png'\nimport volt_bonn_thumb from '../images/coverphotos/thumbs/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.png'\nimport welcome_to_volt_thumb from '../images/coverphotos/thumbs/Welcome-to-Volt.png'\n\nimport classes from './Editor.module.css'\nimport { Localized, withLocalization } from '../fluent/Localized.js'\nimport useUser from '../hooks/useUser.js'\nimport Header from '../components/Header.js'\nimport MultiButton from '../components/MultiButton.js'\nimport InputWithLocal from '../components/InputWithLocal.js'\nimport PermissionInput from '../components/PermissionInput.js'\nimport UrlInput from '../components/UrlInput.js'\nimport EmailInput from '../components/EmailInput.js'\nimport HtmlInput from '../components/HtmlInput.js'\nimport FancyInput from '../components/FancyInput.js'\nimport Repeater from '../components/Repeater.js'\n\nfunction ItemRaw({ fluentByObject, getString, item, className, onChange, reorderHandle, actionButton, ...props }) {\n  const defaultLocale = getString('default_locale')\n\n  const wrapperDiv = useRef(null)\n\n  const [type, setType] = useState(item.type || null)\n  const [title, setTitle] = useState(item.title || [])\n  const [text, setText] = useState(item.text || [])\n  const [link, setLink] = useState(item.link || '')\n  const [active, setActive] = useState(item.active || true)\n\n  const handleChange_Type = useCallback(newValue => {\n    setType(newValue)\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = { type: newValue, title, text, link, active }\n      onChange({ target })\n    }\n  }, [setType, onChange, title, text, link, active])\n\n  const handleChange_Text = useCallback(rows => {\n    const newValue = rows\n      if (type === 'text') {\n    setText(newValue)\n      } else {\n        setTitle(newValue)\n      }\n\n    if (onChange) {\n      const target = wrapperDiv.current\n      if (type === 'text') {\n        target.value = { type, title, text: newValue, link, active }\n      } else {\n        target.value = { type, title: newValue, text, link, active }\n      }\n      onChange({ target })\n    }\n  }, [setText, setTitle, onChange, type, title, text, link, active])\n\n  const handleChange_Link = useCallback(newValue => {\n    setLink(newValue)\n\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = { type, title, text, link: newValue, active }\n      onChange({ target })\n    }\n  }, [setLink, onChange, type, title, text, active])\n\n  const toggle_Active = useCallback(() => {\n    const newValue = !active\n    setActive(newValue)\n\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = { type, title, text, link, active: newValue }\n      onChange({ target })\n    }\n  }, [setActive, onChange, type, title, text, link, active])\n\n  let type_classname = ''\n  switch (type) {\n    case 'text':\n      type_classname = 'type_text'\n      break\n    case 'headline':\n      type_classname = 'type_h2'\n      break\n    case 'headline3':\n      type_classname = 'type_h3'\n      break\n    case 'link':\n      type_classname = 'type_button'\n      break\n    default:\n      type_classname = 'type_text'\n  }\n\n  return <div\n    ref={wrapperDiv}\n    className={`${classes.item} ${!!type ? '' : classes.chooseTypeScreen} ${className}`}\n    {...props }\n  >\n    {\n      !!type\n        ? null\n        : <p style={{\n            marginBottom: 'var(--basis)'\n          }}><Localized id=\"path_editor_item_choose_type_label\" /></p>\n    }\n\n    <div className={classes.itemSettingsRow}>\n      <div className={classes.itemSettingsRowLeft}>\n      {reorderHandle}\n\n      {\n        !!type\n        ? <label className={classes.active_toggle_wrapper}>\n            <button onClick={toggle_Active} className={active ? 'text' : 'red'}>{\n              active\n                ? <><Visibility className={`${classes.active_toggle_icon} ${classes.active}`} /> <span className=\"hideOnSmallScreen\"><Localized id=\"path_editor_item_active\" /></span></>\n                : <><VisibilityOff className={classes.active_toggle_icon} /> <span className=\"hideOnSmallScreen\"><Localized id=\"path_editor_item_not_active\" /></span></>\n            }</button>\n          </label>\n        : null\n      }\n\n      <span className=\"hideOnSmallScreen\">\n        <MultiButton\n          className={active ? classes.form_active : classes.form_deactivated}\n          onChange={handleChange_Type}\n          ariaLabel=\"Use as\"\n          defaultValue={type}\n          items={[\n            { value: 'link', icon: <SVG src={icon_link} className=\"icon\" />, title: getString('path_editor_item_choose_type_value_link') },\n            { value: 'headline', icon: <SVG src={icon_title} className=\"icon\" />, title: getString('path_editor_item_choose_type_value_headline') },\n            // { value: 'headline3', title: getString('path_editor_item_choose_type_value_headline3') },\n            { value: 'text', icon: <SVG src={icon_notes} className=\"icon\" />, title: getString('path_editor_item_choose_type_value_text') }\n          ]}\n        />\n      </span>\n      <span className=\"hideOnBigScreen\">\n        <MultiButton\n          className={active ? classes.form_active : classes.form_deactivated}\n          onChange={handleChange_Type}\n          ariaLabel=\"Use as\"\n          defaultValue={type}\n          items={[\n            { value: 'link', icon: <SVG src={icon_link} className=\"icon\" /> },\n            { value: 'headline', icon: <SVG src={icon_title} className=\"icon\" /> },\n            // { value: 'headline3', title: getString('path_editor_item_choose_type_value_headline3') },\n            { value: 'text', icon: <SVG src={icon_notes} className=\"icon\" /> }\n          ]}\n        />\n      </span>\n      </div>\n\n      {actionButton}\n    </div>\n\n    <span className={active ? classes.form_active : classes.form_deactivated}>\n    {\n      !!type\n        ? <>\n          {\n            type === 'text'\n            ? <p><Localized id=\"path_editor_item_text_info\" /></p>\n            : null\n          }\n\n              <Repeater\n                onChange={handleChange_Text}\n                defaultValue={type === 'text' ? text : title}\n                addDefaultValue={() => ({ _id: uuidv4(), locale: defaultLocale, value: '' })}\n                addButtonText={getString('path_editor_add_translation')}\n                style={{\n                  marginTop: 'var(--basis_x2)'\n                }}\n                render={\n                  ({ defaultValue, ...repeater_props }) => {\n                    const locale = defaultValue.locale\n                    const value = defaultValue.value\n                    return <InputWithLocal\n                      locale={locale}\n                      defaultValue={value}\n                      style={{\n                        maxWidth: 'calc(100% - calc(var(--basis_x4) + var(--basis_x2)))',\n                      }}\n                      {...repeater_props}\n                    >\n                      {\n                        InputWithLocal_props => <HtmlInput\n                          placeholder={\n                            type === 'text'\n                            ? getString('path_editor_item_text_label')\n                            : getString('path_editor_item_title_label')\n                          }\n                          {...InputWithLocal_props}\n                          style={{ ...InputWithLocal_props.style, margin: '0' }}\n                          linebreaks={ type === 'text' }\n                          className={type_classname}\n                        />\n                      }\n                    </InputWithLocal>\n                  }\n                }\n              />\n\n          {\n            type === 'link'\n              ? <FancyInput>\n                {({ setError }) => (\n                  <UrlInput\n                    onError={setError}\n                    onChange={handleChange_Link}\n                    type=\"text\"\n                    defaultValue={link}\n                    placeholder={getString('path_editor_item_link_label')}\n                    style={{\n                      marginRight: '0',\n                      marginBottom: '0',\n                      marginLeft: '0',\n                      width: 'calc(100% - var(--basis_x2))',\n                    }}\n                  />\n                )}\n              </FancyInput>\n              : null\n          }\n        </>\n        : null\n    }\n    </span>\n  </div>\n}\nconst Item = withLocalization(ItemRaw)\n\nfunction ItemsRaw({ getString, defaultValue, onChange }){\n  const items = defaultValue\n\n  return <Repeater\n    onChange={onChange}\n    defaultValue={items}\n    addDefaultValue={() => ({ _id: uuidv4(), type: null, title: [], link: '', active: true })}\n    addButtonText={getString('path_editor_add_row')}\n    reorderLabel={getString('path_editor_reorder')}\n    prependNewItems={true}\n    isReorderable={true}\n    showReorderControls={false}\n    showActionButton={false}\n    render={\n      ({ defaultValue, ...repeater_props }) => {\n        return <Item\n          item={defaultValue}\n          {...repeater_props}\n        />\n      }\n    }\n  />\n}\nconst Items = withLocalization(ItemsRaw)\n\nfunction addIds(array){\n  if (Array.isArray(array)) {\n    return array.map(item => {\n      if (!item.hasOwnProperty('_id')) {\n        item._id = uuidv4()\n      }\n      return item\n    })\n  }\n  return array\n}\n\nfunction delay(time) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, time)\n  })\n}\n\nfunction Editor({ getString }) {\n  const defaultLocale = getString('default_locale')\n\n  const { code } = useParams()\n  const [{email = ''} = {}] = useUser() || []\n\n  const [loadingContent, setLoadingContent] = useState(true)\n  const [canEdit, setCanEdit] = useState(true)\n  const [savingMessage, setSavingMessage] = useState(null)\n\n  const [useAs, setUseAs] = useState('')\n  const handleUseAsChange = useCallback(newValue => setUseAs(newValue), [setUseAs])\n\n  const [layout, setLayout] = useState('')\n  const handleLayoutChange = useCallback(newValue => setLayout(newValue), [setLayout])\n\n  const [title, setTitle] = useState([])\n  const handleChange_Title = useCallback(rows => setTitle(rows), [setTitle])\n\n  const [description, setDescription] = useState([])\n\n  const permissionsDefault = useMemo(() => (\n      typeof email === 'string' && email.length > 0\n      ? [{ _id: uuidv4(), value: email, role: 'editor' }, { _id: uuidv4(), value: '', role: 'editor' }]\n      : []\n  ), [email])\n  const [permissions, setPermissions] = useState(permissionsDefault)\n  const handleChange_Permissions = useCallback(rows => {\n    const filled_rows_length = rows\n      .filter(p =>\n        p.value !== ''\n        && p.value !== '@volteuropa.org'\n        && (!p.role || p.role === 'editor')\n      )\n      .length\n\n    if (filled_rows_length === 0) {\n      rows.unshift({ _id: uuidv4(), value: email, role: 'editor' })\n    }\n\n    setPermissions(rows)\n    return rows\n  }, [setPermissions, email])\n\n  const [viewPermission, setViewPermission] = useState(permissionsDefault)\n\n  const [coverphoto, setCoverphoto] = useState('')\n  const [imprintOverwrite, setImprintOverwrite] = useState('')\n  const [privacyPolicyOverwrite, setPrivacyPolicyOverwrite] = useState('')\n  const [redirect, setRedirect] = useState('')\n\n  const [items, setItems] = useState([])\n  const handleChange_Items = useCallback(rows => setItems(rows), [setItems])\n\n  useEffect(() => {\n    setCanEdit(true)\n    setLoadingContent(true)\n\n    fetch(`${window.domains.backend}get/${code}`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then(response => response.json())\n      .then(data => {\n        if (typeof data.error === 'string') {\n          if (data.error === 'no_edit_permission') {\n            setLoadingContent(false)\n            setCanEdit(false)\n          }\n        }else{\n          let {\n            use_as: useAs = '',\n            layout = (code.includes('.') ? 'person' : 'default'),\n            title = [],\n            description = [],\n            permissions = permissionsDefault,\n            redirect = '',\n            coverphoto = '',\n            overwrites = {},\n            items = [],\n          } = data\n\n          const {\n            imprint = '',\n            privacy_policy = ''\n          } = overwrites\n\n          title = addIds(title)\n          description = addIds(description)\n          items = items.map(item => {\n            if (!item.hasOwnProperty('_id')) {\n              item._id = uuidv4()\n            }\n            if (item.hasOwnProperty('title')) {\n              item.title = addIds(item.title)\n            }\n            if (item.hasOwnProperty('description')) {\n              item.description = addIds(item.description)\n            }\n            return item\n          })\n\n          let viewPermissionTmp = permissions.filter(p => p.role === 'viewer')\n          viewPermissionTmp = viewPermissionTmp.length > 0 ? viewPermissionTmp[0].value : ''\n\n          setUseAs(useAs)\n          setLayout(layout)\n          setTitle(title)\n          setDescription(description)\n          setPermissions(permissions.filter(p => p.value !== '' && p.value !== '@volteuropa.org'))\n          setViewPermission(viewPermissionTmp)\n          setRedirect(redirect)\n          setCoverphoto(coverphoto)\n          setImprintOverwrite(imprint)\n          setPrivacyPolicyOverwrite(privacy_policy)\n          setItems(items)\n          setLoadingContent(false)\n        }\n      })\n      .catch(error => console.error(error))\n  }, [\n    setLoadingContent,\n    setCanEdit,\n    code,\n    permissionsDefault,\n    setUseAs,\n    setLayout,\n    setTitle,\n    setDescription,\n    setPermissions,\n    setRedirect,\n    setCoverphoto,\n    setImprintOverwrite,\n    setPrivacyPolicyOverwrite,\n    setItems\n  ])\n\n  const handleSave = useCallback(() => {\n    setSavingMessage(getString('path_editor_status_started_saving'))\n\n    const permissionsTmp = [\n      ...permissions,\n      ...(viewPermission !== '' ? [{ _id: uuidv4(), value: viewPermission, role: 'viewer'}] : [])\n    ]\n\n    const data = {\n      use_as: useAs,\n      layout,\n      title,\n      description,\n      permissions: permissionsTmp,\n      coverphoto,\n      redirect,\n      overwrites: {\n        imprint: imprintOverwrite,\n        privacy_policy: privacyPolicyOverwrite\n      },\n      items\n    }\n\n    fetch(`${window.domains.backend}set/${code}`, {\n      mode: 'cors',\n      credentials: 'include',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(r => r.json())\n      .then(async data => {\n        await delay(500)\n        if (typeof data.error === 'string') {\n          if (data.error === 'no_edit_permission') {\n            setSavingMessage(getString('path_editor_edit_permission_error'))\n            await delay(2000)\n            setSavingMessage(null)\n          } else {\n            setSavingMessage(data.error)\n            await delay(2000)\n            setSavingMessage(null)\n          }\n        } else {\n          setSavingMessage(getString('path_editor_status_saved'))\n          await delay(2000)\n          setSavingMessage(null)\n        }\n      })\n      .catch(async error => {\n        console.error(error)\n        await delay(500)\n        setSavingMessage(getString('path_editor_status_error_while_saving', {\n          error: error.message\n        }))\n      })\n  }, [\n    getString,\n    code,\n    useAs,\n    layout,\n    redirect,\n    title,\n    description,\n    permissions,\n    viewPermission,\n    items,\n    coverphoto,\n    imprintOverwrite,\n    privacyPolicyOverwrite\n  ])\n\n  const viewStatistics = useCallback(()=>{\n    const a = document.createElement('a')\n    a.href = `https://umami.qiekub.org/share/s0ZHBZbb/volt.link?url=%2F${code}`\n    a.target = '_blank'\n    a.rel = 'noreferrer'\n    a.click()\n  }, [code])\n\n  const gotoQrcodePage = () => {\n    const a = document.createElement('a')\n    a.href = `https://qrcode.volt.link/?c=https://volt.link/${code}`\n    a.target = '_blank'\n    a.rel = 'noreferrer'\n    a.click()\n  }\n\n  const rightHeaderActions = <div className=\"buttonRow\" style={{ whiteSpace: 'nowrap' }}>\n    {/* <button className=\"text\"><Localized id=\"path_editor_share\"/></button> */}\n    <button className=\"text hasIcon\" onClick={gotoQrcodePage}>\n      <span style={{pointerEvents: 'none'}}>\n        <SVG src={icon_qr_code} className=\"icon\" />\n        <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}><Localized id=\"path_editor_qrcode\" /></span>\n      </span>\n    </button>\n    <button className=\"text hasIcon\" onClick={viewStatistics}>\n      <span style={{pointerEvents: 'none'}}>\n        <SVG src={icon_assessment} className=\"icon\" />\n        <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}><Localized id=\"path_editor_statistics\" /></span>\n      </span>\n    </button>\n    <button className=\"green hasIcon\" onClick={handleSave}>\n      <span style={{pointerEvents: 'none'}}>\n        <SVG src={icon_publish} className=\"icon\" />\n        <span style={{verticalAlign: 'middle'}}><Localized id=\"path_editor_save\" /></span>\n      </span>\n    </button>\n  </div>\n\n  const editor_form = <>\n    <h3><Localized id=\"path_editor_title_label\" /></h3>\n    <Repeater\n      onChange={handleChange_Title}\n      defaultValue={title}\n      addDefaultValue={() => ({ _id: uuidv4(), locale: defaultLocale, value: '' })}\n      addButtonText={getString('path_editor_add_translation')}\n      render={\n        ({ defaultValue, ...repeater_props }) => {\n          const locale = defaultValue.locale\n          const value = defaultValue.value\n          return <InputWithLocal\n            locale={locale}\n            defaultValue={value}\n            style={{\n              maxWidth: 'calc(100% - calc(var(--basis_x4) + var(--basis_x2)))',\n            }}\n            {...repeater_props}\n          >\n            {InputWithLocal_props => <input\n              aria-label={getString('path_editor_title_label')}\n              type=\"text\"\n              placeholder={getString('path_editor_title_placeholder')}\n              {...InputWithLocal_props}\n              style={{\n                ...InputWithLocal_props.style,\n                margin: '0',\n              }}\n            />}\n          </InputWithLocal>\n        }\n      }\n    />\n    <br />\n    <h3><Localized id=\"path_editor_description_label\" /></h3>\n    <Repeater\n      onChange={setDescription}\n      defaultValue={description}\n      addDefaultValue={() => ({ _id: uuidv4(), locale: defaultLocale, value: '' })}\n      addButtonText={getString('path_editor_add_translation')}\n      render={\n        ({ defaultValue, ...repeater_props }) => {\n          const locale = defaultValue.locale\n          const value = defaultValue.value\n          return <InputWithLocal\n            locale={locale}\n            defaultValue={value}\n            style={{\n              maxWidth: 'calc(100% - calc(var(--basis_x4) + var(--basis_x2)))',\n            }}\n            {...repeater_props}\n          >\n            {InputWithLocal_props => <HtmlInput\n              aria-label={getString('path_editor_description_label')}\n              placeholder={getString('path_editor_description_placeholder')}\n              {...InputWithLocal_props}\n              style={{\n                ...InputWithLocal_props.style,\n                margin: '0',\n              }}\n            />}\n          </InputWithLocal>\n        }\n      }\n    />\n\n    <br />\n    <h3><Localized id=\"path_editor_permissions_view_label\" /></h3>\n    <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}><Localized id=\"path_editor_permissions_view_info\" /></em>\n    <MultiButton\n      onChange={setViewPermission}\n      ariaLabel={getString('path_editor_permissions_view_label')}\n      defaultValue={viewPermission}\n      items={[\n        { value: '', title: getString('path_editor_permissions_view_public') },\n        { value: '@volteuropa.org', title: getString('path_editor_permissions_view_volteuropa') },\n      ]}\n    />\n\n    <br />\n    <br />\n    <h3><Localized id=\"path_editor_permissions_edit_label\" /></h3>\n    <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}><Localized id=\"path_editor_permissions_edit_info\" /></em>\n    <Repeater\n      onChange={handleChange_Permissions}\n      defaultValue={permissions}\n      addDefaultValue={() => ({ _id: uuidv4(), value: '', role: 'editor' })}\n      addButtonText={getString('path_editor_permissions_edit_add_button_label')}\n      render={\n        ({ defaultValue, ...repeater_props }) => {\n          const role = defaultValue.role\n          const value = defaultValue.value\n          return <PermissionInput\n              role={role}\n              defaultValue={value}\n              style={{\n                maxWidth: 'calc(100% - calc(var(--basis_x4) + var(--basis_x2)))',\n                margin: '0',\n              }}\n              {...repeater_props}\n            >\n              {InputWithLocal_props => <FancyInput \n                    style={{ ...InputWithLocal_props.style, display: 'flex', flexDirection: 'column' }}\n                >\n                {({ setError }) => (\n                  <EmailInput\n                    onError={setError}\n                    aria-label={getString('path_editor_permissions_edit_label')}\n                    placeholder={getString('path_editor_permissions_edit_placeholder')}\n                    {...InputWithLocal_props}\n                    style={{ flexGrow: '1', margin: '0' }}\n                  />\n                )}\n              </FancyInput>}\n            </PermissionInput>\n        }\n      }\n    />\n\n    <br />\n    <h3><Localized id=\"path_editor_use_as_label\" /></h3>\n    <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}><Localized id=\"path_editor_use_as_info\" /></em>\n    <MultiButton\n      onChange={handleUseAsChange}\n      ariaLabel={getString('path_editor_use_as_label')}\n      defaultValue={useAs}\n      items={[\n        { value: 'redirect', title: getString('path_editor_use_as_value_redirect') },\n        { value: 'linklist', title: getString('path_editor_use_as_value_linklist') },\n        { value: '', title: getString('path_editor_use_as_value_nothing') }\n      ]}\n    />\n\n    <br />\n    <br />\n\n    {\n      useAs === 'linklist'\n        ? <>\n          <h3><Localized id=\"path_editor_layout_label\" /></h3>\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}><Localized id=\"path_editor_layout_info\" /></em>\n          <MultiButton\n            onChange={handleLayoutChange}\n            ariaLabel={getString('path_editor_layout_label')}\n            defaultValue={layout}\n            items={[\n              {\n                value: 'default',\n                title: getString('path_editor_layout_value_default'),\n                icon: <SVG src={layoutDefault} className=\"icon big\" />\n              },\n              {\n                value: 'person',\n                title: getString('path_editor_layout_value_person'),\n                icon: <SVG src={layoutPerson} className=\"icon big\" />\n              },\n            ]}\n          />\n          <br />\n          <br />\n\n          <h3><Localized id=\"path_editor_coverphoto_label\" /></h3>\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}>\n            <Localized id=\"path_editor_coverphoto_info\" vars={{\n              width: layout === 'person' ? '400px' : '1200px',\n              height: layout === 'person' ? '400px' : '400px',\n              ratio: layout === 'person' ? '1/1' : '3/1',\n            }}/>\n          </em>\n          <FancyInput>\n            {({ setError }) => (\n              <UrlInput\n                onError={setError}\n                onChange={setCoverphoto}\n                value={coverphoto}\n                type=\"text\"\n                placeholder={getString('path_editor_coverphoto_placeholder')}\n                aria-label={getString('path_editor_coverphoto_label')}\n                style={{\n                  marginRight: '0',\n                  marginLeft: '0',\n                  width: 'calc(100% - var(--basis_x2))'\n                }}\n              />\n            )}\n          </FancyInput>\n          {\n            layout !== 'person'\n              ? <>\n                <MultiButton\n                  onChange={setCoverphoto}\n                  ariaLabel={getString('path_editor_coverphoto_label')}\n                  defaultValue={coverphoto}\n                  items={[\n                    {\n                      value: '',\n                      title: 'No Coverphoto', // getString('path_editor_layout_value_default'),\n                    },\n                    ...[\n                      {\n                        value: 'https://assets.volteuropa.org/styles/scale_2880x/public/inline-images/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.jpg',\n                        icon: volt_bonn_thumb,\n                      },\n                      {\n                        value: 'https://assets.volteuropa.org/styles/scale_1920x/public/2020-11/Welcome-to-Volt.jpg',\n                        icon: welcome_to_volt_thumb,\n                      },\n                      {\n                        value: 'https://assets.volteuropa.org/styles/scale_1920x/public/2021-07/20200912_Plakatschlange_Ko%CC%88ln_Matteo%20Sant_Unione_011.jpeg',\n                        icon: plakatschlange_thumb,\n                      },\n                      {\n                        value: 'https://assets.volteuropa.org/styles/scale_1920x/public/2021-05/Aktion.jpeg',\n                        icon: aktion_thumb,\n                      },\n                      // 'https://www.volteuropa.org/stripes/hero-desktop-green.jpg',\n                      // 'https://www.volteuropa.org/stripes/hero-desktop-red.jpg',\n                      // 'https://www.volteuropa.org/stripes/hero-desktop-blue.jpg',\n                      // 'https://www.volteuropa.org/stripes/hero-desktop-yellow.jpg',\n                      // 'https://assets.volteuropa.org/styles/scale_1920x/public/2021-05/Colours-Background-Big.jpeg',\n                      // 'https://www.volteuropa.org/stripes/intermediate-green.jpg',\n                      // 'https://www.volteuropa.org/stripes/intermediate-red.jpg',\n                      // 'https://www.volteuropa.org/stripes/intermediate-blue.jpg',\n                      // 'https://www.volteuropa.org/stripes/intermediate-yellow.jpg',\n                      // 'https://www.volteuropa.org/og-default.png',\n                      // 'https://www.volteuropa.org/hero-default.jpg',\n                    ]\n                    .map(({value = '', icon = ''}) => ({\n                      value,\n                      icon: <img alt=\"\" src={icon} className=\"icon image\" />\n                    }))\n                  ]}\n                />\n                <br />\n              </>\n              : null\n          }\n          <br />\n\n          <h3><Localized id=\"path_editor_imprint_overwrite_label\" /></h3>\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}>\n            <Localized id=\"path_editor_imprint_overwrite_info\" />\n          </em>\n          <FancyInput>\n            {({ setError }) => (\n              <UrlInput\n                onError={setError}\n                onChange={setImprintOverwrite}\n                defaultValue={imprintOverwrite}\n                type=\"text\"\n                placeholder={getString('path_editor_imprint_overwrite_placeholder')}\n                aria-label={getString('path_editor_imprint_overwrite_label')}\n                style={{\n                  marginRight: '0',\n                  marginLeft: '0',\n                  width: 'calc(100% - var(--basis_x2))'\n                }}\n              />\n            )}\n          </FancyInput>\n\n          <br />\n          <h3><Localized id=\"path_editor_privacy_policy_overwrite_label\" /></h3>\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}>\n            <Localized id=\"path_editor_privacy_policy_overwrite_info\" />\n          </em>\n          <FancyInput>\n            {({ setError }) => (\n              <UrlInput\n                onError={setError}\n                onChange={setPrivacyPolicyOverwrite}\n                defaultValue={privacyPolicyOverwrite}\n                type=\"text\"\n                placeholder={getString('path_editor_privacy_policy_overwrite_placeholder')}\n                aria-label={getString('path_editor_privacy_policy_overwrite_label')}\n                style={{\n                  marginRight: '0',\n                  marginLeft: '0',\n                  width: 'calc(100% - var(--basis_x2))'\n                }}\n              />\n            )}\n          </FancyInput>\n\n          <br />\n          <br />\n          <Items\n            onChange={handleChange_Items}\n            defaultValue={items}\n          />\n          <br />\n          <br />\n        </>\n        : (\n          useAs === 'redirect'\n            ? <>\n              <h3><Localized id=\"path_editor_redirect_label\" /></h3>\n              <FancyInput>\n                {({ setError }) => (\n                  <UrlInput\n                    onError={setError}\n                    onChange={setRedirect}\n                    type=\"text\"\n                    placeholder={getString('path_editor_redirect_placeholder')}\n                    aria-label={getString('path_editor_redirect_label')}\n                    defaultValue={redirect}\n                    style={{\n                      marginRight: '0',\n                      marginLeft: '0',\n                      width: 'calc(100% - var(--basis_x2))'\n                    }}\n                  />\n                )}\n              </FancyInput>\n              <br />\n              <br />\n            </>\n            : null\n        )\n    }\n    </>\n\n  return <div\n    className={`hasHeader ${classes.editor} ${loadingContent ? classes.loadingContent : ''}`}\n  >\n    <Header\n      title={<a href={`https://volt.link/${code}`} target=\"_blank\" rel=\"noopener noreferrer\"><span className=\"hideOnSmallScreen\">volt.link</span>/{code}</a>}\n      rightActions={canEdit ? rightHeaderActions : null}\n      notificationBanner={\n        savingMessage === null\n          ? null\n          : <p style={{ textAlign: 'center' }}>{savingMessage}</p>\n      }\n    />\n\n    {\n      canEdit\n        ? editor_form\n        : <p style={{ marginTop: 'var(--basis)' }}><Localized id=\"path_editor_edit_permission_error\" /></p>\n    }\n  </div>\n}\n\nexport default withLocalization(Editor)\n","import classes from './App.module.css'\n\nimport {\n  Switch,\n  Route,\n  useRouteMatch,\n} from 'react-router-dom'\n\nimport { withLocalization } from '../fluent/Localized.js'\nimport { useHistory } from 'react-router-dom'\n\nimport Localized from '../fluent/Localized.js'\nimport useUser from '../hooks/useUser.js'\nimport Header from '../components/Header.js'\nimport Chooser from './Chooser.js'\nimport Shortcode from './Shortcode.js'\nimport Editor from './Editor.js'\n\nimport MultiButton from '../components/MultiButton.js'\n\nfunction App({ getString }) {\n  const [, loggedIn] = useUser()\n\n  const history = useHistory()\n  const menuRouteMatch = useRouteMatch(\"/:slug\")\n  const selected_route = menuRouteMatch ? menuRouteMatch.params.slug :''\n\n  const handleMenu = new_selected => {\n    switch (new_selected) {\n      case 'shortcode':\n        history.push('/shortcode')\n        break\n      case 'list':\n        window.open(`${window.domains.backend}list`,'_blank')\n        break\n      default:\n        history.push('/')\n    }\n  }\n\n  const loginLogoutButton = (\n    loggedIn\n      ? <>\n        <MultiButton\n          onChange={handleMenu}\n          ariaLabel={getString('main_menu')}\n          defaultValue={selected_route}\n          items={[\n            { value: '', title: getString('menu_micropages') },\n            { value: 'shortcode', title: getString('menu_url_shortener') },\n            { value: 'list', title: getString('menu_list') },\n          ]}\n        />\n        <a href={`${window.domains.backend}logout?redirect_to=${encodeURIComponent(window.location.toString())}`}>\n          <button className=\"red\" style={{ marginRight: '0' }}><Localized id=\"logout\"/></button>\n        </a>\n      </>\n      : <a href={`${window.domains.backend}login?redirect_to=${encodeURIComponent(window.location.toString())}`}>\n        <button style={{ marginRight: '0' }}><Localized id=\"login\"/></button>\n      </a>\n  )\n\n  return (<>\n    <div className={classes.app}>\n      {\n        !loggedIn\n          ? <div>\n            <Header\n              title=\"edit.volt.link\"\n              rightActions={loginLogoutButton}\n            />\n            <p><Localized id=\"login_prompt\"/></p>\n          </div>\n          : <>\n              <Switch>\n                <Route path=\"/edit/:code\">\n                  <Editor />\n                </Route>\n                <Route path=\"/shortcode\">\n                  <Shortcode rightHeaderActions={loginLogoutButton} />\n                </Route>\n                <Route path=\"/\">\n                  <Chooser rightHeaderActions={loginLogoutButton} />\n                </Route>\n              </Switch>\n            </>\n      }\n    </div>\n    <footer>\n      <a href=\"mailto:thomas.rosen@volteuropa.org\"><Localized id=\"contact\" /></a>\n      &nbsp;  &nbsp;\n      <a href=\"https://github.com/voltbonn/edit.volt.link\" target=\"_blank\" rel=\"noopener noreferrer\"><Localized id=\"source_code\" /></a>\n    </footer>\n  </>)\n}\n\nexport default withLocalization(App)\n","import React, { useEffect, useState } from 'react'\n\n// https://projectfluent.org/play/\n\n// import { LocalizationProvider, Localized } from '@fluent/react' // '@fluent/react/compat'\nimport { ReactLocalization, LocalizationProvider } from '@fluent/react'\nimport { FluentBundle, FluentResource } from '@fluent/bundle'\nimport { negotiateLanguages } from '@fluent/langneg'\n\n\nexport const locales = {\n  de: 'Deutsch',\n  en: 'English',\n  // es: 'Espaol',\n  // pt: 'Portugus',\n  // fr: 'Franais',\n  // it: 'Italiano',\n  // nl: 'Dutch',\n  // pl: 'Polska',\n  // ru: 'P',\n}\n\nconst _supportedLocales_ = Object.keys(locales)\nconst _defaultLocale_ = 'en'\n\n\nasync function fetchMessages(locale) {\n  const path = await import('../locales/' + locale + '.ftl')\n\n  const response = await fetch(path.default)\n  const messages = await response.text()\n\n  return { [locale]: new FluentResource(messages) }\n}\n\nfunction getDefaultBundles() {\n  const bundle = new FluentBundle('')\n  bundle.addResource(new FluentResource(''))\n  return new ReactLocalization([bundle])\n}\n\nasync function createMessagesGenerator(currentLocales) {\n  const fetched = await Promise.all(\n    currentLocales.map(fetchMessages)\n  )\n  const messages = fetched.reduce(\n    (obj, cur) => Object.assign(obj, cur)\n  )\n\n  return function* generateBundles() {\n    for (const locale of currentLocales) {\n      const bundle = new FluentBundle(locale)\n      bundle.addResource(messages[locale])\n      yield bundle\n    }\n  }\n}\n\nexport function AppLocalizationProvider({ userLocales, children, onLocaleChange }) {\n  const [bundles, setBundles] = useState(getDefaultBundles())\n\n  useEffect(() => {\n    async function loadBundles() {\n      const currentLocales = negotiateLanguages(\n        userLocales,\n        _supportedLocales_,\n        { defaultLocale: _defaultLocale_ }\n      )\n\n      if (!!onLocaleChange) {\n        onLocaleChange(currentLocales)\n      }\n\n      const generateBundles = await createMessagesGenerator(currentLocales)\n\n      const new_bundles = new ReactLocalization(generateBundles())\n      new_bundles.userLocales = userLocales\n      new_bundles.defaultLocale = _defaultLocale_\n      new_bundles.supportedLocales = _supportedLocales_\n      setBundles(new_bundles)\n    }\n    loadBundles()\n  }, [userLocales, onLocaleChange])\n\n  if (!bundles) {\n    // Show a loader.\n    return <div>Loading texts</div>\n  }\n\n  return <LocalizationProvider l10n={bundles}>\n    {children}\n  </LocalizationProvider>\n}\n\n","import React, { useState, useEffect, useCallback } from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './pages/App.js'\n// import reportWebVitals from './reportWebVitals'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport 'intl-pluralrules'\nimport { AppLocalizationProvider, locales } from './fluent/l10n.js'\n\nwindow.domains = {\n  frontend: 'https://edit.volt.link',\n  // frontend: 'http://localhost:3000/',\n  backend: 'https://volt.link/',\n  // backend: 'http://localhost:4000/',\n}\n\nfunction AppLanguageWrapper() {\n  // const [userLocales, setUserLocales] = useState(['de'])\n  const [userLocales, setUserLocales] = useState(navigator.languages)\n  const [currentLocale, setCurrentLocale] = useState(null)\n\n  useEffect(() => {\n    if (!!window.umami) {\n      let systemLocales = navigator.languages\n      if (!!systemLocales || Array.isArray(systemLocales)) {\n        for (let locale of systemLocales) {\n          locale = locale.toLowerCase() // Not really correct but the system locales sadly don't conform to the standard.\n\n          const language = locale.split('-')[0]\n          if (language !== locale) {\n            window.umami.trackEvent('L: ' + language) // Log just the language.\n          }\n          window.umami.trackEvent('L: ' + locale) // Log the full locale.\n        }\n      }\n    }\n  }, [])\n\n  const handleLanguageChange = useCallback(event => {\n    setUserLocales([event.target.dataset.locale])\n  }, [setUserLocales])\n\n  const handleCurrentLocalesChange = useCallback(currentLocales => {\n    setCurrentLocale(currentLocales.length > 0 ? currentLocales[0] : '')\n  }, [setCurrentLocale])\n\n  return <AppLocalizationProvider\n    key=\"AppLocalizationProvider\"\n    userLocales={userLocales}\n    onLocaleChange={handleCurrentLocalesChange}\n  >\n    <App locales={locales} currentLocale={currentLocale} onLanguageChange={handleLanguageChange} />\n  </AppLocalizationProvider>\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <AppLanguageWrapper />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals()\n"],"sourceRoot":""}