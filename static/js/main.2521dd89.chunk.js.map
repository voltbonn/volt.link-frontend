{"version":3,"sources":["pages/App.module.css","components/FancyInput.module.css","components/InputWithLocal.module.css","locales lazy /^/.//.*/.ftl$/ groupOptions: {} namespace object","fluent/Localized.js","hooks/useUser.js","components/Header.js","hooks/useKeyPress.js","pages/Chooser.js","components/UrlInput.js","components/FancyInput.js","pages/Shortcode.js","images/layout-default.svg","images/layout-person.svg","images/qr_code_24pd.svg","images/assessment_24dp.svg","images/publish_24dp.svg","images/coverphotos/thumbs/20200912_Plakatschlange_Koeln_Matteo Sant_Unione_011.png","images/coverphotos/thumbs/Aktion.png","images/coverphotos/thumbs/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.png","images/coverphotos/thumbs/Welcome-to-Volt.png","components/MultiButton.js","components/PermissionInput.js","components/EmailInput.js","components/HtmlInput.js","components/Repeater.js","components/InputWithLocal.js","components/TranslationRepeater.js","components/EditorBlock.js","pages/Editor.js","pages/App.js","fluent/l10n.js","index.js","components/Repeater.module.css","pages/Editor.module.css","components/EditorBlock.module.css","components/Header.module.css","pages/Chooser.module.css","pages/Shortcode.module.css","components/HtmlInput.module.css"],"names":["module","exports","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","Localized","props","elems","br","Fragment","children","withLocalization","Inner","l10n","React","useContext","FluentContext","createElement","fluentByObject","object","fallback","globalSupportedLocales","supportedLocales","thisSupportedLocales","filter","locale","includes","currentLocales","negotiateLanguages","userLocales","defaultLocale","getString","args","useUser","forceRefetch","useState","user","setUser","loggedIn","setLoggedIn","useEffect","window","hasOwnProperty","useUser_user","useUser_loggedIn","fetch","domains","backend","mode","credentials","response","json","data","status","username","email","split","catch","error","console","Header","title","rightActions","notificationBanner","className","classes","header","headerBar","useKeyPress","callback","onKeyup","event","key","addEventListener","removeEventListener","rightHeaderActions","user_editable_links","editable","userPageAlreadyExists","setUserPageAlreadyExists","history","useHistory","forbidden","setForbidden","value","setValue","alreadyExists","setAlreadyExists","setError","push","handleCheckIfPathExists","useCallback","newValue","target","toLowerCase","forbidden_letters","letters","newValue_split","forbidden_letters_filtered","codes","length","startsWith","allowed","exists","to","style","marginLeft","marginRight","vars","chooserInput","hideSubmitButton","domainPrefix","type","placeholder","onChange","content","slug","replace","href","flatMap","slice","role","rel","url_regex","email_regex","is_email_not_url_regex","UrlInput","defaultValue","onError","handleTextChange","isSubmittable","schema_parts","schema","shift","after_schema","join","match","FancyInput","redirectLink","setRedirectLink","setIsSubmittable","generateRedirectLink","handleRedirectLink","use_as","redirect","method","headers","body","JSON","stringify","r","a","input","flexGrow","display","flexDirection","onClick","MultiButton","ariaLabel","items","choosen","setChoosen","handleClick","dataset","item","icon","pointerEvents","verticalAlign","PermissionInput","reorderHandle","actionButton","wrapperDiv","useRef","changedRole","setChangedRole","changedValue","setChangedValue","handleRoleChange","current","ref","alignItems","maxWidth","margin","EmailInput","HtmlInput","linebreaks","fake_defaultValue","__html","text","setText","innerHTML","trim","addLineBreaks","document","execCommand","preventDefault","handlePaste","originalEvent","clipboardData","getData","onKeyDown","onInput","onPaste","rebuild_textarea","show_placeholder","contentEditable","dangerouslySetInnerHTML","Row","subDefaultValue","index","render","handleRowChange","isReorderable","handleAddRow","handleRemoveRow","showReorderControls","reorderLabel","showActionButton","hasOnlyOneRow","draggableId","_id","isDragDisabled","disableInteractiveElementBlocking","shouldRespectForcePress","provided","innerRef","draggableProps","row","middleActions","trigger","inlineRowButton","form","dragHandleProps","onRemoveRow","getIndex","eventOrIndex","parseInt","isNaN","Repeater","addDefaultValue","addButtonText","prependNewItems","rows","setRows","tmp_defaultValue","Array","isArray","new_rows","splice","rows_from_onChange","addButton","textAlign","addRowButton","marginBottom","onDragEnd","result","destination","source","list","startIndex","endIndex","from","removed","reorder","droppableId","isDropDisabled","droppableProps","locales","en","de","es","pt","fr","it","nl","da","sv","nb","fi","mt","pl","ru","bg","tr","ar","el","ro","sl","entries","nativeName","InputWithLocal","changedLocale","setChangedLocale","handleLocaleChange","event_or_value","input_with_local","toUpperCase","flexShrink","TranslationRepeater","repeater_props","InputWithLocal_props","RowMenu","handleChange_Type","toggle_Active","active","closeMenu","rest","Menu","MenuListProps","width","List","marginTop","ListSubheader","whiteSpace","background","lineHeight","padding","Link","Title","Notes","option","MenuItem","selected","ListItemIcon","ListItemText","Divider","opacity","VisibilityOff","Visibility","Delete","Close","EditorBlock","setType","setTitle","link","setLink","setActive","handleChange_Text","handleChange_Link","type_classname","block","chooseTypeScreen","form_active","form_deactivated","itemSettingsRow","itemSettingsRowLeft","variant","popupId","popupState","bindTrigger","cursor","KeyboardArrowDown","bindMenu","close","uuidv4","Items","addIds","array","delay","time","setTimeout","useParams","loadingContent","setLoadingContent","canEdit","setCanEdit","savingMessage","setSavingMessage","useAs","setUseAs","layout","setLayout","description","setDescription","name","voltTeamInfos","setVoltTeamInfos","permissionsDefault","useMemo","permissions","setPermissions","handleChange_Permissions","p","unshift","viewPermission","setViewPermission","coverphoto","setCoverphoto","imprintOverwrite","setImprintOverwrite","privacyPolicyOverwrite","setPrivacyPolicyOverwrite","setRedirect","setItems","handleChange_Items","volt_team","overwrites","imprint","privacy_policy","viewPermissionTmp","handleSave","permissionsTmp","message","viewStatistics","click","src","icon_qr_code","icon_assessment","icon_publish","editor_form","editor_form_row","layoutDefault","layoutPerson","height","ratio","volt_bonn_thumb","welcome_to_volt_thumb","plakatschlange_thumb","aktion_thumb","alt","editor","prefersDarkMode","useMediaQuery","theme","createTheme","palette","menuRouteMatch","useRouteMatch","selected_route","params","loginLogoutButton","new_selected","open","encodeURIComponent","location","toString","ThemeProvider","app","path","Shortcode","_supportedLocales_","_defaultLocale_","fetchMessages","default","messages","FluentResource","createMessagesGenerator","all","fetched","reduce","obj","cur","assign","generateBundles","bundle","FluentBundle","addResource","f","AppLocalizationProvider","onLocaleChange","ReactLocalization","getDefaultBundles","bundles","setBundles","new_bundles","loadBundles","AppLanguageWrapper","navigator","languages","setUserLocales","currentLocale","setCurrentLocale","umami","systemLocales","language","trackEvent","handleLanguageChange","handleCurrentLocalesChange","onLanguageChange","frontend","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2521dd89.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3hbGO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FancyInput_error__2dhxG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input_with_local\":\"InputWithLocal_input_with_local__gnKLu\"};","var map = {\n\t\"./de.ftl\": [\n\t\t160,\n\t\t3\n\t],\n\t\"./en.ftl\": [\n\t\t161,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 154;\nmodule.exports = webpackAsyncContext;","import React from 'react'\nimport {\n  Localized as LocalizedOriginal,\n  // withLocalization,\n} from '@fluent/react'\nimport { negotiateLanguages } from '@fluent/langneg'\n\nimport { FluentContext } from '../../node_modules/@fluent/react/esm/context.js'\n\nconst Localized = props => (\n  <LocalizedOriginal\n    key={props.id}\n    {...props}\n    elems={{\n      br: <br />,\n      ...props.elems,\n    }}\n  >\n    <React.Fragment>{props.children}</React.Fragment>\n  </LocalizedOriginal>\n)\n\n// A custom withLocalization to have an empty fallback.\n// It is nearly identical to the original.\nfunction withLocalization(Inner) {\n  function WithLocalization(props) {\n    const l10n = React.useContext(FluentContext)\n\n    const getString = (id, args, fallback) => l10n.getString(id, args, fallback || ' ')\n\n    const fluentByObject = (object, fallback) => {\n      if (!(!!fallback)) {\n        fallback = null\n      }\n\n      if (!!object) {\n        const globalSupportedLocales = l10n.supportedLocales || []\n        const thisSupportedLocales = Object.keys(object).filter(locale => globalSupportedLocales.includes(locale))\n\n        const currentLocales = negotiateLanguages(\n          l10n.userLocales,\n          thisSupportedLocales,\n          { defaultLocale: l10n.defaultLocale }\n        )\n\n        for (const locale of currentLocales) {\n          if (!!object[locale]) {\n            return object[locale]\n          }\n        }\n\n        return fallback\n      }\n\n      return fallback\n    }\n\n    return React.createElement(Inner, { fluentByObject, getString, ...props })\n  }\n  return WithLocalization\n}\n\nexport {\n  withLocalization,\n  Localized,\n  Localized as default,\n}\n\n/*\n\nimport { Localized, withLocalization } from '../Localized/'\n\n<Localized id=\"translation_id\" />\nexport default withLocalization(componentName)\n\n\nimport Localized from '../Localized/'\n<Localized id=\"translation_id\" />\n\nimport { withLocalization } from '@fluent/react'\nexport default withLocalization(componentName)\n\n*/\n","import { useState, useEffect } from 'react'\n\nexport default function useUser(forceRefetch = false) {\n  const [user, setUser] = useState({})\n  const [loggedIn, setLoggedIn] = useState(false)\n\n  useEffect(() => {\n    if (forceRefetch !== true && window.hasOwnProperty('useUser_user') && window.hasOwnProperty('useUser_loggedIn')) {\n      setUser(window.useUser_user)\n      setLoggedIn(window.useUser_loggedIn)\n    }else{\n      fetch(`${window.domains.backend}user.json`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then(response => response.json())\n        .then(data => {\n          if (\n            !!data\n            && !!data.user\n            && !!data.user.id\n            && !!data.user.status\n          ) {\n            data.user.username = (!!data.user.email ? data.user.email || '' : '').split('@')[0]\n\n            window.useUser_user = data.user\n            window.useUser_loggedIn = true\n            setUser(data.user)\n            setLoggedIn(true)\n          } else {\n            window.useUser_user = {}\n            window.useUser_loggedIn = false\n            setUser({})\n            setLoggedIn(false)\n          }\n        })\n        .catch(error => console.error(error))\n    }\n  }, [forceRefetch, setUser, setLoggedIn])\n\n  return [user, loggedIn]\n}\n","import classes from './Header.module.css'\n\nexport default function Header({ title, rightActions, notificationBanner }) {\n  return <header className={classes.header}>\n    <div className={classes.headerBar}>\n      <h2>{title}</h2>\n      {rightActions}\n    </div>\n    {\n      !!notificationBanner\n        ? <div className={classes.notificationBanner}>{notificationBanner}</div>\n        : null\n    }\n  </header>\n}\n","import { useEffect } from 'react'\n\nexport default function useKeyPress(keys, callback) {\n  useEffect(() => {\n    function onKeyup(event) {\n      if (keys.includes(event.key)) {\n        callback(event)\n      }\n    }\n    window.addEventListener('keyup', onKeyup)\n    return () => window.removeEventListener('keyup', onKeyup)\n  }, [keys, callback])\n}\n","import { Fragment, useState, useCallback, useEffect } from 'react'\nimport classes from './Chooser.module.css'\n\nimport { Link, useHistory } from 'react-router-dom'\n\nimport { withLocalization, Localized } from '../fluent/Localized.js'\nimport useKeyPress from '../hooks/useKeyPress.js'\nimport useUser from '../hooks/useUser.js'\nimport Header from '../components/Header.js'\n\nfunction Chooser({ getString, rightHeaderActions }) {\n  const [user, ] = useUser()\n  const username = user.username || ''\n  const user_editable_links = (user.editable || [])\n  const [userPageAlreadyExists, setUserPageAlreadyExists] = useState(null)\n\n  const history = useHistory()\n  const [forbidden, setForbidden] = useState({})\n  const [value, setValue] = useState('')\n  const [alreadyExists, setAlreadyExists] = useState(null)\n  const [error, setError] = useState('')\n\n  useKeyPress(['Enter'], () => {\n    history.push(`/edit/${value}`)\n  })\n\n  const handleCheckIfPathExists = useCallback(event => {\n    const newValue = (event.target.value || '').toLowerCase()\n    setValue(newValue)\n\n    const forbidden_letters = (forbidden.letters || '').split('')\n    const newValue_split = (newValue || '').split('')\n    const forbidden_letters_filtered = forbidden_letters.filter(value => !newValue_split.includes(value))\n\n    const forbidden_codes = forbidden.codes || []\n    const value_is_a_forbidden_code = forbidden_codes.includes(newValue)\n\n    if (value_is_a_forbidden_code) {\n      setAlreadyExists(null)\n      setError('This path is not allowed.')\n    } else if (forbidden_letters_filtered.length < forbidden_letters.length) {\n      setAlreadyExists(null)\n      setError('This path contains forbidden characters.')\n    } else if (newValue.startsWith('volt')) {\n      setAlreadyExists(null)\n      setError('A path can\\'t start with \"volt\".')\n    } else if (newValue === '') {\n      setAlreadyExists(null)\n      setError('')\n    } else {\n      setError('')\n      fetch(`${window.domains.backend}quickcheck/${newValue}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then(response => response.json())\n        .then(data => {\n          if (data.allowed === false) {\n            setAlreadyExists(null)\n            setError('You are not allowed to edit this code.')\n          } else {\n            if (data.exists === true) {\n              setAlreadyExists(true)\n              setError('')\n            } else if (newValue_split.includes('.')) {\n              setAlreadyExists(null)\n              setError('Codes with a dot are restricted to people. Please contact thomas.rosen@volteuropa.org to use volt.link for your Volt Account.')\n            } else {\n              setAlreadyExists(false)\n              setError('')\n            }\n          }\n        })\n        .catch(error => {\n          console.error(error)\n          setAlreadyExists(false)\n        })\n    }\n  }, [setValue, setAlreadyExists, forbidden.letters, forbidden.codes])\n\n  useEffect(() => {\n    fetch(`${window.domains.backend}forbidden_codes/`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then(response => response.json())\n      .then(data => {\n        setForbidden(data)\n      })\n      .catch(error => {\n        console.error(error)\n        setForbidden({})\n      })\n  }, [setForbidden])\n\n  useEffect(() => {\n    const newValue = (username || '').toLowerCase()\n\n    if (newValue !== '') {\n      fetch(`${window.domains.backend}quickcheck/${newValue}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then(response => response.json())\n        .then(data => {\n          if (data.allowed === false) {\n            setUserPageAlreadyExists(null)\n          } else {\n            if (data.exists === true) {\n              setUserPageAlreadyExists(true)\n            } else {\n              setUserPageAlreadyExists(false)\n            }\n          }\n        })\n        .catch(error => {\n          console.error(error)\n          setUserPageAlreadyExists(false)\n        })\n    } else {\n      setUserPageAlreadyExists(null)\n    }\n  }, [username, setUserPageAlreadyExists])\n\n  return <div>\n    <Header\n      title={<Localized id=\"chooser_header_title\" />}\n      rightActions={rightHeaderActions || null}\n    />\n\n    {\n      username !== ''\n        ? <>\n          <h2><Localized id={userPageAlreadyExists === true ? 'edit_user_page_headline' : 'create_user_page_headline'} /></h2>\n          <p><Localized id={userPageAlreadyExists === true ? 'edit_user_page_info' : 'create_user_page_info'} /></p>\n          <Link to={`/edit/${username}`}>\n            <button style={{ marginLeft: '0', marginRight: '0' }}>\n              <Localized\n                id={userPageAlreadyExists === true ? 'edit_user_page_button' : 'create_user_page_button'}\n                vars={{ username }}\n              />\n            </button>\n          </Link>\n          <br />\n          <br />\n        </>\n        : null\n    }\n    <h2><Localized id=\"chooser_any_link_headline\" /></h2>\n    <p><Localized id=\"chooser_any_link_info\" /></p>\n\n    <div className={`${classes.chooserInput} ${alreadyExists === null ? classes.hideSubmitButton : ''}`}>\n      <p className={classes.domainPrefix}>volt.link/</p>\n      <input type=\"text\" placeholder={getString('type_a_path')} onChange={handleCheckIfPathExists}/>\n      {\n        alreadyExists === null\n          ? null\n          : <Link to={`/edit/${value}`}>\n              <button className=\"green\">\n              {alreadyExists ? getString('edit_path_button') : getString('create_path_button')}\n              </button>\n            </Link>\n      }\n    </div>\n    {\n      error !== ''\n        ? <>\n          <h3 className=\"red\"><Localized id=\"headline_errors\" /></h3>\n          <p>{error}</p>\n        </>\n        : null\n    }\n\n    {\n      user_editable_links.length > 0\n        ? <>\n          <br />\n          <div className=\"buttonRow usesLinks\">\n            {\n              user_editable_links\n              .filter(content => content.slug.startsWith(value) || (content.slug.replace(/!/, '')).startsWith(value))\n              .map(content => <a key={content.slug} href={`/edit/${content.slug}`}><button>{content.slug}</button></a>)\n            }\n          </div>\n        </>\n        : null\n    }\n\n    <br />\n    <hr />\n\n    <h2>Restrictions</h2>\n    <ul>\n      <li>These letters are not allowed: <code>{forbidden.letters ||''}</code> (And of course: Don't use whitespace!)</li>\n      <li>\n        These paths are not allowed: {\n          (forbidden.codes || [])\n          .filter(code => !code.includes('/') && !code.includes('.'))\n          .flatMap(code => [<code key={code}>{code}</code>, <Fragment key={code+'separator'}>, </Fragment>])\n          .slice(0, -1)\n        }\n      </li>\n      <li>The dot (<code>.</code>) is used for Volt Accounts.</li>\n    </ul>\n\n    <h2>Best Practices</h2>\n\n    <h3>General</h3>\n    <ul>\n      <li>Keep it short!</li>\n      <li>Seperate words with hyphens (<code>-</code>). This makes it readable by humans and parsable by search engines. (Try not to use underscores (<code>_</code>). Your favorite search provider will thank you :D)</li>\n      <li>It is not important if you use upper- or lower-case letters.</li>\n      <li>Use letters people can type. The less international characters the better.</li>\n      <li>\n        <span role=\"img\" aria-label=\"EU-flag-emoji\"></span> Emojis are possible. But like before. Use them sparingly and check if others can type and see them on their device.<br/>\n        <a href=\"https://emojipedia.org/emoji-11.0/\" target=\"_blank\" rel=\"noopener noreferrer\">Emoji 11</a> and earlier should be okay.<br/>\n        And better don't mix emojis and normals letters.\n      </li>\n    </ul>\n\n    <h3>City Teams</h3>\n    <p>Use the name of your city team without the Volt prefix or a common international name.</p>\n    <p>If two cities have the same name, add your country's <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes\" target=\"_blank\" rel=\"noopener noreferrer\">two letter shortcode</a> before it (eg: <code className=\"filled\">de-bonn</code>).</p>\n    <p>Use the full city/state/team name if possible. Not everybody knows the abbreviation. But keep it short.</p>\n    <p>Example:</p>\n    <ul>\n      <li>Volt Bonn  <code className=\"filled\">bonn</code></li>\n      <li>Volt Kln  <code className=\"filled\">kln</code> or <code className=\"filled\">cologne</code></li>\n    </ul>\n\n    <h3>Personal Pages</h3>\n    <p>The link of your personal page should match your Volt Europa account.</p>\n    <p>We want to look professional, so please don't use your socialmedia handle.</p>\n    <p>We are a lot of people in Volt. People with the same first or lastname exist. To prevent name collisions, use your Volt Account username. (The part before the @ sign.)</p>\n    <p>Examples for \"Thomas Rosen\":</p>\n    <ul>\n      <li>Do  <code className=\"filled\">thomas.rosen</code></li>\n      <li>Don't  <code className=\"filled\">thomas_rosen_official_123</code>, <code className=\"filled\">thomas</code> or <code className=\"filled\">rosen</code></li>\n    </ul>\n\n    <h3>Redirects</h3>\n    <p>There are three options of naming redirects:</p>\n    <ul>\n      <li>random letters or words (<code className=\"filled\">123abc</code>),</li>\n      <li>words describing the redirect content (<code className=\"filled\">de-events</code>) and</li>\n      <li>words describing where the redirect content is used (<code className=\"filled\">flyer-bonn</code>).</li>\n    </ul>\n    <p>Use a random text or describe where the redirect is used if you'll change the link in the future.</p>\n\n    <h3>Translation</h3>\n    <p>You can provide translations for text for these langues:</p>\n    <ul>\n      <li>English</li>\n      <li>Deutsch</li>\n      <li>Espaol</li>\n      <li>Francais</li>\n      <li>Italiano</li>\n      <li>Nederlands</li>\n      <li>Portugues</li>\n    </ul>\n    <p>Contact <a href=\"mailto:thomas.rosen@volteuropa.org\">Thomas</a> for more languages. We'll add more as needed. {/*(We're aspecially interested in people speaking Arabic.)*/}</p>\n\n    <h3>Email Addresses</h3>\n    <p>You can of course link to email addresses.</p>\n    <p>But like you write <code className=\"filled\">https://</code> before normal links, you need to write <code className=\"filled\">mailto:</code> before email addresses.</p>\n    <p>Examples:</p>\n    <ul>\n      <li>bonn@voltdeutschland.org  <code className=\"filled\">mailto:bonn@voltdeutschland.org</code></li>\n    </ul>\n\n    <h3>Legal</h3>\n    <p>The default imprint is the one from Volt Europa. You can change it to the correct link of your chapter.</p>\n\n    <h3>Statistics</h3>\n    <p>As with the whole volt.link project, the statistics are currently in beta.</p>\n\n    <h3>Deletion</h3>\n    <p>Links can't be deleted as nobody likes to scan a QR-Code, just to receive an <a href=\"https://volt.link/error\">error page</a>.</p>\n    <p>But links can of course be reused. Contact <a href=\"mailto:thomas.rosen@volteuropa.org\">Thomas</a> if you need get access to a link.</p>\n  </div>\n}\n\nexport default withLocalization(Chooser)\n\n/*\n\n\n    <input\n      type=\"text\"\n      placeholder=\"title\"\n      style={{\n        marginRight: '0',\n        marginLeft: '0'\n      }}\n    />\n    <textarea\n      placeholder=\"description\"\n      style={{\n        marginRight: '0',\n        marginLeft: '0'\n      }}\n    />\n*/\n","import { useCallback } from 'react'\n\nconst url_regex = /^([A-Z0-9+-.]+:(?:\\/\\/)?)[\\w\\u00C0-\\u00FF_.-]+(?:\\.[\\w\\u00C0-\\u00FF_.-]+)+[\\w\\u00C0-\\u00FF_~:/?#[\\]!%$&'()@*+,;=.-]+$/gui\nconst email_regex = /^(?:(?:[^<>()[\\]\\\\.,;:\\s@\"]+(?:\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(?:\".+\"))@(?:(?:\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(?:(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,})\\.?)$/gui\nconst is_email_not_url_regex = /^[^:/]+@.+$/gui\n\nfunction UrlInput({ defaultValue, onChange, onError, ...props }) {\n  const handleTextChange = useCallback((event) => {\n    if (onChange ||onError) {\n      const value = event.target.value ||''\n      let isSubmittable = false\n      let error = ''\n\n      if (value !== '') {\n        const schema_parts = value.split(':')\n        const schema = schema_parts.shift()\n        const after_schema = schema_parts.join(':')\n\n        if (schema === 'tel') {\n          isSubmittable = true\n        } else if (schema === 'mailto' || value.match(is_email_not_url_regex)) {\n          if (after_schema.match(email_regex)) {\n            isSubmittable = true\n          } else {\n            error = 'invalid_mailto_url'\n          }\n        } else {\n          if (value.match(url_regex)) {\n            isSubmittable = true\n          } else {\n            error = 'invalid_url'\n          }\n        }\n      }\n\n      if (onChange) {\n        if (isSubmittable) {\n          onChange(value)\n        } else {\n          onChange('')\n        }\n      }\n\n      if (onError) {\n        onError(error)\n      }\n    }\n  }, [onChange, onError])\n\n  return <input\n    type=\"url\"\n    onChange={handleTextChange}\n    defaultValue={defaultValue}\n    {...props}\n  />\n}\n\nexport default UrlInput\n","import { useState } from 'react'\n\nimport { Localized } from '../fluent/Localized.js'\nimport classes from './FancyInput.module.css'\n\nfunction FancyInput({ children, className, style, ...props }) {\n  const [error, setError] = useState('')\n\n  return <div\n    className={className}\n    style={style}\n  >\n    {children({ setError })}\n    {error ? <div className={classes.error}><Localized id={'error_'+error} /></div> : null}\n  </div>\n}\n\nexport default FancyInput\n","import React, { useState, useCallback } from 'react'\nimport classes from './Shortcode.module.css'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { withLocalization, Localized } from '../fluent/Localized.js'\nimport useKeyPress from '../hooks/useKeyPress.js'\nimport Header from '../components/Header.js'\nimport UrlInput from '../components/UrlInput.js'\nimport FancyInput from '../components/FancyInput.js'\n\nfunction Redirect({ getString, rightHeaderActions }) {\n  const history = useHistory()\n  const [redirectLink, setRedirectLink] = useState('')\n  const [isSubmittable, setIsSubmittable] = useState(false)\n  const [error, setError] = useState('')\n\n  useKeyPress(['Enter'], () => {\n    if (isSubmittable) {\n      generateRedirectLink()\n    }\n  })\n\n  const handleRedirectLink = useCallback(value => {\n    setRedirectLink(value)\n\n    if (value === '') {\n      setIsSubmittable(false)\n    } else {\n      setIsSubmittable(true)\n    }\n  }, [setRedirectLink, setIsSubmittable])\n\n  const generateRedirectLink = useCallback(() => {\n    if (isSubmittable) {\n      const data = {\n        use_as: 'redirect',\n        redirect: redirectLink,\n      }\n\n      fetch(`${window.domains.backend}set_redirect`, {\n        mode: 'cors',\n        credentials: 'include',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json;charset=utf-8'\n        },\n        body: JSON.stringify(data)\n      })\n        .then(r => r.json())\n        .then(async data => {\n          if (typeof data.error === 'string') {\n            console.error(data.error)\n            setError(data.error)\n          } else if (typeof data.code === 'string') {\n            history.push(`/edit/${data.code}`)\n          } else {\n            setError('Undefined Error. Please contact thomas.rosen@volteuropa.org')\n          }\n        })\n        .catch(async error => {\n          console.error(error)\n          setError(error)\n        })\n    }\n  }, [isSubmittable, redirectLink, history])\n\n  return <div>\n    <Header\n      title={<Localized id=\"create_shortcode_headline\" />}\n      rightActions={rightHeaderActions || null}\n    />\n\n    <p><Localized id=\"create_shortcode_info\" /></p>\n\n    <div className={`${classes.input} ${isSubmittable === true ? '' : classes.hideSubmitButton }`}>\n      <FancyInput\n        style={{ flexGrow: '1', display: 'flex', flexDirection: 'column' }}\n      >\n        {({ setError }) => (\n          <UrlInput\n            onError={setError}\n            placeholder={getString('create_shortcode_url_placeholder')}\n            onChange={handleRedirectLink}\n          />\n        )}\n      </FancyInput>\n      {\n        isSubmittable === true\n          ? <button className=\"green\" onClick={generateRedirectLink}>\n              <Localized id=\"create_shortcode_url_submit\" />\n            </button>\n          : null\n      }\n    </div>\n\n    {\n      error !== ''\n        ? <>\n          <h3 className=\"red\"><Localized id=\"headline_errors\" /></h3>\n          <p>{error}</p>\n        </>\n        : null\n    }\n  </div>\n}\n\nexport default withLocalization(Redirect)\n","export default __webpack_public_path__ + \"static/media/layout-default.e50ac204.svg\";","export default __webpack_public_path__ + \"static/media/layout-person.3608bb84.svg\";","export default __webpack_public_path__ + \"static/media/qr_code_24pd.b620c9c2.svg\";","export default __webpack_public_path__ + \"static/media/assessment_24dp.7a4e5a03.svg\";","export default __webpack_public_path__ + \"static/media/publish_24dp.ae37f206.svg\";","export default __webpack_public_path__ + \"static/media/20200912_Plakatschlange_Koeln_Matteo Sant_Unione_011.3f9289d0.png\";","export default __webpack_public_path__ + \"static/media/Aktion.89c1bcdf.png\";","export default __webpack_public_path__ + \"static/media/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.6824f6ef.png\";","export default __webpack_public_path__ + \"static/media/Welcome-to-Volt.39e04eca.png\";","import { useState, useCallback, useEffect } from 'react'\n\nfunction MultiButton({ ariaLabel, items, defaultValue, onChange, style, className }) {\n  const [choosen, setChoosen] = useState()\n\n  useEffect(() => setChoosen(defaultValue), [defaultValue, setChoosen])\n\n  const handleClick = useCallback(event => {\n    const newValue = event.target.dataset.value\n    setChoosen(newValue)\n    if (onChange) {\n      onChange(newValue)\n    }\n  }, [setChoosen, onChange])\n\n  return <div\n    aria-label={ariaLabel}\n    className={'buttonRow ' + (className ||'')}\n    style={{\n      display: 'inline-block',\n      ...style\n    }}\n  >\n    {\n      items.map(item => {\n        const value = item.value\n        const title = item.title\n        const icon = item.icon || null\n        return <button\n          key={value+'_'+title}\n          className={`${choosen === value ? 'choosen' : ''} ${!!icon ? 'hasIcon' : ''}`}\n          onClick={handleClick}\n          data-value={value}\n        >\n          <span style={{pointerEvents: 'none'}}>\n            {!!icon ? icon : null}\n            {!!title ? <span style={{verticalAlign: 'middle'}}>{title}</span> : null}\n          </span>\n        </button>\n      })\n    }\n  </div>\n}\n\nexport default MultiButton\n","import { useState, useCallback, useRef } from 'react'\n\nfunction PermissionInput({ reorderHandle, actionButton, role, defaultValue, children, className, style, onChange, ariaLabel, placeholder, ...props }) {\n  const wrapperDiv = useRef(null)\n\n  const [changedRole, setChangedRole] = useState(role || 'editor')\n  const [changedValue, setChangedValue] = useState(defaultValue)\n\n  const handleRoleChange = useCallback((event) => {\n    setChangedRole(event.target.value)\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = {\n        role: event.target.value,\n        value: changedValue,\n      }\n      onChange({ target })\n    }\n  }, [setChangedRole, onChange, changedValue])\n\n  const handleTextChange = useCallback(value => {\n    setChangedValue(value)\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = {\n        role: changedRole,\n        value,\n      }\n      onChange({ target })\n    }\n  }, [setChangedValue, onChange, changedRole])\n\n  return <div\n    ref={wrapperDiv}\n    className={className}\n    style={{\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'flex-start',\n      maxWidth: '100%',\n      ...style\n    }}\n  >\n    {\n      !!children\n        ? children({\n          onChange: handleTextChange,\n          defaultValue: defaultValue,\n          style: {\n            flexGrow: '1',\n          }\n        })\n        : null\n    }\n    <select\n      onChange={handleRoleChange}\n      defaultValue={role}\n      style={{\n        margin: '0 0 0 var(--basis)',\n        display: 'none',\n      }}\n    >\n      <option key=\"editor\" value=\"editor\">Editor</option>\n      <option key=\"viewer\" value=\"viewer\">Viewer</option>\n    </select>\n  </div>\n}\n\nexport default PermissionInput\n","import { useCallback } from 'react'\n\nconst email_regex = /^(?:(?:[^<>()[\\]\\\\.,;:\\s@\"]+(?:\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(?:\".+\"))@(?:(?:\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(?:(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,})\\.?)$/gui\n\nfunction EmailInput({ defaultValue, onChange, onError, ...props }) {\n  const handleTextChange = useCallback((event) => {\n    if (onChange ||onError) {\n      const value = event.target.value ||''\n      let isSubmittable = false\n      let error = ''\n\n      if (value !== '') {\n        if (value.match(email_regex)) {\n          isSubmittable = true\n        } else {\n          error = 'invalid_email'\n        }\n      }\n\n      if (onChange) {\n        if (isSubmittable) {\n          onChange(value)\n        } else {\n          onChange('')\n        }\n      }\n\n      if (onError) {\n        onError(error)\n      }\n    }\n  }, [onChange, onError])\n\n  return <input\n    type=\"email\"\n    onChange={handleTextChange}\n    defaultValue={defaultValue}\n    {...props}\n  />\n}\n\nexport default EmailInput\n","import React, { useCallback, useRef, useState } from 'react'\n\nimport classes from './HtmlInput.module.css'\n\nfunction HtmlInput({ defaultValue, children, className, onChange, onError, linebreaks, style, ...props }) {\n  const fake_defaultValue = useRef({__html:\n    defaultValue\n    // .replace(/\\t/g, '&emsp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    // .replace(/\\n/g, '<br />')\n  })\n  const [text, setText] = useState(defaultValue)\n\n  const handleTextChange = useCallback((event) => {\n    try {\n      if (onChange) {\n        let value = (event.target.innerHTML || '')\n        // .replace(/&emsp;/g, '\\t')\n        .replace(/&lt;/g, '<')\n        .replace(/&gt;/g, '>')\n\n        if (linebreaks === false) {\n          value = value.replace(/<\\/? ?br ?\\/?>/g, ' ')\n        } else {\n          value = value.replace(/<\\/? ?br ?\\/?>/g, '\\n')\n        }\n\n        value = value.trim()\n\n        onChange(value)\n        setText(value)\n      }\n    } catch (error) {\n      if (onError) {\n        onError(error)\n      }\n    }\n  }, [onChange, onError, setText, linebreaks])\n\n  const addLineBreaks = useCallback(event => {\n    if (event.key === 'Enter') {\n      // source: StackOverflow (https://stackoverflow.com/a/61237402)\n      if (linebreaks !== false) {\n        document.execCommand('insertLineBreak')\n      }\n      event.preventDefault()\n    } else if (event.key === 'Tab') {\n      document.execCommand('insertText', false, '\\t')\n      event.preventDefault()\n    }\n  }, [linebreaks])\n\n  const handlePaste = useCallback(event => {\n    // only accept plain text\n\n    // cancel paste\n    event.preventDefault()\n\n    // get text representation of clipboard\n    let text = (event.originalEvent || event).clipboardData.getData('text/plain')\n\n    if (linebreaks === false) {\n      text = text.replace(/\\n/g, ' ')\n    }\n\n    // insert text manually\n    document.execCommand('insertText', false, text)\n  }, [linebreaks])\n\n  return <div\n    onKeyDown={addLineBreaks}\n    onInput={handleTextChange}\n    onPaste={handlePaste}\n    className={`${classes.rebuild_textarea} ${text.length === 0 ? classes.show_placeholder : ''} ${className}`}\n    contentEditable={true}\n    dangerouslySetInnerHTML={fake_defaultValue.current}\n    style={style}\n  />\n}\n\nexport default HtmlInput\n","import { useState, useCallback, useEffect } from 'react'\n\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd'\n\nimport classes from './Repeater.module.css'\n\nfunction reorder(list, startIndex, endIndex) {\n  const result = Array.from(list)\n  const [removed] = result.splice(startIndex, 1)\n  result.splice(endIndex, 0, removed)\n\n  return result\n}\n\nfunction Row({\n  subDefaultValue,\n  index,\n  render,\n  handleRowChange,\n  isReorderable,\n  handleAddRow,\n  handleRemoveRow,\n  showReorderControls,\n  reorderLabel,\n  showActionButton,\n  hasOnlyOneRow,\n}) {\n  return <Draggable\n      key={subDefaultValue._id}\n      draggableId={subDefaultValue._id}\n      index={index}\n      isDragDisabled={isReorderable === true ? false : true}\n      disableInteractiveElementBlocking={true}\n      shouldRespectForcePress={true}\n    >\n      {provided => (\n        <div\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n\n          key={subDefaultValue._id}\n          className={classes.row}\n        >\n          {\n            index !== 0\n            ? <div className={classes.middleActions}>\n              <div className={classes.trigger}></div>\n              <div className={classes.content}>\n                <button className={`green ${classes.inlineRowButton}`} data-index={index} onClick={handleAddRow}>+</button>\n              </div>\n            </div>\n            : null\n          }\n\n        <div className={classes.form}>\n          {\n            isReorderable === true && showReorderControls === true\n              ? <button aria-label={reorderLabel} className={`text ${classes.inlineRowButton}`} {...provided.dragHandleProps}></button>\n              : null\n          }\n          {\n            render({\n              key: subDefaultValue._id,\n              defaultValue: subDefaultValue,\n              className: classes.item,\n              'data-index': index,\n              'data-id': subDefaultValue._id,\n              onChange: handleRowChange,\n              onRemoveRow: () => handleRemoveRow(index),\n              reorderHandle: <button aria-label={reorderLabel} className={`text ${classes.inlineRowButton}`} {...provided.dragHandleProps}></button>,\n              actionButton: (\n            hasOnlyOneRow\n              ? <button className={`green ${classes.inlineRowButton}`} onClick={handleAddRow}>+</button>\n              : <button className={`red ${classes.inlineRowButton}`} data-index={index} onClick={handleRemoveRow}></button>\n              )\n            })\n          }\n          {\n            showActionButton === true\n            ? (\n            hasOnlyOneRow\n              ? <button className={`green ${classes.inlineRowButton}`} onClick={handleAddRow}>+</button>\n              : <button className={`red ${classes.inlineRowButton}`} data-index={index} onClick={handleRemoveRow}></button>\n            )\n            : null\n          }\n        </div>\n      </div>\n    )}\n  </Draggable>\n}\n\nfunction getIndex(eventOrIndex) {\n  let index = eventOrIndex\n\n  if (typeof eventOrIndex !== 'number') {\n    index = eventOrIndex.target.dataset.index\n  } else if (!!eventOrIndex.target.dataset.index) {\n    index = parseInt(eventOrIndex.target.dataset.index)\n    if (isNaN(index)) {\n      index = null\n    }\n  }\n\n  return index\n}\n\nfunction Repeater({ defaultValue, addDefaultValue, addButtonText, reorderLabel = 'Reorder', render, style, onChange, prependNewItems, showReorderControls = true, showActionButton = true, isReorderable = false }) {\n  if (!(!!addButtonText)) {\n    addButtonText = 'Add Row'\n  }\n\n  const [rows, setRows] = useState([])\n\n  useEffect(() => {\n    let tmp_defaultValue = defaultValue\n    if (!Array.isArray(defaultValue) || defaultValue.length === 0) {\n      tmp_defaultValue = [addDefaultValue()]\n    }\n    setRows(tmp_defaultValue)\n  }, [defaultValue, addDefaultValue, setRows])\n\n  const handleRemoveRow = useCallback(eventOrIndex => {\n    const index = getIndex(eventOrIndex)\n\n    let new_rows = [...rows]\n    new_rows.splice(index, 1)\n    const rows_from_onChange = onChange(new_rows)\n    if (Array.isArray(rows_from_onChange)) {\n      new_rows = rows_from_onChange\n    }\n    setRows(new_rows)\n  }, [rows, setRows, onChange])\n\n  const handleRowChange = useCallback(event => {\n    const index = event.target.dataset.index\n    const _id = event.target.dataset.id\n    const newValue = event.target.value\n\n    const new_rows = [...rows]\n    if (typeof newValue !== 'object' || Array.isArray(newValue)) {\n      new_rows[index] = {\n        _id,\n        value: newValue\n      }\n    } else if (typeof newValue === 'object') {\n      new_rows[index] = {\n        _id,\n        ...newValue\n      }\n    }\n    setRows(new_rows)\n    onChange(new_rows)\n  }, [rows, setRows, onChange])\n\n  const handleAddRow = useCallback(eventOrIndex => {\n    const newValue = addDefaultValue()\n\n    const index = getIndex(eventOrIndex)\n\n    let new_rows = null\n    if (index !== null && index >= 0) {\n      new_rows = [...rows]\n      new_rows.splice(index, 0, newValue)\n    } else {\n      if (prependNewItems === true) {\n        new_rows = [newValue, ...rows]\n      } else {\n        new_rows = [...rows, newValue]\n      }\n    }\n\n    setRows(new_rows)\n    onChange(new_rows)\n  }, [rows, addDefaultValue, setRows, onChange, prependNewItems])\n\n  function onDragEnd(result) {\n    if (!result.destination) {\n      return\n    }\n\n    if (result.destination.index === result.source.index) {\n      return\n    }\n\n    const new_rows = reorder(\n      rows,\n      result.source.index,\n      result.destination.index\n    )\n    setRows(new_rows)\n    onChange(new_rows)\n  }\n\n  const hasOnlyOneRow = rows.length === 1\n\n  const addButton = <div style={{ textAlign: 'right' }}>\n    <button className={`green ${classes.addRowButton}`} onClick={handleAddRow}>{addButtonText}</button>\n  </div>\n\n  return <div style={style}>\n    {!hasOnlyOneRow && prependNewItems ? <div style={{ marginBottom: 'var(--basis)' }}>{addButton}</div> : null}\n\n    <DragDropContext onDragEnd={onDragEnd}>\n      <Droppable\n        droppableId=\"list\"\n        isDropDisabled={isReorderable === true ? false : true}\n      >\n        {provided => (\n          <div ref={provided.innerRef} {...provided.droppableProps}>\n            {\n              rows\n              .filter(subDefaultValue => subDefaultValue._id)\n              .map(\n                (subDefaultValue, index) => <Row\n                  key={subDefaultValue._id}\n                  {...{\n                    subDefaultValue,\n                    index,\n                    render,\n                    handleRowChange,\n                    isReorderable,\n                    handleAddRow,\n                    handleRemoveRow,\n                    showReorderControls,\n                    reorderLabel,\n                    showActionButton,\n                    hasOnlyOneRow,\n                  }}\n                />\n              )\n            }\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </DragDropContext>\n\n    {!hasOnlyOneRow && !prependNewItems ? addButton : null}\n  </div>\n}\n\nexport default Repeater\n","import { useState, useCallback, useRef } from 'react'\n\nimport classes from './InputWithLocal.module.css'\n\nlet locales = {\n  en: 'English',\n  de: 'Deutsch',\n  es: 'Espaol',\n  pt: 'Portugus',\n  fr: 'Franais',\n  it: 'Italiano',\n  nl: 'Nederlands', // Dutch\n  da: 'Dansk', // Danish\n  sv: 'Svenska', // Swedish\n  nb: 'Norsk bokml', // Norwegian\n  fi: 'Suomi', // Finish\n  mt: 'Malti', // Maltese\n  pl: 'Jzyk polski', // Polish\n  ru: ' ', // Russian\n  bg: ' ', // Bulgarian\n  tr: 'Trke',\n  ar: '', // Arabic\n  el: '', // Greek\n  ro: 'limba romn', // Romanian\n  sl: 'slovenina', // Slovenian\n  // uk: ' ', // Ukrainian\n  // cy: 'Cymraeg', // Welsh\n}\nlocales = Object.entries(locales)\n.map(([code, nativeName]) => ({code, nativeName}))\n\nfunction InputWithLocal({ reorderHandle, actionButton, locale, defaultValue, children, style, onChange, className, ...props }) {\n  const wrapperDiv = useRef(null)\n\n  const [changedLocale, setChangedLocale] = useState(locale)\n  const [changedValue, setChangedValue] = useState(defaultValue)\n\n  const handleLocaleChange = useCallback((event) => {\n    setChangedLocale(event.target.value)\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = {\n        locale: event.target.value,\n        value: changedValue,\n      }\n      onChange({ target })\n    }\n  }, [setChangedLocale, onChange, changedValue])\n\n  const handleTextChange = useCallback((event_or_value) => {\n    let value = event_or_value\n    if (\n      !!event_or_value\n      && !!event_or_value.target\n      && !!event_or_value.target.value\n    ) {\n      value = event_or_value.target.value\n    }\n\n    setChangedValue(value)\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = {\n        locale: changedLocale,\n        value,\n      }\n      onChange({ target })\n    }\n  }, [setChangedValue, onChange, changedLocale])\n\n  return <div\n    className={classes.input_with_local+' '+className}\n    ref={wrapperDiv}\n    style={style}\n  >\n    <div\n      className=\"wrapped_select\"\n      placeholder={changedLocale.toUpperCase()}\n      style={{\n        margin: '0 var(--basis) 0 0',\n        flexShrink: 0,\n      }}\n    >\n      <select\n        onChange={handleLocaleChange}\n        defaultValue={locale}\n      >\n        {locales.map(({ code, nativeName }) => <option key={code} value={code}>{nativeName}</option>)}\n      </select>\n    </div>\n    {\n      !!children\n        ? children({\n          onChange: handleTextChange,\n          defaultValue: defaultValue,\n          style: {\n            flexGrow: '1',\n          }\n        })\n        : null\n    }\n  </div>\n}\n\nexport default InputWithLocal\n","import React from 'react'\n\nimport { withLocalization } from '../fluent/Localized.js'\n\nimport Repeater from '../components/Repeater.js'\nimport InputWithLocal from '../components/InputWithLocal.js'\n\nfunction TranslationRepeaterRaw ({ onChange, defaultValue, addDefaultValue, addButtonText, style, input }) {\n  return <Repeater\n    onChange={onChange}\n    defaultValue={defaultValue}\n    addDefaultValue={addDefaultValue}\n    addButtonText={addButtonText}\n    style={style}\n    render={\n      ({ defaultValue, ...repeater_props }) => {\n        const locale = defaultValue.locale\n        const value = defaultValue.value\n        return <InputWithLocal\n          locale={locale}\n          defaultValue={value}\n          style={{\n            maxWidth: 'calc(100% - calc(var(--basis_x4) + var(--basis_x2)))',\n          }}\n          {...repeater_props}\n        >\n          {InputWithLocal_props => input(InputWithLocal_props)}\n        </InputWithLocal>\n      }\n    }\n  />\n}\n\n\nconst TranslationRepeater = withLocalization(TranslationRepeaterRaw)\n\nexport default TranslationRepeater\n","import React, { useState, useCallback, useRef } from 'react'\n\nimport { v4 as uuidv4 } from 'uuid'\n\nimport { Menu, MenuItem, Divider, ListItemIcon, ListItemText, List, ListSubheader } from '@mui/material'\nimport {\n  Visibility as VisibilityIcon,\n  VisibilityOff as VisibilityOffIcon,\n  Delete as DeleteIcon,\n  Close as CloseIcon,\n  Link as LinkIcon,\n  Title as TitleIcon,\n  Notes as NotesIcon,\n  KeyboardArrowDown as KeyboardArrowDownIcon,\n} from '@mui/icons-material'\n\nimport PopupState, { bindTrigger, bindMenu } from 'material-ui-popup-state';\n\nimport { Localized, withLocalization } from '../fluent/Localized.js'\nimport MultiButton from '../components/MultiButton.js'\nimport UrlInput from '../components/UrlInput.js'\nimport HtmlInput from '../components/HtmlInput.js'\nimport FancyInput from '../components/FancyInput.js'\nimport TranslationRepeater from '../components/TranslationRepeater.js'\n\nimport classes from './EditorBlock.module.css'\n\nfunction RowMenu (props) {\n\n  const {\n    type,\n    getString,\n    handleChange_Type,\n    toggle_Active,\n    active,\n    onRemoveRow,\n    closeMenu,\n    ...rest\n  } = props\n\n  return <Menu\n                {...rest}\n                MenuListProps={{\n                  style:{\n                    width: '100%',\n                    maxWidth: '100%',\n                  }\n                }}\n              >\n                <List\n                  style={{\n                    width: '100%',\n                    maxWidth: '100%',\n                    marginTop: '-8px',\n                  }}\n                >\n                  <ListSubheader style={{\n                    whiteSpace:'nowrap',\n                    background:'transparent',\n                    lineHeight: '1',\n                    margin: '0',\n                    padding: '8px 16px 12px 16px',\n                  }}>\n                    <Localized id=\"path_editor_item_choose_type_label\" />\n                  </ListSubheader>\n                  {\n                    [\n                      { value: 'link', icon: <LinkIcon />, title: getString('path_editor_item_choose_type_value_link') },\n                      { value: 'headline', icon: <TitleIcon />, title: getString('path_editor_item_choose_type_value_headline') },\n                      // { value: 'headline3', title: getString('path_editor_item_choose_type_value_headline3') },\n                      { value: 'text', icon: <NotesIcon />, title: getString('path_editor_item_choose_type_value_text') }\n                    ]\n                    .map((option, index) => (\n                      <MenuItem\n                        key={option.value}\n                        selected={option.value === type}\n                        onClick={() => handleChange_Type(option.value)}\n                      >\n                        <ListItemIcon>\n                          {option.icon}\n                        </ListItemIcon>\n                        <ListItemText>\n                          {option.title}\n                        </ListItemText>\n                      </MenuItem>\n                  ))}\n                </List>\n\n                <Divider style={{opacity: 0.2}} />\n\n                <MenuItem style={{marginTop:'8px'}} onClick={toggle_Active}>\n                  <ListItemIcon>\n                    {\n                      active\n                      ? <VisibilityOffIcon />\n                      : <VisibilityIcon />\n                    }\n                  </ListItemIcon>\n                  <ListItemText>\n                    {\n                      active\n                      ? <Localized id=\"path_editor_item_hide_row\" />\n                      : <Localized id=\"path_editor_item_show_row\" />\n                    }\n                  </ListItemText>\n                </MenuItem>\n\n                <MenuItem style={{marginTop:'8px'}} onClick={onRemoveRow}>\n                  <ListItemIcon>\n                    <DeleteIcon />\n                  </ListItemIcon>\n                  <ListItemText>\n                    <Localized id=\"path_editor_item_delete\" />\n                  </ListItemText>\n                </MenuItem>\n\n                <Divider style={{opacity: 0.2}} />\n\n                <MenuItem style={{marginTop:'8px'}} onClick={closeMenu}>\n                  <ListItemIcon>\n                    <CloseIcon />\n                  </ListItemIcon>\n                  <ListItemText>\n                    <Localized id=\"path_editor_item_close_menu\" />\n                  </ListItemText>\n                </MenuItem>\n              </Menu>\n}\n\nfunction EditorBlockRaw({ fluentByObject, getString, item, className, onChange, reorderHandle, onRemoveRow, actionButton }) {\n  const defaultLocale = getString('default_locale')\n\n  const wrapperDiv = useRef(null)\n\n  const [type, setType] = useState(item.type || null)\n  const [title, setTitle] = useState(item.title || [])\n  const [text, setText] = useState(item.text || [])\n  const [link, setLink] = useState(item.link || '')\n  const [active, setActive] = useState(item.active || true)\n\n  const handleChange_Type = useCallback(newValue => {\n    setType(newValue)\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = { type: newValue, title, text, link, active }\n      onChange({ target })\n    }\n  }, [setType, onChange, title, text, link, active])\n\n  const handleChange_Text = useCallback(rows => {\n    const newValue = rows\n      if (type === 'text') {\n    setText(newValue)\n      } else {\n        setTitle(newValue)\n      }\n\n    if (onChange) {\n      const target = wrapperDiv.current\n      if (type === 'text') {\n        target.value = { type, title, text: newValue, link, active }\n      } else {\n        target.value = { type, title: newValue, text, link, active }\n      }\n      onChange({ target })\n    }\n  }, [setText, setTitle, onChange, type, title, text, link, active])\n\n  const handleChange_Link = useCallback(newValue => {\n    setLink(newValue)\n\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = { type, title, text, link: newValue, active }\n      onChange({ target })\n    }\n  }, [setLink, onChange, type, title, text, active])\n\n  const toggle_Active = useCallback(() => {\n    const newValue = !active\n    setActive(newValue)\n\n    if (onChange) {\n      const target = wrapperDiv.current\n      target.value = { type, title, text, link, active: newValue }\n      onChange({ target })\n    }\n  }, [setActive, onChange, type, title, text, link, active])\n\n  let type_classname = ''\n  switch (type) {\n    case 'text':\n      type_classname = 'type_text'\n      break\n    case 'headline':\n      type_classname = 'type_h2'\n      break\n    case 'headline3':\n      type_classname = 'type_h3'\n      break\n    case 'link':\n      type_classname = 'type_text' // 'type_button'\n      break\n    default:\n      type_classname = 'type_text'\n  }\n\n  return <div\n    ref={wrapperDiv}\n    className={`${classes.block} ${!!type ? '' : classes.chooseTypeScreen} ${className}`}\n  >\n    {\n      !!type\n        ? null\n        : <>\n            <p style={{\n              marginBottom: 'var(--basis)'\n            }}>\n              <Localized id=\"path_editor_item_choose_type_label\" />\n            </p>\n            <span className=\"hideOnScreenSmallerThan1200px\">\n              <MultiButton\n                className={active ? classes.form_active : classes.form_deactivated}\n                onChange={handleChange_Type}\n                ariaLabel=\"Use as\"\n                defaultValue={type}\n                items={[\n                  { value: 'link', icon: <LinkIcon className=\"icon\" />, title: getString('path_editor_item_choose_type_value_link') },\n                  { value: 'headline', icon: <TitleIcon className=\"icon\" />, title: getString('path_editor_item_choose_type_value_headline') },\n                  // { value: 'headline3', title: getString('path_editor_item_choose_type_value_headline3') },\n                  { value: 'text', icon: <NotesIcon className=\"icon\" />, title: getString('path_editor_item_choose_type_value_text') }\n                  // { value: 'link', icon: <SVG src={icon_link} className=\"icon\" />, title: getString('path_editor_item_choose_type_value_link') },\n                  // { value: 'headline', icon: <SVG src={icon_title} className=\"icon\" />, title: getString('path_editor_item_choose_type_value_headline') },\n                  // // { value: 'headline3', title: getString('path_editor_item_choose_type_value_headline3') },\n                  // { value: 'text', icon: <SVG src={icon_notes} className=\"icon\" />, title: getString('path_editor_item_choose_type_value_text') }\n                ]}\n              />\n            </span>\n            <span className=\"hideOnScreenBiggerThan1200px\">\n              <MultiButton\n                className={active ? classes.form_active : classes.form_deactivated}\n                onChange={handleChange_Type}\n                ariaLabel=\"Use as\"\n                defaultValue={type}\n                items={[\n                  { value: 'link', icon: <LinkIcon className=\"icon\" /> },\n                  { value: 'headline', icon: <TitleIcon className=\"icon\" /> },\n                  // { value: 'headline3', title: getString('path_editor_item_choose_type_value_headline3') },\n                  { value: 'text', icon: <NotesIcon className=\"icon\" /> }\n                ]}\n              />\n            </span>\n          </>\n    }\n\n    <div className={classes.itemSettingsRow}>\n      <div className={classes.itemSettingsRowLeft}>\n        <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n          {(popupState) => (\n            <>\n              <div {...bindTrigger(popupState)} style={{ cursor: 'pointer' }}>\n                {reorderHandle}\n\n                <button className=\"text\" style={{\n                  marginLeft: 'calc(-1 * var(--basis_x2))',\n                  marginBottom: 'var(--basis_x0_5)',\n                  verticalAlign: 'middle',\n                }}>\n                  {getString('path_editor_item_choose_type_value_'+type)}\n                  <KeyboardArrowDownIcon\n                    style={{\n                      verticalAlign: 'middle',\n                      marginBottom: 'var(--basis)',\n                    }}\n                  />\n                </button>\n              </div>\n              <RowMenu\n                {...bindMenu(popupState)}\n                {...{\n                  type,\n                  getString,\n                  handleChange_Type,\n                  toggle_Active,\n                  active,\n                  onRemoveRow,\n                  closeMenu: popupState.close,\n                }}\n              />\n            </>\n          )}\n        </PopupState>\n      </div>\n\n      {actionButton}\n    </div>\n\n    <span className={active ? classes.form_active : classes.form_deactivated}>\n    {\n      !!type\n        ? <>\n          {\n            type === 'text'\n            ? <p><Localized id=\"path_editor_item_text_info\" /></p>\n            : null\n          }\n\n          <TranslationRepeater\n            onChange={handleChange_Text}\n            defaultValue={type === 'text' ? text : title}\n            addDefaultValue={() => ({ _id: uuidv4(), locale: defaultLocale, value: '' })}\n            addButtonText={getString('path_editor_add_translation')}\n            style={{\n              marginTop: 'var(--basis_x2)'\n            }}\n            input={InputWithLocal_props => <HtmlInput\n              placeholder={\n                type === 'text'\n                ? getString('path_editor_item_text_label')\n                : getString('path_editor_item_title_label')\n              }\n              {...InputWithLocal_props}\n              style={{ ...InputWithLocal_props.style, margin: '0' }}\n              linebreaks={ type === 'text' }\n              className={type_classname}\n            />}\n          />\n\n          {\n            type === 'link'\n              ? <FancyInput>\n                {({ setError }) => (\n                  <UrlInput\n                    onError={setError}\n                    onChange={handleChange_Link}\n                    type=\"text\"\n                    defaultValue={link}\n                    placeholder={getString('path_editor_item_link_label')}\n                    style={{\n                      marginRight: '0',\n                      marginBottom: '0',\n                      marginLeft: '0',\n                      width: 'calc(100% - var(--basis_x2))',\n                    }}\n                  />\n                )}\n              </FancyInput>\n              : null\n          }\n        </>\n        : null\n    }\n    </span>\n  </div>\n}\n\nconst EditorBlock = withLocalization(EditorBlockRaw)\n\nexport default EditorBlock\n","import { useState, useCallback, useEffect, useMemo } from 'react'\n\nimport { v4 as uuidv4 } from 'uuid'\n\nimport {\n  useParams\n} from 'react-router-dom'\n\n// import Select from 'react-select'\n\nimport SVG from 'react-inlinesvg'\nimport layoutDefault from '../images/layout-default.svg'\nimport layoutPerson from '../images/layout-person.svg'\nimport icon_qr_code from '../images/qr_code_24pd.svg'\nimport icon_assessment from '../images/assessment_24dp.svg'\nimport icon_publish from '../images/publish_24dp.svg'\n\nimport plakatschlange_thumb from '../images/coverphotos/thumbs/20200912_Plakatschlange_Koeln_Matteo Sant_Unione_011.png'\nimport aktion_thumb from '../images/coverphotos/thumbs/Aktion.png'\nimport volt_bonn_thumb from '../images/coverphotos/thumbs/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.png'\nimport welcome_to_volt_thumb from '../images/coverphotos/thumbs/Welcome-to-Volt.png'\n\nimport classes from './Editor.module.css'\nimport { Localized, withLocalization } from '../fluent/Localized.js'\nimport useUser from '../hooks/useUser.js'\nimport Header from '../components/Header.js'\nimport MultiButton from '../components/MultiButton.js'\nimport PermissionInput from '../components/PermissionInput.js'\nimport UrlInput from '../components/UrlInput.js'\nimport EmailInput from '../components/EmailInput.js'\nimport HtmlInput from '../components/HtmlInput.js'\nimport FancyInput from '../components/FancyInput.js'\nimport Repeater from '../components/Repeater.js'\nimport EditorBlock from '../components/EditorBlock.js'\nimport TranslationRepeater from '../components/TranslationRepeater.js'\n\nfunction ItemsRaw({ getString, defaultValue, onChange }){\n  const items = defaultValue\n\n  return <Repeater\n    onChange={onChange}\n    defaultValue={items}\n    addDefaultValue={() => ({ _id: uuidv4(), type: null, title: [], link: '', active: true })}\n    addButtonText={getString('path_editor_add_row')}\n    reorderLabel={getString('path_editor_reorder')}\n    prependNewItems={true}\n    isReorderable={true}\n    showReorderControls={false}\n    showActionButton={false}\n    render={\n      ({ defaultValue, ...repeater_props }) => {\n        return <EditorBlock\n          item={defaultValue}\n          {...repeater_props}\n        />\n      }\n    }\n  />\n}\nconst Items = withLocalization(ItemsRaw)\n\nfunction addIds(array){\n  if (Array.isArray(array)) {\n    return array.map(item => {\n      if (!item.hasOwnProperty('_id')) {\n        item._id = uuidv4()\n      }\n      return item\n    })\n  }\n  return array\n}\n\nfunction delay(time) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, time)\n  })\n}\n\n// const custom_react_select_styles = {\n//   menu: (provided, state) => ({\n//     ...provided,\n//     background: 'var(--purple)',\n//   }),\n// }\n// const custom_react_select_theme = theme => ({\n//   ...theme,\n//   borderRadius: 0,\n//   colors: {\n//     ...theme.colors,\n//     primary: 'var(--green)',\n//     primary25: 'var(--purple-dark)',\n//   },\n// })\n\nfunction Editor({ getString }) {\n  const defaultLocale = getString('default_locale')\n\n  const { code } = useParams()\n  const [{email = ''} = {}] = useUser() || []\n\n  const [loadingContent, setLoadingContent] = useState(true)\n  const [canEdit, setCanEdit] = useState(true)\n  const [savingMessage, setSavingMessage] = useState(null)\n\n  const [useAs, setUseAs] = useState('')\n  const [layout, setLayout] = useState('')\n  const [title, setTitle] = useState([])\n  const [description, setDescription] = useState([])\n\n  // let [voltTeams, setVoltTeams] = useState([])\n  // voltTeams = voltTeams.map(({ id, name }) => ({ value: id, label: name }))\n\n  const [voltTeamInfos, setVoltTeamInfos] = useState({\n    id: null,\n    name: ''\n  })\n  // const setVoltTeamInfosFromSelect = useCallback((data) => {\n  //   setVoltTeamInfos({\n  //     id: data.value,\n  //     name: data.label,\n  //   })\n  // }, [setVoltTeamInfos])\n\n  const permissionsDefault = useMemo(() => (\n      typeof email === 'string' && email.length > 0\n      ? [{ _id: uuidv4(), value: email, role: 'editor' }, { _id: uuidv4(), value: '', role: 'editor' }]\n      : []\n  ), [email])\n  const [permissions, setPermissions] = useState(permissionsDefault)\n  const handleChange_Permissions = useCallback(rows => {\n    const filled_rows_length = rows\n      .filter(p =>\n        p.value !== ''\n        && p.value !== '@volteuropa.org'\n        && (!p.role || p.role === 'editor')\n      )\n      .length\n\n    if (filled_rows_length === 0) {\n      rows.unshift({ _id: uuidv4(), value: email, role: 'editor' })\n    }\n\n    setPermissions(rows)\n    return rows\n  }, [setPermissions, email])\n\n  const [viewPermission, setViewPermission] = useState(permissionsDefault)\n\n  const [coverphoto, setCoverphoto] = useState('')\n  const [imprintOverwrite, setImprintOverwrite] = useState('')\n  const [privacyPolicyOverwrite, setPrivacyPolicyOverwrite] = useState('')\n  const [redirect, setRedirect] = useState('')\n\n  const [items, setItems] = useState([])\n  const handleChange_Items = useCallback(rows => setItems(rows), [setItems])\n\n  useEffect(() => {\n    setCanEdit(true)\n    setLoadingContent(true)\n\n    fetch(`${window.domains.backend}get/${code}`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then(response => response.json())\n      .then(data => {\n        if (typeof data.error === 'string') {\n          if (data.error === 'no_edit_permission') {\n            setLoadingContent(false)\n            setCanEdit(false)\n          }\n        }else{\n          let {\n            use_as: useAs = '',\n            layout = (code.includes('.') ? 'person' : 'default'),\n            title = [],\n            description = [],\n            permissions = permissionsDefault,\n            volt_team = null,\n            redirect = '',\n            coverphoto = '',\n            overwrites = {},\n            items = [],\n          } = data\n\n          const {\n            imprint = '',\n            privacy_policy = ''\n          } = overwrites\n\n          title = addIds(title)\n          description = addIds(description)\n          items = items.map(item => {\n            if (!item.hasOwnProperty('_id')) {\n              item._id = uuidv4()\n            }\n            if (item.hasOwnProperty('title')) {\n              item.title = addIds(item.title)\n            }\n            if (item.hasOwnProperty('description')) {\n              item.description = addIds(item.description)\n            }\n            return item\n          })\n\n          let viewPermissionTmp = permissions.filter(p => p.role === 'viewer')\n          viewPermissionTmp = viewPermissionTmp.length > 0 ? viewPermissionTmp[0].value : ''\n\n          setUseAs(useAs)\n          setVoltTeamInfos(volt_team)\n          setLayout(layout)\n          setTitle(title)\n          setDescription(description)\n          setPermissions(permissions.filter(p => p.value !== '' && p.value !== '@volteuropa.org'))\n          setViewPermission(viewPermissionTmp)\n          setRedirect(redirect)\n          setCoverphoto(coverphoto)\n          setImprintOverwrite(imprint)\n          setPrivacyPolicyOverwrite(privacy_policy)\n          setItems(items)\n          setLoadingContent(false)\n        }\n      })\n      .catch(error => console.error(error))\n  }, [\n    setLoadingContent,\n    setCanEdit,\n    code,\n    permissionsDefault,\n    setUseAs,\n    setVoltTeamInfos,\n    setLayout,\n    setTitle,\n    setDescription,\n    setPermissions,\n    setRedirect,\n    setCoverphoto,\n    setImprintOverwrite,\n    setPrivacyPolicyOverwrite,\n    setItems\n  ])\n\n  // useEffect(() => {\n  //   fetch(`${window.domains.backend}teams_simple.json`, {\n  //     mode: 'cors',\n  //     credentials: 'include',\n  //   })\n  //     .then(response => response.json())\n  //     .then(data => {\n  //       if (typeof data.error === 'string') {\n  //         setVoltTeams([])\n  //       } else {\n  //         setVoltTeams(data)\n  //       }\n  //     })\n  //     .catch(error => {\n  //       console.error(error)\n  //       setVoltTeams([])\n  //     })\n  // }, [ setVoltTeams ])\n\n  const handleSave = useCallback(() => {\n    setSavingMessage(getString('path_editor_status_started_saving'))\n\n    const permissionsTmp = [\n      ...permissions,\n      ...(viewPermission !== '' ? [{ _id: uuidv4(), value: viewPermission, role: 'viewer'}] : [])\n    ]\n\n    const data = {\n      use_as: useAs,\n      volt_team: voltTeamInfos,\n      layout,\n      title,\n      description,\n      permissions: permissionsTmp,\n      coverphoto,\n      redirect,\n      overwrites: {\n        imprint: imprintOverwrite,\n        privacy_policy: privacyPolicyOverwrite\n      },\n      items\n    }\n\n    fetch(`${window.domains.backend}set/${code}`, {\n      mode: 'cors',\n      credentials: 'include',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(r => r.json())\n      .then(async data => {\n        await delay(500)\n        if (typeof data.error === 'string') {\n          if (data.error === 'no_edit_permission') {\n            setSavingMessage(getString('path_editor_edit_permission_error'))\n            await delay(2000)\n            setSavingMessage(null)\n          } else {\n            setSavingMessage(data.error)\n            await delay(2000)\n            setSavingMessage(null)\n          }\n        } else {\n          setSavingMessage(getString('path_editor_status_saved'))\n          await delay(2000)\n          setSavingMessage(null)\n        }\n      })\n      .catch(async error => {\n        console.error(error)\n        await delay(500)\n        setSavingMessage(getString('path_editor_status_error_while_saving', {\n          error: error.message\n        }))\n      })\n  }, [\n    getString,\n    code,\n    useAs,\n    voltTeamInfos,\n    layout,\n    redirect,\n    title,\n    description,\n    permissions,\n    viewPermission,\n    items,\n    coverphoto,\n    imprintOverwrite,\n    privacyPolicyOverwrite\n  ])\n\n  const viewStatistics = useCallback(()=>{\n    const a = document.createElement('a')\n    a.href = `https://umami.qiekub.org/share/s0ZHBZbb/volt.link?url=%2F${code}`\n    a.target = '_blank'\n    a.rel = 'noreferrer'\n    a.click()\n  }, [code])\n\n  const gotoQrcodePage = () => {\n    const a = document.createElement('a')\n    a.href = `https://qrcode.volt.link/?c=volt.link/${code}`\n    a.target = '_blank'\n    a.rel = 'noreferrer'\n    a.click()\n  }\n\n  const rightHeaderActions = <div className=\"buttonRow\" style={{ whiteSpace: 'nowrap' }}>\n    {/* <button className=\"text\"><Localized id=\"path_editor_share\"/></button> */}\n    <button className=\"text hasIcon\" onClick={gotoQrcodePage}>\n      <span style={{pointerEvents: 'none'}}>\n        <SVG src={icon_qr_code} className=\"icon\" />\n        <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}><Localized id=\"path_editor_qrcode\" /></span>\n      </span>\n    </button>\n    <button className=\"text hasIcon\" onClick={viewStatistics}>\n      <span style={{pointerEvents: 'none'}}>\n        <SVG src={icon_assessment} className=\"icon\" />\n        <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}><Localized id=\"path_editor_statistics\" /></span>\n      </span>\n    </button>\n    <button className=\"green hasIcon\" onClick={handleSave}>\n      <span style={{pointerEvents: 'none'}}>\n        <SVG src={icon_publish} className=\"icon\" />\n        <span style={{verticalAlign: 'middle'}}><Localized id=\"path_editor_save\" /></span>\n      </span>\n    </button>\n  </div>\n\n  const editor_form = <>\n\n    <div className={classes.editor_form_row}>\n    <h3><Localized id=\"path_editor_title_label\" /></h3>\n    <TranslationRepeater\n      onChange={setTitle}\n      defaultValue={title}\n      addDefaultValue={() => ({ _id: uuidv4(), locale: defaultLocale, value: '' })}\n      addButtonText={getString('path_editor_add_translation')}\n      input={InputWithLocal_props => <input\n        aria-label={getString('path_editor_title_label')}\n        type=\"text\"\n        placeholder={getString('path_editor_title_placeholder')}\n        {...InputWithLocal_props}\n        style={{\n          ...InputWithLocal_props.style,\n          margin: '0',\n        }}\n      />}\n    />\n    </div>\n\n    <div className={classes.editor_form_row}>\n    <h3><Localized id=\"path_editor_description_label\" /></h3>\n    <TranslationRepeater\n      onChange={setDescription}\n      defaultValue={description}\n      addDefaultValue={() => ({ _id: uuidv4(), locale: defaultLocale, value: '' })}\n      addButtonText={getString('path_editor_add_translation')}\n      input={InputWithLocal_props => <HtmlInput\n        aria-label={getString('path_editor_description_label')}\n        placeholder={getString('path_editor_description_placeholder')}\n        {...InputWithLocal_props}\n        style={{\n          ...InputWithLocal_props.style,\n          margin: '0',\n        }}\n      />}\n    />\n    </div>\n\n    <div className={classes.editor_form_row}>\n      <h3><Localized id=\"path_editor_permissions_edit_label\" /></h3>\n      <div>\n    <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}><Localized id=\"path_editor_permissions_edit_info\" /></em>\n    <Repeater\n      onChange={handleChange_Permissions}\n      defaultValue={permissions}\n      addDefaultValue={() => ({ _id: uuidv4(), value: '', role: 'editor' })}\n      addButtonText={getString('path_editor_permissions_edit_add_button_label')}\n      render={\n        ({ defaultValue, ...repeater_props }) => {\n          const role = defaultValue.role\n          const value = defaultValue.value\n          return <PermissionInput\n              role={role}\n              defaultValue={value}\n              style={{\n                maxWidth: 'calc(100% - calc(var(--basis_x4) + var(--basis_x2)))',\n                margin: '0',\n              }}\n              {...repeater_props}\n            >\n              {InputWithLocal_props => <FancyInput \n                    style={{ ...InputWithLocal_props.style, display: 'flex', flexDirection: 'column' }}\n                >\n                {({ setError }) => (\n                  <EmailInput\n                    onError={setError}\n                    aria-label={getString('path_editor_permissions_edit_label')}\n                    placeholder={getString('path_editor_permissions_edit_placeholder')}\n                    {...InputWithLocal_props}\n                    style={{ flexGrow: '1', margin: '0' }}\n                  />\n                )}\n              </FancyInput>}\n            </PermissionInput>\n        }\n      }\n    />\n    </div>\n    </div>\n\n    <div className={classes.editor_form_row}>\n    <h3><Localized id=\"path_editor_permissions_view_label\" /></h3>\n    <div>\n    <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}><Localized id=\"path_editor_permissions_view_info\" /></em>\n    <MultiButton\n      onChange={setViewPermission}\n      ariaLabel={getString('path_editor_permissions_view_label')}\n      defaultValue={viewPermission}\n      items={[\n        { value: '', title: getString('path_editor_permissions_view_public') },\n        { value: '@volteuropa.org', title: getString('path_editor_permissions_view_volteuropa') },\n      ]}\n    />\n    </div>\n    </div>\n\n    <div className={classes.editor_form_row}>\n    <h3><Localized id=\"path_editor_use_as_label\" /></h3>\n    <div>\n    <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}><Localized id=\"path_editor_use_as_info\" /></em>\n    <MultiButton\n      onChange={setUseAs}\n      ariaLabel={getString('path_editor_use_as_label')}\n      defaultValue={useAs}\n      items={[\n        { value: 'redirect', title: getString('path_editor_use_as_value_redirect') },\n        { value: 'linklist', title: getString('path_editor_use_as_value_linklist') },\n        { value: '', title: getString('path_editor_use_as_value_nothing') }\n      ]}\n    />\n    </div>\n    </div>\n\n    {/*\n      voltTeams && voltTeams.length > 0\n      ? <>\n        <h3><Localized id=\"path_editor_belongs_to_team_label\" /></h3>\n        <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}><Localized id=\"path_editor_belongs_to_team_info\" /></em>\n        <Select\n          defaultValue={{\n            value: voltTeamInfos !== null ? voltTeamInfos.id || null : null,\n            label: voltTeamInfos !== null ? voltTeamInfos.name || '' : '',\n          }}\n          defaultInputValue={voltTeamInfos !== null ? voltTeamInfos.name || '' : ''}\n          onChange={setVoltTeamInfosFromSelect}\n          ariaLabel={getString('path_editor_belongs_to_team_search_placeholder')}\n          label={getString('path_editor_belongs_to_team_search_placeholder')}\n          placeholder={getString('path_editor_belongs_to_team_search_placeholder')}\n          options={voltTeams}\n          styles={custom_react_select_styles}\n          theme={custom_react_select_theme}\n        />\n      </>\n      : null\n    */}\n\n    {\n      useAs === 'linklist'\n        ? <>\n        <div className={classes.editor_form_row}>\n          <h3><Localized id=\"path_editor_layout_label\" /></h3>\n          <div>\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}><Localized id=\"path_editor_layout_info\" /></em>\n          <MultiButton\n            onChange={setLayout}\n            ariaLabel={getString('path_editor_layout_label')}\n            defaultValue={layout}\n            items={[\n              {\n                value: 'default',\n                title: getString('path_editor_layout_value_default'),\n                icon: <SVG src={layoutDefault} className=\"icon big\" />\n              },\n              {\n                value: 'person',\n                title: getString('path_editor_layout_value_person'),\n                icon: <SVG src={layoutPerson} className=\"icon big\" />\n              },\n            ]}\n          />\n          </div>\n          </div>\n\n          <div className={classes.editor_form_row}>\n          <h3><Localized id=\"path_editor_coverphoto_label\" /></h3>\n          <div>\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}>\n            <Localized id=\"path_editor_coverphoto_info\" vars={{\n              width: layout === 'person' ? '400px' : '1200px',\n              height: layout === 'person' ? '400px' : '400px',\n              ratio: layout === 'person' ? '1/1' : '3/1',\n            }}/>\n          </em>\n          <FancyInput>\n            {({ setError }) => (\n              <UrlInput\n                onError={setError}\n                onChange={setCoverphoto}\n                value={coverphoto}\n                type=\"text\"\n                placeholder={getString('path_editor_coverphoto_placeholder')}\n                aria-label={getString('path_editor_coverphoto_label')}\n                style={{\n                  marginRight: '0',\n                  marginLeft: '0',\n                  width: 'calc(100% - var(--basis_x2))'\n                }}\n              />\n            )}\n          </FancyInput>\n          {\n            layout !== 'person'\n              ? <>\n                <MultiButton\n                  onChange={setCoverphoto}\n                  ariaLabel={getString('path_editor_coverphoto_label')}\n                  defaultValue={coverphoto}\n                  items={[\n                    {\n                      value: '',\n                      title: 'No Coverphoto', // getString('path_editor_layout_value_default'),\n                    },\n                    ...[\n                      {\n                        value: 'https://assets.volteuropa.org/styles/scale_2880x/public/inline-images/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.jpg',\n                        icon: volt_bonn_thumb,\n                      },\n                      {\n                        value: 'https://assets.volteuropa.org/styles/scale_1920x/public/2020-11/Welcome-to-Volt.jpg',\n                        icon: welcome_to_volt_thumb,\n                      },\n                      {\n                        value: 'https://assets.volteuropa.org/styles/scale_1920x/public/2021-07/20200912_Plakatschlange_Ko%CC%88ln_Matteo%20Sant_Unione_011.jpeg',\n                        icon: plakatschlange_thumb,\n                      },\n                      {\n                        value: 'https://assets.volteuropa.org/styles/scale_1920x/public/2021-05/Aktion.jpeg',\n                        icon: aktion_thumb,\n                      },\n                      // 'https://www.volteuropa.org/stripes/hero-desktop-green.jpg',\n                      // 'https://www.volteuropa.org/stripes/hero-desktop-red.jpg',\n                      // 'https://www.volteuropa.org/stripes/hero-desktop-blue.jpg',\n                      // 'https://www.volteuropa.org/stripes/hero-desktop-yellow.jpg',\n                      // 'https://assets.volteuropa.org/styles/scale_1920x/public/2021-05/Colours-Background-Big.jpeg',\n                      // 'https://www.volteuropa.org/stripes/intermediate-green.jpg',\n                      // 'https://www.volteuropa.org/stripes/intermediate-red.jpg',\n                      // 'https://www.volteuropa.org/stripes/intermediate-blue.jpg',\n                      // 'https://www.volteuropa.org/stripes/intermediate-yellow.jpg',\n                      // 'https://www.volteuropa.org/og-default.png',\n                      // 'https://www.volteuropa.org/hero-default.jpg',\n                    ]\n                    .map(({value = '', icon = ''}) => ({\n                      value,\n                      icon: <img alt=\"\" src={icon} className=\"icon image\" />\n                    }))\n                  ]}\n                />\n              </>\n              : null\n          }\n          </div>\n          </div>\n        </>\n        : (\n          useAs === 'redirect'\n            ? <>\n              <div className={classes.editor_form_row}>\n              <h3><Localized id=\"path_editor_redirect_label\" /></h3>\n              <FancyInput>\n                {({ setError }) => (\n                  <UrlInput\n                    onError={setError}\n                    onChange={setRedirect}\n                    type=\"text\"\n                    placeholder={getString('path_editor_redirect_placeholder')}\n                    aria-label={getString('path_editor_redirect_label')}\n                    defaultValue={redirect}\n                    style={{\n                      marginRight: '0',\n                      marginLeft: '0',\n                      width: 'calc(100% - var(--basis_x2))'\n                    }}\n                  />\n                )}\n              </FancyInput>\n              </div>\n            </>\n            : null\n        )\n    }\n\n    {\n      useAs === 'linklist'\n        ? <Items\n            onChange={handleChange_Items}\n            defaultValue={items}\n          />\n        : null\n    }\n\n    {\n      useAs === 'linklist'\n      ? <>\n          <br />\n          <br />\n\n          <div className={classes.editor_form_row}>\n          <h3><Localized id=\"path_editor_imprint_overwrite_label\" /></h3>\n          <div>\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}>\n            <Localized id=\"path_editor_imprint_overwrite_info\" />\n          </em>\n          <FancyInput>\n            {({ setError }) => (\n              <UrlInput\n                onError={setError}\n                onChange={setImprintOverwrite}\n                defaultValue={imprintOverwrite}\n                type=\"text\"\n                placeholder={getString('path_editor_imprint_overwrite_placeholder')}\n                aria-label={getString('path_editor_imprint_overwrite_label')}\n                style={{\n                  marginRight: '0',\n                  marginLeft: '0',\n                  width: 'calc(100% - var(--basis_x2))'\n                }}\n              />\n            )}\n          </FancyInput>\n          </div>\n          </div>\n\n          <div className={classes.editor_form_row}>\n          <h3><Localized id=\"path_editor_privacy_policy_overwrite_label\" /></h3>\n          <div>\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}>\n            <Localized id=\"path_editor_privacy_policy_overwrite_info\" />\n          </em>\n          <FancyInput>\n            {({ setError }) => (\n              <UrlInput\n                onError={setError}\n                onChange={setPrivacyPolicyOverwrite}\n                defaultValue={privacyPolicyOverwrite}\n                type=\"text\"\n                placeholder={getString('path_editor_privacy_policy_overwrite_placeholder')}\n                aria-label={getString('path_editor_privacy_policy_overwrite_label')}\n                style={{\n                  marginRight: '0',\n                  marginLeft: '0',\n                  width: 'calc(100% - var(--basis_x2))'\n                }}\n              />\n            )}\n          </FancyInput>\n          </div>\n          </div>\n      </>\n      : null\n    }\n    </>\n\n  return <div\n    className={`hasHeader ${classes.editor} ${loadingContent ? classes.loadingContent : ''}`}\n  >\n    <Header\n      title={<a href={`https://volt.link/${code}`} target=\"_blank\" rel=\"noopener noreferrer\"><span className=\"hideOnSmallScreen\">volt.link</span>/{code}</a>}\n      rightActions={canEdit ? rightHeaderActions : null}\n      notificationBanner={\n        savingMessage === null\n          ? null\n          : <p style={{ textAlign: 'center' }}>{savingMessage}</p>\n      }\n    />\n\n    {\n      canEdit\n        ? editor_form\n        : <p style={{ marginTop: 'var(--basis)' }}><Localized id=\"path_editor_edit_permission_error\" /></p>\n    }\n  </div>\n}\n\nexport default withLocalization(Editor)\n","import React from 'react'\n\nimport classes from './App.module.css'\n\nimport useMediaQuery from '@mui/material/useMediaQuery'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\n\nimport {\n  Switch,\n  Route,\n  useRouteMatch,\n} from 'react-router-dom'\n\nimport { withLocalization } from '../fluent/Localized.js'\nimport { useHistory } from 'react-router-dom'\n\nimport Localized from '../fluent/Localized.js'\nimport useUser from '../hooks/useUser.js'\nimport Header from '../components/Header.js'\nimport Chooser from './Chooser.js'\nimport Shortcode from './Shortcode.js'\nimport Editor from './Editor.js'\n\nimport MultiButton from '../components/MultiButton.js'\n\nfunction App({ getString }) {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)')\n\n  const theme = React.useMemo(\n    () =>\n      createTheme({\n        palette: {\n          mode: prefersDarkMode ? 'dark' : 'light',\n        },\n      }),\n    [prefersDarkMode],\n  )\n\n\n  const [, loggedIn] = useUser()\n\n  const history = useHistory()\n  const menuRouteMatch = useRouteMatch(\"/:slug\")\n  const selected_route = menuRouteMatch ? menuRouteMatch.params.slug :''\n\n  const handleMenu = new_selected => {\n    switch (new_selected) {\n      case 'shortcode':\n        history.push('/shortcode')\n        break\n      case 'list':\n        window.open(`${window.domains.backend}list`,'_blank')\n        break\n      default:\n        history.push('/')\n    }\n  }\n\n  const loginLogoutButton = (\n    loggedIn\n      ? <>\n        <MultiButton\n          onChange={handleMenu}\n          ariaLabel={getString('main_menu')}\n          defaultValue={selected_route}\n          items={[\n            { value: '', title: getString('menu_micropages') },\n            { value: 'shortcode', title: getString('menu_url_shortener') },\n            { value: 'list', title: getString('menu_list') },\n          ]}\n        />\n        <a href={`${window.domains.backend}logout?redirect_to=${encodeURIComponent(window.location.toString())}`}>\n          <button className=\"red\" style={{ marginRight: '0' }}><Localized id=\"logout\"/></button>\n        </a>\n      </>\n      : <a href={`${window.domains.backend}login?redirect_to=${encodeURIComponent(window.location.toString())}`}>\n        <button style={{ marginRight: '0' }}><Localized id=\"login\"/></button>\n      </a>\n  )\n\n  return (<>\n  <ThemeProvider theme={theme}>\n    <div className={classes.app}>\n      {\n        !loggedIn\n          ? <div>\n            <Header\n              title=\"edit.volt.link\"\n              rightActions={loginLogoutButton}\n            />\n            <p><Localized id=\"login_prompt\"/></p>\n          </div>\n          : <>\n              <Switch>\n                <Route path=\"/edit/:code\">\n                  <Editor />\n                </Route>\n                <Route path=\"/shortcode\">\n                  <Shortcode rightHeaderActions={loginLogoutButton} />\n                </Route>\n                <Route path=\"/\">\n                  <Chooser rightHeaderActions={loginLogoutButton} />\n                </Route>\n              </Switch>\n            </>\n      }\n    </div>\n    <footer>\n      <a href=\"mailto:thomas.rosen@volteuropa.org\"><Localized id=\"contact\" /></a>\n      &nbsp;  &nbsp;\n      <a href=\"https://github.com/voltbonn/edit.volt.link\" target=\"_blank\" rel=\"noopener noreferrer\"><Localized id=\"source_code\" /></a>\n    </footer>\n    </ThemeProvider>\n  </>)\n}\n\nexport default withLocalization(App)\n","import React, { useEffect, useState } from 'react'\n\n// https://projectfluent.org/play/\n\n// import { LocalizationProvider, Localized } from '@fluent/react' // '@fluent/react/compat'\nimport { ReactLocalization, LocalizationProvider } from '@fluent/react'\nimport { FluentBundle, FluentResource } from '@fluent/bundle'\nimport { negotiateLanguages } from '@fluent/langneg'\n\n\nexport const locales = {\n  de: 'Deutsch',\n  en: 'English',\n  // es: 'Espaol',\n  // pt: 'Portugus',\n  // fr: 'Franais',\n  // it: 'Italiano',\n  // nl: 'Dutch',\n  // pl: 'Polska',\n  // ru: 'P',\n}\n\nconst _supportedLocales_ = Object.keys(locales)\nconst _defaultLocale_ = 'en'\n\n\nasync function fetchMessages(locale) {\n  const path = await import('../locales/' + locale + '.ftl')\n\n  const response = await fetch(path.default)\n  const messages = await response.text()\n\n  return { [locale]: new FluentResource(messages) }\n}\n\nfunction getDefaultBundles() {\n  const bundle = new FluentBundle('')\n  bundle.addResource(new FluentResource(''))\n  return new ReactLocalization([bundle])\n}\n\nasync function createMessagesGenerator(currentLocales) {\n  const fetched = await Promise.all(\n    currentLocales.map(fetchMessages)\n  )\n  const messages = fetched.reduce(\n    (obj, cur) => Object.assign(obj, cur)\n  )\n\n  return function* generateBundles() {\n    for (const locale of currentLocales) {\n      const bundle = new FluentBundle(locale)\n      bundle.addResource(messages[locale])\n      yield bundle\n    }\n  }\n}\n\nexport function AppLocalizationProvider({ userLocales, children, onLocaleChange }) {\n  const [bundles, setBundles] = useState(getDefaultBundles())\n\n  useEffect(() => {\n    async function loadBundles() {\n      const currentLocales = negotiateLanguages(\n        userLocales,\n        _supportedLocales_,\n        { defaultLocale: _defaultLocale_ }\n      )\n\n      if (!!onLocaleChange) {\n        onLocaleChange(currentLocales)\n      }\n\n      const generateBundles = await createMessagesGenerator(currentLocales)\n\n      const new_bundles = new ReactLocalization(generateBundles())\n      new_bundles.userLocales = userLocales\n      new_bundles.defaultLocale = _defaultLocale_\n      new_bundles.supportedLocales = _supportedLocales_\n      setBundles(new_bundles)\n    }\n    loadBundles()\n  }, [userLocales, onLocaleChange])\n\n  if (!bundles) {\n    // Show a loader.\n    return <div>Loading texts</div>\n  }\n\n  return <LocalizationProvider l10n={bundles}>\n    {children}\n  </LocalizationProvider>\n}\n\n","import React, { useState, useEffect, useCallback } from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './pages/App.js'\n// import reportWebVitals from './reportWebVitals'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport 'intl-pluralrules'\nimport { AppLocalizationProvider, locales } from './fluent/l10n.js'\n\nwindow.domains = {\n  frontend: 'https://edit.volt.link',\n  // frontend: 'http://localhost:3000/',\n  backend: 'https://volt.link/',\n  // backend: 'http://localhost:4000/',\n}\n\nfunction AppLanguageWrapper() {\n  // const [userLocales, setUserLocales] = useState(['de'])\n  const [userLocales, setUserLocales] = useState(navigator.languages)\n  const [currentLocale, setCurrentLocale] = useState(null)\n\n  useEffect(() => {\n    if (!!window.umami) {\n      let systemLocales = navigator.languages\n      if (!!systemLocales || Array.isArray(systemLocales)) {\n        for (let locale of systemLocales) {\n          locale = locale.toLowerCase() // Not really correct but the system locales sadly don't conform to the standard.\n\n          const language = locale.split('-')[0]\n          if (language !== locale) {\n            window.umami.trackEvent('L: ' + language) // Log just the language.\n          }\n          window.umami.trackEvent('L: ' + locale) // Log the full locale.\n        }\n      }\n    }\n  }, [])\n\n  const handleLanguageChange = useCallback(event => {\n    setUserLocales([event.target.dataset.locale])\n  }, [setUserLocales])\n\n  const handleCurrentLocalesChange = useCallback(currentLocales => {\n    setCurrentLocale(currentLocales.length > 0 ? currentLocales[0] : '')\n  }, [setCurrentLocale])\n\n  return <AppLocalizationProvider\n    key=\"AppLocalizationProvider\"\n    userLocales={userLocales}\n    onLocaleChange={handleCurrentLocalesChange}\n  >\n    <App locales={locales} currentLocale={currentLocale} onLanguageChange={handleLanguageChange} />\n  </AppLocalizationProvider>\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <AppLanguageWrapper />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Repeater_row__1ODoF\",\"middleActions\":\"Repeater_middleActions__3nRoT\",\"trigger\":\"Repeater_trigger__1VtG5\",\"content\":\"Repeater_content__110R9\",\"form\":\"Repeater_form__2N6kw\",\"item\":\"Repeater_item__2OI78\",\"inlineRowButton\":\"Repeater_inlineRowButton__uqk8Y\",\"addRowButton\":\"Repeater_addRowButton__3huSP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"Editor_editor__2hX0g\",\"loadingContent\":\"Editor_loadingContent__2fqdK\",\"editor_form_row\":\"Editor_editor_form_row__17Pul\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"EditorBlock_block__1BwCd\",\"chooseTypeScreen\":\"EditorBlock_chooseTypeScreen__3Z4qe\",\"itemSettingsRow\":\"EditorBlock_itemSettingsRow__1X6a4\",\"itemSettingsRowLeft\":\"EditorBlock_itemSettingsRowLeft__1LB7l\",\"active_toggle_wrapper\":\"EditorBlock_active_toggle_wrapper__1JWJ_\",\"active_label\":\"EditorBlock_active_label__uT8S1\",\"form_deactivated\":\"EditorBlock_form_deactivated__2dfc7\",\"form_active\":\"EditorBlock_form_active__yHnB8\",\"active_toggle_icon\":\"EditorBlock_active_toggle_icon__2h3AM\",\"active\":\"EditorBlock_active__30UyO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\",\"headerBar\":\"Header_headerBar__2YU41\",\"notificationBanner\":\"Header_notificationBanner__104SP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chooserInput\":\"Chooser_chooserInput__JXUde\",\"hideSubmitButton\":\"Chooser_hideSubmitButton__5jsIt\",\"domainPrefix\":\"Chooser_domainPrefix__2HRVV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Shortcode_input__Av6rm\",\"hideSubmitButton\":\"Shortcode_hideSubmitButton__mbXgB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rebuild_textarea\":\"HtmlInput_rebuild_textarea__2u8XW\",\"show_placeholder\":\"HtmlInput_show_placeholder__3tbxN\"};"],"sourceRoot":""}