{"version":3,"sources":["components/view/ViewerPageLine.module.css","fluent/fluentBy.js","components/SidebarContent.module.css","components/view/ViewerPersonCard.module.css","components/Header.module.css","components/Sidebar.module.css","pages/Shortcode.module.css","components/edit/TranslatedInput.module.css","components/edit/HtmlInput.module.css","pages/App.module.css","components/view/ViewerAuto.module.css","components/edit/FancyInput.module.css","pages/Editor.module.css","locales lazy /^/.//.*/.ftl$/ groupOptions: {} namespace object","fluent/Localized.js","graphql/queries.js","hooks/useUser.js","hooks/useMediaQuery.js","graphql/mutations.js","hooks/useSaveBlock.js","components/view/ViewerHeadlineCard.js","components/view/ViewerTextCard.js","components/view/ViewerButtonCard.js","components/view/ViewerDividerCard.js","components/view/ViewerCheckboxCard.js","components/view/ViewerPageLine.js","components/view/ViewerPageCard.js","components/view/ViewerPersonCard.js","components/view/ViewerActionCard.js","components/view/ViewerAuto.js","components/Popover.js","hooks/useOnOutsideClick.js","components/PopoverMenu.js","components/SidebarContent.js","components/Sidebar.js","components/HeaderMenu.js","components/Header.js","components/edit/UrlInput.js","components/edit/FancyInput.js","pages/Shortcode.js","hooks/useKeyPress.js","hooks/useLoadBlock.js","components/edit/TranslatedInput.js","components/edit/BlockMenu.js","components/edit/HtmlInput.js","components/edit/SharingEditor.js","components/edit/EmailInput.js","components/edit/PermissionsEditor.js","components/edit/CheckboxInput.js","components/MultiButton.js","images/coverphotos/thumbs/20200912_Plakatschlange_Koeln_Matteo Sant_Unione_011.png","images/coverphotos/thumbs/Aktion.png","images/coverphotos/thumbs/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.png","images/coverphotos/thumbs/Welcome-to-Volt.png","components/edit/CoverphotoPicker.js","components/edit/IconPicker.js","components/edit/TriggerInput.js","components/edit/ActionInput.js","components/edit/PropertiesEditor.js","components/edit/InlineEditorBlockText.js","components/edit/InlineEditorBlockButton.js","components/edit/InlineEditorBlockHeadline.js","components/edit/InlineEditorBlockDivider.js","components/edit/InlineEditorBlockCheckbox.js","components/edit/InlineEditorBlockPerson.js","components/edit/InlineEditorBlock.js","components/edit/ContentEditor.js","pages/Editor.js","hooks/useLoadBlocksByIds.js","pages/Viewer.js","pages/App.js","fluent/l10n.js","index.js","components/view/ViewerActionCard.module.css","components/edit/PermissionsEditor.module.css","components/edit/IconPicker.module.css","Snackbar.module.css","components/edit/PropertiesEditor.module.css","components/edit/CoverphotoPicker.module.css","pages/Viewer.module.css","components/view/ViewerPageCard.module.css","components/edit/SharingEditor.module.css","components/edit/InlineEditorBlock.module.css","components/edit/ContentEditor.module.css"],"names":["module","exports","negotiateLanguages","require","fluentByObject","object","userLocales","supportedLocales","Object","keys","length","lookupedLocale","defaultLocale","strategy","fluentByArray","array","key","map","item","filter","Boolean","fluentByAny","any","fallback","Array","isArray","result","value","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","Localized","props","elems","br","Fragment","children","withLocalization","Inner","l10n","React","useContext","FluentContext","createElement","globalSupportedLocales","thisSupportedLocales","locale","includes","currentLocales","getString","args","useLocalization","fluentBy","getBlock_Query","gql","getBlocks_Query","getSelf_Query","useUser","forceRefetch","useState","user","setUser","loggedIn","setLoggedIn","apollo_client","useApolloClient","useEffect","window","hasOwnProperty","useUser_user","useUser_loggedIn","query","a","data","self","logged_in","catch","error","useMediaQuery","matches","setMatches","media","matchMedia","listener","addEventListener","removeEventListener","saveBlock_Mutation","useSaveBlock","useSnackbar","enqueueSnackbar","closeSnackbar","useCallback","newBlock","final_resolve","snackbarKey","__typename","loadingDataPromise","mutate","mutation","variables","block","variant","preventDuplicate","autoHideDuration","_id","saveBlock","console","message","race","setTimeout","response","persist","ViewerHeadlineCard","text","properties","dir","ViewerTextCard","ViewerButtonCard","actions","url","trigger","action","type","hasClickAction","href","style","margin","disabled","onClick","onclick","ViewerDividerCard","ViewerCheckboxCard","checked","checkboxStyle","verticalAlign","paddingInlineEnd","height","width","CheckBox","CheckBoxOutlineBlank","ViewerPageLine","navigate","useNavigate","blockId","viewBlock","icon_url","icon","click","className","classes","root","backgroundImage","domains","backend","encodeURIComponent","alt","title","ViewerPageCard","coverphoto_url","coverphoto","description","ViewerPersonCard","name","ViewerActionCard","triggerInfo","triggerProperties","triggerType","path","mdiOpenInApp","size","mdiGestureTapButton","mdiTimer","cron","mdiSetRight","JSON","stringify","actionInfo","actionProperties","actionType","mdiWeb","mdiApplicationOutline","mdiFileCode","mdiCubeSend","mdiRayStartArrow","iconLine","ViewerAuto","component","Popover","ref","handler","anchorRef","useRef","open","setOpen","paperRef","event","current","contains","target","document","closePopover","Math","random","toString","substring","undefined","prevOpen","Portal","display","position","top","right","bottom","left","zIndex","cursor","Popper","anchorEl","transition","placement","disablePortal","modifiers","enabled","options","altBoundary","rootBoundary","padding","altAxis","tether","TransitionProps","Fade","transformOrigin","PopoverMenu","popoverProps","Paper","sx","maxWidth","maxHeight","overflow","background","color","elevation","MenuList","autoFocus","marginTop","Divider","opacity","MenuItem","ListItemIcon","Close","ListItemText","blockTypeIcons","page","person","SidebarContent","leftHeaderActions","rightHeaderActions","toggleSidebar","useSidebarContext","matchesStartpage","useMatch","types","setTypes","filteredTypes","entries","useQuery","refetch","blocks","createBlock","gottenBlock","toggleType","type2toggle","content","header","headerBar","MenuOpen","triggerProps","FilterList","selected","Add","alignItems","flexGrow","to","Home","location","Logout","primary","Login","rel","SidebarContext","createContext","SidebarProvider","realOpen","oldOpen","Provider","Sidebar","iOS","navigator","test","userAgent","isDesktop","SwipeableDrawer","anchor","onOpen","onClose","disableBackdropTransition","disableDiscovery","flexShrink","boxSizing","backgroundColor","PaperProps","Main","main","sidebarWidth","HeaderMenu","items","anchorOrigin","vertical","horizontal","label","Header","rightActions","notificationBanner","leftActions","Menu","MoreHoriz","fontWeight","url_regex","email_regex","is_email_not_url_regex","UrlInput","defaultValue","onChange","onBlur","onError","placeholder","setText","handleTextChange","schema_parts","split","schema","shift","after_schema","join","match","handleBlur","FancyInput","setError","callback","redirectLink","setRedirectLink","isSubmittable","setIsSubmittable","generateRedirectLink","onKeyup","handleRedirectLink","use_as","redirect","fetch","mode","credentials","method","headers","body","r","json","input","hideSubmitButton","flexDirection","useLoadBlock","loadedBlock","TranslatedInputContext","showTranslations","TranslatedInputProvider","thisDefaultLocale","locales","setLocales","currentLocale","setCurrentLocale","setLocalesCallback","newLocales","filterByLocale","textArray","filtered","setShowTranslations","toggleShowTranslations","oldShowTranslations","setCurrentLocaleExternal","newLocale","useTranslatedInputContext","LocalesMenu","setLocale","addLocale","List","ListSubheader","whiteSpace","lineHeight","thisLocale","index","TranslatedInput","arrayWithLocales","setArrayWithLocales","currentText","t","handleChange","newTextValue","newValue","findIndex","best","translatedInput","translationHelp","toUpperCase","setType","toggle_active","active","onRemoveRow","addRowBefore","addRowAfter","handleAddRowBefore","editBlock","option","VerticalAlignTop","VerticalAlignBottom","VisibilityOff","Visibility","marginBottom","getInLineRangeLength","element","whichLine","normalize","getSelection","selection","range","rangeCount","getRangeAt","clonedRange","cloneRange","selectNodeContents","setEnd","endContainer","endOffset","cloneContents","rangeLength","childNodes","nodeType","detach","getCaretPosition","cs","getComputedStyle","paddingY","parseFloat","paddingTop","paddingBottom","borderY","borderTopWidth","borderBottomWidth","elementHeight","offsetHeight","offset","getOffset","caretOffset","getCaretOffset","inFirstLine","inLastLine","caretPositionFromStart","node","textContent","nodeName","getRangeLengthWithLinebreaks","textLength","innerText","caretPositionFromEnd","positionFromLineStart","positionFromStart","positionFromEnd","HtmlInput","linebreaks","onInputRef","onGoToPrevInput","onGoToNextInput","onSplitText","onMergeToPrevInput","onMergeToNextInput","inputRef","__html","fakeDefaultValue","setFakeDefaultValue","old_text","old_fakeDefaultValue","newHtmlValue","replace","innerHTML","trim","handleTextBlur","keyDownHandler","shiftKey","execCommand","preventDefault","caret","start","slice","end","texts","handlePaste","originalEvent","clipboardData","getData","onKeyDown","onInput","onPaste","rebuild_textarea","show_placeholder","contentEditable","dangerouslySetInnerHTML","copyTextToClipboard","clipboard","writeText","log","err","textArea","appendChild","focus","select","msg","removeChild","fallbackCopyTextToClipboard","SharingEditor","defaultBlock","setPath","initialPath","savePath","newPath","newProperties","Modal","hideBackdrop","backdrop","dialog","inputWrapper","paddingRight","linebreak","marginInlineStart","marginInlineEnd","emails_regex","EmailInput","multiple","emails","LocalizedRole","role","RolesMenu","changeRole","removePermission","setAnchorEl","handleClose","currentTarget","MenuListProps","Edit","Delete","sortPermissions","permissions","owner","p","sort","b","email","localeCompare","special","other","PermissionsEditor","defaultPermissions","user_email","inputRepaintKey","setInputRepaintKey","setPermissions","newEmails","setNewEmails","newRole","setNewRole","setNewPermission","newPermissions","obj","obj_new","tmp_id","uuidv4","permission","unshift","addPermissions","push","newEmail","addNewPermissionFromInput","oldInputRepaintKey","doesNotHaveVoltEuropa","doesNotHavePublic","dialogsWrapper","emailInput","menuButton","KeyboardArrowDown","permissionRow","ownerInfo","CheckboxInput","setChecked","publishChanges","checkBlock","uncheckBlock","MultiButton","ariaLabel","choosen","setChoosen","handleClick","dataset","pointerEvents","iconValue","isAbsoluteUrlRegexp","RegExp","defaultValueIsUrl","iconValueIsUrl","coverphotoIsSet","coverphotoIsNotSet","iconIsSet","iconIsNotSet","button_wrapper","changeCoverphotoButton","marginRight","marginLeft","volt_bonn_thumb","welcome_to_volt_thumb","plakatschlange_thumb","aktion_thumb","src","coverphotoValue","coverphotoValueIsUrl","iconWrapper","no_image","changeIconButton","TriggerInput","setProperties","updateProperty","propertyKey","newPropertyValue","propertyTypes","morePropsInput","minWidth","flexWrap","gap","ActionInput","addTmpIds","defaultProperties","imprint","privacy_policy","tags","propertiesFrameContent","properties_row","main_headline","translatedInputProps","propertiesFrame","InlineEditorBlockText","onSaveBlock","onAddRowAfter","publishTextChange","handleMergeToPrevInput","handleMergeToNextInput","InlineEditorBlockButton","link","setLink","InlineEditorBlockHeadline","InlineEditorBlockDivider","InlineEditorBlockCheckbox","saveChecked","InlineEditorBlockPerson","InlineEditorBlockInbetweenComponent","InlineEditorBlock","defaultContentConfig","reorderHandle","actionButton","loadBlock","setBlock","handleChange_Type","handleSaveBlock","block_input","form_active","form_deactivated","getLastLineStartNode","reverse","lastLineNode","childNode","thisChildNodes","moveCursorToOffsetInLine","contentEditableElement","lastLineStartNode","lastLineStartNodeLength","createRange","setStart","collapse","sel","removeAllRanges","addRange","ContentEditor","contentConfigs","setContentConfigs","inputRefs","setInputRefs","newContentConfigs","saveInputRef","newInputRefs","goToPrevInput","prevInputRef","thisIndex","goToNextInput","nextInputRef","firstLineStartNode","getFirstLineStartNode","focusLastLine","lastInputRef","handleRowChange","newContentConfig","oldContentConfig","addRowByIndex","isNaN","new_rows","splice","filteredContentConfigs","contentConfig","onDragEnd","destination","source","list","startIndex","endIndex","from","removed","reorder","droppableId","isDropDisabled","provided","innerRef","droppableProps","draggableId","isDragDisabled","disableInteractiveElementBlocking","shouldRespectForcePress","draggableProps","row","form","Tooltip","textAlign","inlineRowButton","dragHandleButton","dragHandleProps","attr","Editor","isSharingEditorOpen","setIsSharingEditorOpen","openSharingEditor","closeSharingEditor","isPermissionsEditorOpen","setIsPermissionsEditorOpen","openPermissionsEditor","closePermissionsEditor","loadedTheBlock","useParams","Set","saveType","newType","saveProperties","saveContent","newContent","savePermissions","manuallySaveEverything","editor","useLoadBlocksByIds","Viewer","loadingTheBlock","loadBlocksByIds","contentBlocks","setContentBlocks","loadedContentBlocks","contentBlocksOrdered","find","app","spine_aligned","contentWrapper","flatMap","i","contentBlock","App","useLocation","customLocation","setCustomLocation","real_path","URLSearchParams","search","get","pathname","history","replaceState","Shortcode","de","en","fr","_supportedLocales_","_defaultLocale_","fetchMessages","default","messages","FluentResource","createMessagesGenerator","all","fetched","reduce","cur","assign","generateBundles","bundle","FluentBundle","addResource","f","AppLocalizationProvider","onLocaleChange","ReactLocalization","getDefaultBundles","bundles","setBundles","new_bundles","loadBundles","frontend","client","ApolloClient","uri","cache","InMemoryCache","defaultOptions","watchQuery","fetchPolicy","Start","languages","setUserLocales","umami","systemLocales","language","toLowerCase","trackEvent","handleLanguageChange","handleCurrentLocalesChange","prefersDarkMode","theme","useMemo","createTheme","palette","ApolloProvider","ThemeProvider","variantSuccess","snackbarClasses","snackbar","success","variantError","variantWarning","warning","variantInfo","info","domRoot","getElementById","onLanguageChange","ReactDOM","render"],"mappings":"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","file":"static/js/main.ae16d5e5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"ViewerPageLine_icon__GiwAD\",\"title\":\"ViewerPageLine_title__3zDUr\"};","const { negotiateLanguages } = require('@fluent/langneg')\n\nfunction fluentByObject(object = {}, userLocales = ['en']){\n  const supportedLocales = Object.keys(object)\n\n  if (supportedLocales.length === 0) {\n    return null\n  }\n\n  const lookupedLocale = negotiateLanguages(\n    userLocales,\n    supportedLocales,\n    {\n      defaultLocale: supportedLocales[0],\n      strategy: 'lookup',\n    }\n  )\n\n  if (lookupedLocale.length === 0) {\n    return null\n  }\n\n  return object[lookupedLocale[0]]\n}\n\nfunction fluentByArray(array = [], userLocales = ['en'], key = 'locale') {\n  const supportedLocales = array.map(item => item[key]).filter(Boolean)\n\n  if (supportedLocales.length === 0) {\n    return null\n  }\n\n  const lookupedLocale = negotiateLanguages(\n    userLocales,\n    supportedLocales,\n    {\n      defaultLocale: supportedLocales[0],\n      strategy: 'lookup',\n    }\n  )\n\n  if (lookupedLocale.length === 0) {\n    return null\n  }\n\n  return array.filter(item => item[key] === lookupedLocale[0])\n}\n\nfunction fluentByAny(any = '', userLocales = ['en'], fallback = '') {\n  if (Array.isArray(any)) {\n    const result = fluentByArray(any, userLocales)\n    if (Array.isArray(result) && result.length > 0) {\n      any = result[0].value\n    }\n  } else if (typeof any === 'object') {\n    any = fluentByObject(any, userLocales)\n  }\n  if (typeof any !== 'string') {\n    any = fallback\n  }\n  return any\n}\n\nmodule.exports = {\n  fluentByObject,\n  fluentByArray,\n  fluentByAny,\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"SidebarContent_content__RAi8X\",\"header\":\"SidebarContent_header__1pYRG\",\"headerBar\":\"SidebarContent_headerBar__2xkje\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"ViewerPersonCard_icon__3fe_H\",\"name\":\"ViewerPersonCard_name__3Ddq3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\",\"headerBar\":\"Header_headerBar__2YU41\",\"notificationBanner\":\"Header_notificationBanner__104SP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Sidebar_main__1MCX5\",\"open\":\"Sidebar_open__gnBQb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Shortcode_input__Av6rm\",\"hideSubmitButton\":\"Shortcode_hideSubmitButton__mbXgB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"translatedInput\":\"TranslatedInput_translatedInput__2vy_n\",\"content\":\"TranslatedInput_content__2-c_U\",\"translationHelp\":\"TranslatedInput_translationHelp__2_0uC\",\"changeLocaleButton\":\"TranslatedInput_changeLocaleButton__19h6P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rebuild_textarea\":\"HtmlInput_rebuild_textarea__ZfRzZ\",\"show_placeholder\":\"HtmlInput_show_placeholder__hM8g2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3hbGO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ViewerAuto_root__1p6KG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FancyInput_error__2DFWE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"Editor_editor__2hX0g\",\"loadingContent\":\"Editor_loadingContent__2fqdK\",\"editor_form_row\":\"Editor_editor_form_row__17Pul\"};","var map = {\n\t\"./de.ftl\": [\n\t\t222,\n\t\t3\n\t],\n\t\"./en.ftl\": [\n\t\t223,\n\t\t4\n\t],\n\t\"./fr.ftl\": [\n\t\t224,\n\t\t5\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 213;\nmodule.exports = webpackAsyncContext;","import React from 'react'\nimport {\n  Localized as LocalizedOriginal,\n  // withLocalization,\n} from '@fluent/react'\nimport { negotiateLanguages } from '@fluent/langneg'\n\nimport { FluentContext } from '../../node_modules/@fluent/react/esm/context.js'\nimport fluentBy from './fluentBy.js'\n\nconst Localized = props => (\n  <LocalizedOriginal\n    key={props.id}\n    {...props}\n    elems={{\n      br: <br />,\n      ...props.elems,\n    }}\n  >\n    <React.Fragment>{props.children}</React.Fragment>\n  </LocalizedOriginal>\n)\n\n// A custom withLocalization to have an empty fallback.\n// It is nearly identical to the original.\nfunction withLocalization(Inner) {\n  function WithLocalization(props) {\n    const l10n = React.useContext(FluentContext)\n\n    const getString = (id, args, fallback) => l10n.getString(id, args, fallback || ' ')\n\n    const fluentByObject = (object, fallback) => {\n      if (!(!!fallback)) {\n        fallback = null\n      }\n\n      if (!!object) {\n        const globalSupportedLocales = l10n.supportedLocales || []\n        const thisSupportedLocales = Object.keys(object).filter(locale => globalSupportedLocales.includes(locale))\n\n        const currentLocales = negotiateLanguages(\n          l10n.userLocales,\n          thisSupportedLocales,\n          { defaultLocale: l10n.defaultLocale }\n        )\n\n        for (const locale of currentLocales) {\n          if (!!object[locale]) {\n            return object[locale]\n          }\n        }\n\n        return fallback\n      }\n\n      return fallback\n    }\n\n    return React.createElement(Inner, { fluentByObject, getString, ...props })\n  }\n  return WithLocalization\n}\n\nfunction useLocalization() {\n  const l10n = React.useContext(FluentContext)\n\n  const getString = (id, args, fallback) => l10n.getString(id, args, fallback || ' ')\n  const fluentByAny = (any = [], fallback = '') => fluentBy.fluentByAny(any, l10n.userLocales, fallback)\n\n  return {\n    ...l10n,\n    getString,\n    fluentByAny,\n  }\n}\n\nexport {\n  negotiateLanguages,\n  withLocalization,\n  Localized,\n  Localized as default,\n  useLocalization,\n}\n\n/*\n\nimport { Localized, withLocalization } from '../Localized/'\n\n<Localized id=\"translation_id\" />\nexport default withLocalization(componentName)\n\n\nimport Localized from '../Localized/'\n<Localized id=\"translation_id\" />\n\nimport { withLocalization } from '@fluent/react'\nexport default withLocalization(componentName)\n\n*/\n","import { gql } from '@apollo/client'\n\nexport const getBlock_Query = gql`\n  query getBlock ($_id: ID!) {\n    block (_id: $_id) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        created\n      }\n    }\n  }\n`\n\nexport const getBlocks_Query = gql`\n  query getBlocks ($ids: [ID], $types: [String]) {\n    blocks (ids: $ids, types: $types) {\n      _id\n      type\n      properties\n      content {\n        blockId\n      }\n      parent\n      metadata {\n        modified\n        created\n      }\n    }\n  }\n`\n\nexport const getBlockBySlug_Query = gql`\n  query getBlockBySlug ($slug: ID!) {\n    blockBySlug (slug: $slug) {\n\t\t  _id\n\t\t  type\n\t\t  properties\n\t\t  content {\n        blockId\n      }\n\t\t  parent\n\t\t  metadata {\n        modified\n        created\n      }\n      permissions {\n        email\n        role\n      }\n    }\n  }\n`\n\nexport const getSelf_Query = gql`\n  query getSelf {\n    self {\n\t\t  logged_in\n\t\t  user\n\t\t  blockId\n    }\n  }\n`\n","import { useState, useEffect } from 'react'\n\nimport { useApolloClient } from '@apollo/client'\nimport { getSelf_Query } from '../graphql/queries'\n\nexport default function useUser(forceRefetch = false) {\n  const [user, setUser] = useState({})\n  const [loggedIn, setLoggedIn] = useState(false)\n\n  const apollo_client = useApolloClient()\n\n  useEffect(() => {\n    if (forceRefetch !== true && window.hasOwnProperty('useUser_user') && window.hasOwnProperty('useUser_loggedIn')) {\n      setUser(window.useUser_user)\n      setLoggedIn(window.useUser_loggedIn)\n    }else{\n      apollo_client.query({\n        query: getSelf_Query,\n      })\n        .then(async ({ data }) => {\n          if (data.hasOwnProperty('self')) {\n            window.useUser_user = data.self\n            window.useUser_loggedIn = data.self.logged_in\n            setUser(data.self)\n            setLoggedIn(data.self.logged_in)\n          } else {\n            window.useUser_user = {}\n            window.useUser_loggedIn = false\n            setUser({})\n            setLoggedIn(false)\n          }\n        })\n        .catch(error => {\n          window.useUser_user = {}\n          window.useUser_loggedIn = false\n          setUser({})\n          setLoggedIn(false)\n        })\n    }\n  }, [forceRefetch, setUser, setLoggedIn, apollo_client])\n\n  return {\n    ...user,\n    loggedIn,\n  }\n}\n","import { useState, useEffect } from \"react\";\n\nconst useMediaQuery = (query) => {\n  const [matches, setMatches] = useState(false);\n\n  useEffect(() => {\n    const media = window.matchMedia(query);\n    if (media.matches !== matches) {\n      setMatches(media.matches);\n    }\n    const listener = () => setMatches(media.matches);\n    window.addEventListener(\"resize\", listener);\n    return () => window.removeEventListener(\"resize\", listener);\n  }, [matches, query]);\n\n  return matches;\n}\n\nexport default useMediaQuery;\n","import { gql } from '@apollo/client'\n\nexport const saveBlock_Mutation = gql`\n  mutation saveBlock ($block: InputBlock!) {\n    saveBlock (block: $block)\n  }\n`\n","import { useCallback } from 'react'\n\nimport { useLocalization } from '../fluent/Localized.js'\n\nimport { useApolloClient } from '@apollo/client'\nimport { saveBlock_Mutation } from '../graphql/mutations.js'\n\nimport { useSnackbar } from 'notistack'\n\nfunction useSaveBlock() {\n  const { getString } = useLocalization()\n\n  const apollo_client = useApolloClient()\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar()\n\n  const handleSaveBlock = useCallback((newBlock) => {\n    return new Promise(final_resolve => {\n      let snackbarKey = null\n\n      newBlock = {...newBlock}\n\n      if (\n        typeof newBlock === 'object'\n        && newBlock !== null\n        && newBlock.hasOwnProperty('__typename')\n      ) {\n        delete newBlock.__typename\n      }\n\n      const loadingDataPromise = new Promise(resolve => {\n        apollo_client.mutate({\n          mutation: saveBlock_Mutation,\n          variables: {\n            block: newBlock\n          },\n        })\n          .then(async ({ data }) => {\n            resolve('got-data')\n\n            if (snackbarKey !== null) {\n              closeSnackbar(snackbarKey)\n            }\n\n            if (typeof data.error === 'string') {\n              if (data.error === 'no_edit_permission') {\n                enqueueSnackbar(getString('path_editor_edit_permission_error'), {\n                  variant: 'error',\n                  preventDuplicate: true,\n                  autoHideDuration: 2000,\n                })\n              } else {\n                enqueueSnackbar('' + data.error, {\n                  variant: 'error',\n                  preventDuplicate: true,\n                  autoHideDuration: 2000,\n                })\n              }\n            } else {\n              final_resolve({\n                ...newBlock,\n                _id: data.saveBlock,\n              })\n\n              enqueueSnackbar(getString('path_editor_status_saved'), {\n                variant: 'success',\n                preventDuplicate: false,\n                autoHideDuration: 2000,\n              })\n            }\n          })\n          .catch(async error => {\n            console.error(error)\n            resolve('got-error')\n\n            if (snackbarKey !== null) {\n              closeSnackbar(snackbarKey)\n            }\n\n            enqueueSnackbar(getString('path_editor_status_error_while_saving', {\n              error: error.message,\n            }), {\n              variant: 'error',\n              preventDuplicate: true,\n              autoHideDuration: 2000,\n            })\n          })\n      })\n\n      // Show a loading-info-snackbar if loading the data takes too long.\n      Promise.race([\n        new Promise(resolve => {\n          setTimeout(() => {\n            resolve('show-loading')\n          }, 300)\n        }),\n        loadingDataPromise,\n      ])\n        .then(response => {\n          if (response === 'show-loading') {\n            snackbarKey = enqueueSnackbar(getString('path_editor_status_started_saving'), {\n              persist: true,\n              preventDuplicate: true,\n            })\n          }\n        })\n        .catch(error => console.error)\n\n    })\n  }, [\n    enqueueSnackbar,\n    closeSnackbar,\n    apollo_client,\n    getString,\n  ])\n\n  return handleSaveBlock\n}\n\nexport default useSaveBlock\n","import { useLocalization } from '../../fluent/Localized.js'\n\nfunction ViewerHeadlineCard ({ block }) {\n  const { fluentByAny } = useLocalization()\n\n  const text = fluentByAny(block.properties.text, '')\n  return <h2 dir=\"auto\">{text}</h2>\n}\n\nexport default ViewerHeadlineCard\n","import { useLocalization } from '../../fluent/Localized.js'\n\nfunction ViewerTextCard ({ block }) {\n  const { fluentByAny } = useLocalization()\n\n  // console.log('block.properties.text', block.properties.text)\n  const text = fluentByAny(block.properties.text, '')\n  // console.log('text', text)\n  return <p dir=\"auto\">{text}</p>\n}\n\nexport default ViewerTextCard\n","import { useLocalization } from '../../fluent/Localized.js'\n\nfunction ViewerButtonCard ({ block, actions = {} }) {\n  const { fluentByAny } = useLocalization()\n\n  let url = ''\n  if (\n    block\n    && block.properties\n    && block.properties.trigger\n    && block.properties.action\n    && block.properties.action.url\n    && block.properties.trigger.type === 'click'\n    && block.properties.action.type === 'open_url'\n  ) {\n    url = block.properties.action.url\n  }\n\n  const text = fluentByAny(block.properties.text, '')\n\n  const hasClickAction = actions.hasOwnProperty('click')\n\n  if (hasClickAction === false && url !== '') {\n    return <a href={url}>\n      <button\n        dir=\"auto\"\n        style={{\n          margin: '0',\n        }}\n      >\n        {text}\n      </button>\n    </a>\n  }\n\n  if (hasClickAction === true) {\n    return <button\n      dir=\"auto\"\n      disabled=\"disabled\"\n      style={{\n        margin: '0',\n      }}\n      onClick={actions.onclick}\n    >{text}</button>\n  }\n\n  return <button\n    dir=\"auto\"\n    disabled=\"disabled\"\n    style={{\n      margin: '0',\n    }}\n  >{text}</button>\n}\n\nexport default ViewerButtonCard\n","export default function ViewerDividerCard () {\n  return <hr />\n}\n","import { useLocalization } from '../../fluent/Localized.js'\n\nimport {\n  CheckBox as CheckBoxIcon,\n  CheckBoxOutlineBlank as CheckBoxOutlineBlankIcon,\n} from '@mui/icons-material'\n\nfunction ViewerCheckboxCard ({ block }) {\n  const { fluentByAny } = useLocalization()\n\n  const text = fluentByAny(block.properties.text, '')\n\n  const checked = Boolean(block.properties.checked)\n\n  const checkboxStyle = {\n    verticalAlign: 'middle',\n    paddingInlineEnd: 'var(--basis)',\n    height: 'calc(var(--font-add) + var(--basis))',\n    width: 'auto',\n  }\n\n  return <p dir=\"auto\">\n    {\n      checked\n      ? <CheckBoxIcon style={checkboxStyle} />\n      : <CheckBoxOutlineBlankIcon style={checkboxStyle} />\n    }\n    {text}\n  </p>\n}\n\nexport default ViewerCheckboxCard\n","import { useCallback } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useLocalization } from '../../fluent/Localized.js'\n\nimport {\n  InsertDriveFile as PagePlaceholderIcon,\n} from '@mui/icons-material'\n\nimport classes from './ViewerPageLine.module.css'\n\nfunction ViewerPageLine ({ block, actions = {} }) {\n  const { fluentByAny, getString } = useLocalization()\n\n  let navigate = useNavigate()\n\n  const blockId = block._id\n\n  const viewBlock = useCallback(()=>{\n    navigate(`/view/${blockId}`)\n  }, [navigate, blockId])\n\n  const icon_url = block.properties.icon || ''\n  const text = fluentByAny(block.properties.text, getString('placeholder_main_headline'))\n\n  return <div\n    onClick={actions.hasOwnProperty('click') ? actions.click : viewBlock}\n    className={`clickable_card ${classes.root}`}\n  >\n    <div>\n      {\n        icon_url === ''\n          ? <PagePlaceholderIcon className={classes.icon} />\n          : <div className={classes.icon} style={{ backgroundImage: `url(${window.domains.backend}download_url?url=${encodeURIComponent(icon_url)})` }} alt={text}></div>\n      }\n\n      <span dir=\"auto\" className={classes.title}>{text}</span>\n    </div>\n  </div>\n}\n\nexport default ViewerPageLine\n","import { useCallback } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useLocalization } from '../../fluent/Localized.js'\n\nimport {\n  InsertDriveFile as PagePlaceholderIcon,\n} from '@mui/icons-material'\n\nimport classes from './ViewerPageCard.module.css'\n\nfunction ViewerPageCard ({ block, actions = {} }) {\n  const { fluentByAny, getString } = useLocalization()\n\n  let navigate = useNavigate()\n\n  const blockId = block._id\n\n  const viewBlock = useCallback(()=>{\n    navigate(`/view/${blockId}`)\n  }, [navigate, blockId])\n\n  const coverphoto_url = block.properties.coverphoto || ''\n  const icon_url = block.properties.icon || ''\n  const text = fluentByAny(block.properties.text, getString('placeholder_main_headline'))\n  const description = fluentByAny(block.properties.description, '')\n\n  return <div\n    onClick={actions.hasOwnProperty('click') ? actions.click : viewBlock}\n    className={`clickable_card ${classes.root}`}\n  >\n    {\n      coverphoto_url === ''\n        ? null\n        : <div className={classes.coverphoto} style={{ backgroundImage: `url(${window.domains.backend}download_url?url=${encodeURIComponent(coverphoto_url)})` }} alt={text}></div>\n    }\n\n    <div>\n      {\n        icon_url === ''\n          ? <PagePlaceholderIcon className={classes.icon} />\n          : <div className={classes.icon} style={{ backgroundImage: `url(${window.domains.backend}download_url?url=${encodeURIComponent(icon_url)})` }} alt={text}></div>\n      }\n\n      <span dir=\"auto\" className={classes.title}>{text}</span>\n      {description !== '' ? <p dir=\"auto\">{description}</p> : null}\n    </div>\n  </div>\n}\n\nexport default ViewerPageCard\n","import { useCallback } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useLocalization } from '../../fluent/Localized.js'\n\nimport {\n  Face as PersonPlaceholderIcon,\n} from '@mui/icons-material'\n\nimport classes from './ViewerPersonCard.module.css'\n\nfunction ViewerPersonCard ({ block, actions = {} }) {\n  const { fluentByAny } = useLocalization()\n\n  let navigate = useNavigate()\n\n  const blockId = block._id\n\n  const viewBlock = useCallback(()=>{\n    navigate(`/view/${blockId}`)\n  }, [navigate, blockId])\n\n  const icon_url = block.properties.icon || ''\n  const text = fluentByAny(block.properties.text, '')\n\n  return <div\n    onClick={actions.hasOwnProperty('click') ? actions.click : viewBlock}\n    className=\"clickable_card\"\n  >\n    {\n      icon_url === ''\n        ? <PersonPlaceholderIcon className={classes.icon} />\n        : <div className={classes.icon} style={{ backgroundImage: `url(${window.domains.backend}download_url?url=${encodeURIComponent(icon_url)})` }} alt={text}></div>\n    }\n    <span className={classes.name} dir=\"auto\">{text}</span>\n  </div>\n}\n\nexport default ViewerPersonCard\n","import { useCallback } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useLocalization } from '../../fluent/Localized.js'\n\nimport {\n  AutoAwesomeSharp as ActionIcon,\n} from '@mui/icons-material'\n\nimport MdiIcon from '@mdi/react'\nimport {\n  mdiGestureTapButton,\n  mdiRayStartArrow,\n  mdiWeb,\n  mdiApplicationOutline,\n  mdiFileCode,\n  mdiCubeSend,\n  mdiSetRight,\n  mdiTimer,\n  mdiOpenInApp,\n} from '@mdi/js'\n\nimport classes from './ViewerActionCard.module.css'\n\nfunction ViewerActionCard ({ block = {}, actions = {} }) {\n  const { fluentByAny } = useLocalization()\n\n  const navigate = useNavigate()\n\n  const blockId = block._id\n\n  const viewBlock = useCallback(()=>{\n    navigate(`/view/${blockId}`)\n  }, [navigate, blockId])\n\n  const text = fluentByAny(block.properties.text, '') // getString('placeholder_main_headline'))\n  const description = fluentByAny(block.properties.description, '')\n\n  let triggerInfo = null\n  const triggerProperties = ((block.properties || {}).trigger ||{})\n  const triggerType = triggerProperties.type\n  if (triggerType === 'path') {\n    triggerInfo = <>\n      <MdiIcon\n        path={mdiOpenInApp}\n        size={1}\n        className={classes.icon}\n      />\n      <p>volt.link/{triggerProperties.path}</p>\n    </>\n  } else if (triggerType === 'click') {\n    triggerInfo = <>\n      <MdiIcon\n        path={mdiGestureTapButton}\n        size={1}\n        className={classes.icon}\n      />\n      <p>{triggerProperties.blockId}</p>\n    </>\n  } else if (triggerType === 'cron') {\n    triggerInfo = <>\n      <MdiIcon\n        path={mdiTimer}\n        size={1}\n        className={classes.icon}\n      />\n      <p>{triggerProperties.cron}</p>\n    </>\n  } else if (triggerType === 'block_change') {\n    triggerInfo = <>\n      <MdiIcon\n        path={mdiSetRight}\n        size={1}\n        className={classes.icon}\n      />\n      <p>{triggerProperties.blockId}</p>\n    </>\n  } else {\n    triggerInfo = <>\n      <ActionIcon\n        className={classes.icon}\n      />\n      <p>{\n        Object.keys(triggerProperties).length > 0\n        ? JSON.stringify(triggerProperties)\n        : null\n      }</p>\n    </>\n  }\n\n  let actionInfo = null\n  const actionProperties = ((block.properties || {}).action ||{})\n  const actionType = actionProperties.type\n  if (actionType === 'open_url') {\n    actionInfo = <>\n      <MdiIcon\n        path={mdiWeb}\n        size={1}\n        className={classes.icon}\n      />\n      <p>{actionProperties.url}</p>\n    </>\n  } else if (actionType === 'render_block') {\n    actionInfo = <>\n      <MdiIcon\n        path={mdiApplicationOutline}\n        size={1}\n        className={classes.icon}\n      />\n      <p>{actionProperties.blockId}</p>\n    </>\n  } else if (actionType === 'run_block') {\n    actionInfo = <>\n      <MdiIcon\n        path={mdiFileCode}\n        size={1}\n        className={classes.icon}\n      />\n      <p>{actionProperties.blockId}</p>\n    </>\n  } else if (actionType === 'send_payload') {\n    actionInfo = <>\n      <MdiIcon\n        path={mdiCubeSend}\n        size={1}\n        className={classes.icon}\n      />\n      <p>{actionProperties.blockId}</p>\n    </>\n  } else {\n    actionInfo = <>\n      <MdiIcon\n        path={mdiRayStartArrow}\n        size={1}\n        className={classes.icon}\n      />\n      <p>{\n        Object.keys(actionProperties).length > 0\n        ? JSON.stringify(actionProperties)\n        : null\n      }</p>\n    </>\n  }\n\n  return <div\n    onClick={actions.hasOwnProperty('click') ? actions.click : viewBlock}\n    className={`clickable_card ${classes.root}`}\n  >\n    <div>\n      {text !== '' ? <div dir=\"auto\" className={classes.title}>{text}</div> : null}\n      {description !== '' ? <p dir=\"auto\">{description}</p> : null}\n\n      {triggerInfo !== null ? <div className={classes.iconLine}>{triggerInfo}</div> : null}\n      {actionInfo !== null ? <div className={classes.iconLine}>{actionInfo}</div> : null}\n\n    </div>\n  </div>\n}\n\nexport default ViewerActionCard\n","import React from 'react'\n\nimport ViewerHeadlineCard from './ViewerHeadlineCard.js'\nimport ViewerTextCard from './ViewerTextCard.js'\nimport ViewerButtonCard from './ViewerButtonCard.js'\nimport ViewerDividerCard from './ViewerDividerCard.js'\nimport ViewerCheckboxCard from './ViewerCheckboxCard.js'\nimport ViewerPageLine from './ViewerPageLine.js'\nimport ViewerPageCard from './ViewerPageCard.js'\nimport ViewerPersonCard from './ViewerPersonCard.js'\nimport ViewerActionCard from './ViewerActionCard.js'\n\nimport classes from './ViewerAuto.module.css'\n\nfunction ViewerAuto ({ block = {}, actions = {}, size = 'card', ...props }) {\n  let component = null\n\n  const type = block.type || null\n\n  switch (type) {\n    case 'headline':\n      component = <ViewerHeadlineCard key={block._id} block={block} actions={actions} {...props} />\n      break\n    case 'text':\n      component = <ViewerTextCard key={block._id} block={block} actions={actions} {...props} />\n      break\n    case 'button':\n      component = <ViewerButtonCard key={block._id} block={block} actions={actions} {...props} />\n      break\n    case 'divider':\n      component = <ViewerDividerCard key={block._id} block={block} actions={actions} {...props} />\n      break\n    case 'checkbox':\n      component = <ViewerCheckboxCard key={block._id} block={block} actions={actions} {...props} />\n      break\n    case 'page':\n      switch (size) {\n        case 'line':\n          component = <ViewerPageLine key={block._id} block={block} actions={actions} {...props} />\n          break\n        default:\n          component = <ViewerPageCard key={block._id} block={block} actions={actions} {...props} />\n      }\n      break\n    case 'person':\n      component = <ViewerPersonCard key={block._id} block={block} actions={actions} {...props} />\n      break\n    case 'action':\n      component = <ViewerActionCard key={block._id} block={block} actions={actions} {...props} />\n      break\n    default:\n      component = JSON.stringify(block) // <ViewerTextCard key={block._id} block={block} actions={actions} {...props} />\n  }\n\n  return <div\n    key={block._id}\n    className={classes.root}\n  >\n    {component}\n  </div>\n}\n\nexport default ViewerAuto\n","import { useState, useRef } from 'react'\n\nimport {\n  Portal,\n  Fade,\n  Popper,\n} from '@mui/material'\n\nimport useOnOutsideClick from '../hooks/useOnOutsideClick.js'\n\nconst randomString = () => (Math.random() + 1).toString(36).substring(7)\n\nfunction Popover ({\n  trigger,\n  children = () => {},\n}) {\n  const anchorRef = useRef(null)\n  const [open, setOpen] = useState(false)\n\n  const paperRef = useRef(null)\n  useOnOutsideClick(paperRef, () => {\n    setOpen(false)\n  })\n\n  const handlePopoverToggleClick = event => {\n    setOpen((prevOpen) => !prevOpen)\n  }\n\n  const closePopover = () => {\n    setOpen(false)\n  }\n\n  const id = open ? 'popover-'+randomString() : undefined\n\n  return <>\n\n    {trigger({\n      ref: anchorRef,\n      'aria-describedby': id,\n      onClick: handlePopoverToggleClick,\n    })}\n\n  <Portal>\n    <div\n      style={{\n        display: (open ? 'block' : 'none'),\n        position: 'fixed',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        zIndex: 1000,\n        cursor: 'pointer',\n      }}\n    />\n\n    <Popper\n      id={id}\n      open={open}\n      anchorEl={anchorRef.current}\n      transition\n      placement=\"bottom-start\"\n      disablePortal={true}\n      modifiers={[\n        {\n          name: 'flip',\n          enabled: true,\n          options: {\n            altBoundary: true,\n            rootBoundary: 'viewport',\n            padding: 8,\n          },\n        },\n        {\n          name: 'preventOverflow',\n          enabled: true,\n          options: {\n            altAxis: true,\n            altBoundary: true,\n            tether: true,\n            rootBoundary: 'viewport',\n            padding: 8,\n          },\n        },\n      ]}\n      style={{\n        zIndex: 1300,\n      }}\n    >\n      {({ TransitionProps }) => (\n        <Fade {...TransitionProps}>\n          <div>\n          {\n            !!children && typeof children === 'function'\n            ? children({\n              ref: paperRef,\n              style: {\n                transformOrigin: 'top left',\n              },\n              closePopover,\n            })\n            : null\n          }\n          </div>\n        </Fade>\n      )}\n    </Popper>\n\n    </Portal>\n  </>\n}\n\nexport default Popover\n","import { useEffect } from 'react'\n\nexport default function useOnOutsideClick(ref, handler) {\n  useEffect(\n    () => {\n      const listener = (event) => {\n        // Do nothing if clicking ref's element or descendent elements\n        if (!ref.current || ref.current.contains(event.target)) {\n          return\n        }\n\n        handler(event)\n      }\n\n      document.addEventListener(\"mousedown\", listener)\n      document.addEventListener(\"touchstart\", listener)\n\n      return () => {\n        document.removeEventListener(\"mousedown\", listener)\n        document.removeEventListener(\"touchstart\", listener)\n      }\n    },\n    // Add ref and handler to effect dependencies\n    // It's worth noting that because passed in handler is a new ...\n    // ... function on every render that will cause this effect ...\n    // ... callback/cleanup to run every render. It's not a big deal ...\n    // ... but to optimize you can wrap handler in useCallback before ...\n    // ... passing it into this hook.\n    [ref, handler]\n  )\n}\n","import {\n  Paper,\n  MenuList,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n  Divider,\n} from '@mui/material'\n\nimport {\n  Close as CloseIcon,\n} from '@mui/icons-material'\n\nimport { Localized } from '../fluent/Localized.js'\n\nimport Popover from './Popover.js'\n\nexport default function PopoverMenu ({\n  trigger,\n  children,\n}) {\n  return <>\n  <Popover\n    trigger={trigger}\n  >\n    {({closePopover, ...popoverProps}) => (\n        <Paper\n          {...popoverProps}\n          sx={{\n            maxWidth: 380,\n            // height: 325,\n            maxHeight: 'calc(100vh - 32px)',\n            overflow: 'auto',\n            background: 'var(--background-contrast)',\n            color: 'var(--on-background)',\n          }}\n          elevation={8}\n        >\n          <MenuList\n            autoFocus={true}\n            style={{\n              width: '100%',\n              maxWidth: '100%',\n              marginTop: '-8px',\n            }}\n          >\n            {children}\n\n            <Divider style={{opacity: 0.2}} />\n\n            <MenuItem style={{marginTop:'8px'}} onClick={closePopover}>\n              <ListItemIcon>\n                <CloseIcon />\n              </ListItemIcon>\n              <ListItemText>\n                <Localized id=\"block_menu_close_menu\" />\n              </ListItemText>\n            </MenuItem>\n\n          </MenuList>\n        </Paper>\n    )}\n  </Popover>\n  </>\n}\n","import { useState, useCallback } from 'react'\nimport classes from './SidebarContent.module.css'\n\nimport {\n  MenuList,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n  Divider,\n} from '@mui/material'\n\nimport {\n  MenuOpen as MenuOpenIcon,\n  Replay as RequeryIcon,\n  Add as AddIcon,\n  FilterList as FilterListIcon,\n\n  Email as ContactIcon,\n  GitHub as SourceCodeIcon,\n  Login as LoginIcon,\n  Logout as LogoutIcon,\n\n  Home as HomeIcon,\n  // Search as SearchIcon,\n\n  InsertDriveFileSharp as PageIcon,\n  AutoAwesomeSharp as ActionIcon,\n  // LinkSharp as RedirectIcon,\n  PersonSharp as PersonIcon,\n  // Crop75Sharp as ButtonIcon,\n  // TitleSharp as HeadlineIcon,\n  // NotesSharp as TextIcon,\n  // Remove as DividerIcon,\n  // EditSharp as EditIcon,\n} from '@mui/icons-material'\n\nimport { useQuery } from '@apollo/client' // useApolloClient\nimport { getBlocks_Query } from '../graphql/queries'\nimport useSaveBlock from '../hooks/useSaveBlock.js'\n\nimport { Link, useNavigate, useMatch } from 'react-router-dom'\n\nimport { Localized } from '../fluent/Localized.js'\nimport useUser from '../hooks/useUser.js'\nimport ViewerAuto from './view/ViewerAuto.js'\nimport { useSidebarContext } from './Sidebar.js'\n\nimport PopoverMenu from './PopoverMenu.js'\n\nconst blockTypeIcons = {\n  page: <PageIcon />,\n  person: <PersonIcon />,\n  action: <ActionIcon />,\n}\n\nexport default function SidebarContent({ leftHeaderActions, rightHeaderActions }) {\n  const { loggedIn } = useUser()\n  // const apollo_client = useApolloClient()\n  const { toggleSidebar } = useSidebarContext()\n\n  const matchesStartpage = useMatch('/')\n\n  const [types, setTypes] = useState({\n    page: true,\n    person: true,\n    action: false,\n  })\n  const filteredTypes = Object.entries(types)\n    .filter(([, value]) => value === true)\n    .map(([key, ]) => key)\n\n  // const [blocks, setBlocks] = useState([])\n  const saveBlock = useSaveBlock()\n\n  const navigate = useNavigate()\n\n  const { data, refetch } = useQuery(getBlocks_Query, {\n    variables: {\n      types: filteredTypes,\n     },\n  })\n\n  const blocks = data?.blocks || []\n\n  // const queryBlocks = useCallback(() => {\n  //   console.log('queryBlocks')\n  //   apollo_client.query({\n  //     query: getBlocks_Query,\n  //     variables: {\n  //       types: filteredTypes,\n  //     },\n  //   })\n  //     .then(async ({ data }) => {\n  //       if (typeof data.error === 'string' || !data.blocks) {\n  //         console.error('error', data.error)\n  //       } else {\n  //         setBlocks(data.blocks || [])\n  //       }\n  //     })\n  //     .catch(async error => {\n  //       console.error('error', error)\n  //     })\n  // }, [ apollo_client, setBlocks, filteredTypes ])\n\n  // useEffect(() => {\n  //   queryBlocks()\n  // }, [ queryBlocks ])\n\n  // const handleTypeChange = useCallback(newType => {\n  //   setType(newType)\n  //   if (\n  //     typeof newType === 'string'\n  //     && newType !== ''\n  //     && newType !== type\n  //   ) {\n  //     queryBlocks(newType)\n  //   }\n  // }, [ type, setType, queryBlocks ])\n\n  const createBlock = useCallback(newBlock => {\n    saveBlock(newBlock)\n      .then(gottenBlock => {\n        navigate(`/edit/${gottenBlock._id}`)\n      })\n      .catch(error => {\n        console.error(error)\n      })\n  }, [ saveBlock, navigate ])\n\n  const toggleType = useCallback(type2toggle => {\n    setTypes(types => {\n      types[type2toggle] = !types[type2toggle]\n      return types\n    })\n  }, [ setTypes ])\n\n  return <div className={classes.content}>\n    <header className={classes.header}>\n      <div className={classes.headerBar}>\n        {\n          matchesStartpage\n          ? <div></div>\n          : <button onClick={toggleSidebar} className=\"text hasIcon\" style={{ margin: '0' }}>\n              <MenuOpenIcon className=\"icon\" />\n            </button>\n        }\n\n        <div>\n\n          <button className=\"text hasIcon\" onClick={() => refetch()}>\n            <RequeryIcon className=\"icon\" />\n            {/* <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}>Reload</span> */}\n          </button>\n\n          <PopoverMenu\n            trigger={triggerProps => (\n              <button className=\"text hasIcon\" {...triggerProps}>\n                <FilterListIcon className=\"icon\" />\n                {/* <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}>Filter</span> */}\n              </button>\n            )}\n          >\n            {/*\n              { value: 'page', icon: <PageIcon className=\"icon\"/>, title: getString('block_menu_type_label_plural_page') },\n              { value: 'person', icon: <PersonIcon className=\"icon\" />, title: getString('block_menu_type_label_plural_person') },\n              { value: 'action', icon: <ActionIcon className=\"icon\" />, title: getString('block_menu_type_label_plural_action') },\n            */}\n\n            <MenuItem style={{ marginTop: '8px' }}>\n              <ListItemText>\n                Everything\n              </ListItemText>\n            </MenuItem>\n\n            <Divider style={{ opacity: 0.2 }} />\n\n            {\n              Object.keys(types)\n                .map(type => (\n                  <MenuItem\n                    key={type}\n                    onClick={() => toggleType(type)}\n                    selected={filteredTypes.includes(type)}\n                  >\n                    <ListItemIcon>\n                      {blockTypeIcons[type]}\n                    </ListItemIcon>\n                    <ListItemText>\n                      <Localized id={'block_menu_type_label_plural_'+type} />\n                    </ListItemText>\n                  </MenuItem>\n                ))\n            }\n\n          </PopoverMenu>\n\n          {\n          loggedIn\n            ? <PopoverMenu\n                trigger={triggerProps => (\n                  <button className=\"white hasIcon\" {...triggerProps}>\n                    <AddIcon className=\"icon\" />\n                    {/* <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}>Add</span> */}\n                  </button>\n                )}\n              >\n\n                <div style={{ marginTop: '8px' }}></div>\n\n                {\n                  Object.keys(types)\n                    .map(type => (\n                      <MenuItem key={type} onClick={() => createBlock({ type })}>\n                        <ListItemIcon>\n                          {blockTypeIcons[type]}\n                        </ListItemIcon>\n                        <ListItemText>\n                          <Localized id={'create_new_'+type} />\n                        </ListItemText>\n                      </MenuItem>\n                    ))\n                }\n\n              </PopoverMenu>\n            : null\n          }\n        </div>\n      </div>\n    </header>\n\n      {\n      blocks.length > 0\n        ? <>\n          <div className=\"buttonRow usesLinks\">\n            {\n              blocks\n              .map(block => {\n\n                const actions = {\n                  click: () => {\n                    navigate(`/view/${block._id}`)\n                  }\n                }\n\n                return <div key={block._id} style={{\n                  display: 'flex',\n                  alignItems: 'flex-start',\n                }}>\n                  <ViewerAuto\n                    size=\"line\"\n                    block={block}\n                    actions={actions}\n                    style={{\n                      flexGrow: '1',\n                    }}\n                  />\n                  {/*\n                  <Link to={`/edit/${block._id}`}>\n                    <button\n                      className=\"hasIcon\"\n                      style={{\n                        margin: 'var(--basis) 0 0 var(--basis_x4)',\n                      }}\n                    >\n                      <EditIcon className=\"icon\" />\n                      <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}>\n                        <Localized id=\"edit_block\" />\n                      </span>\n                    </button>\n                  </Link>\n                  */}\n                </div>\n              })\n            }\n          </div>\n        </>\n        : null\n      }\n\n      <br/>\n      <Divider style={{ opacity: 0.2 }} />\n      <br/>\n\n      <MenuList style={{ maxWidth: '100%' }}>\n\n        {\n          matchesStartpage\n          ? null\n          : <Link to=\"/\">\n              <MenuItem>\n                <ListItemIcon>\n                  <HomeIcon />\n                </ListItemIcon>\n                <ListItemText>\n                  Home\n                </ListItemText>\n              </MenuItem>\n            </Link>\n        }\n\n        {\n          loggedIn\n            ? <a href={`${window.domains.backend}logout?redirect_to=${encodeURIComponent(window.location.toString())}`}>\n                <MenuItem>\n                  <ListItemIcon>\n                    <LogoutIcon />\n                  </ListItemIcon>\n                  <ListItemText primary={<Localized id=\"logout\" />} />\n                </MenuItem>\n              </a>\n            : <a href={`${window.domains.backend}login?redirect_to=${encodeURIComponent(window.location.toString())}`}>\n                <MenuItem>\n                  <ListItemIcon>\n                    <LoginIcon />\n                  </ListItemIcon>\n                  <ListItemText primary={<Localized id=\"login\" />} />\n                </MenuItem>\n              </a>\n        }\n\n        <a href=\"mailto:thomas.rosen@volteuropa.org\">\n          <MenuItem>\n            <ListItemIcon>\n              <ContactIcon />\n            </ListItemIcon>\n            <ListItemText primary={<Localized id=\"contact\" />} />\n          </MenuItem>\n        </a>\n\n        <a href=\"https://github.com/voltbonn/edit.volt.link\" target=\"_blank\" rel=\"noopener noreferrer\">\n          <MenuItem>\n            <ListItemIcon>\n              <SourceCodeIcon />\n            </ListItemIcon>\n            <ListItemText primary={<Localized id=\"source_code\" />} />\n          </MenuItem>\n        </a>\n\n      </MenuList>\n\n  </div>\n}\n\n/*\n\n\n    <input\n      type=\"text\"\n      placeholder=\"title\"\n      style={{\n        marginRight: '0',\n        marginLeft: '0'\n      }}\n    />\n    <textarea\n      placeholder=\"description\"\n      style={{\n        marginRight: '0',\n        marginLeft: '0'\n      }}\n    />\n*/\n","import React, {\n  useState,\n  useCallback,\n  createContext,\n  useContext,\n} from 'react'\n\nimport {\n  SwipeableDrawer,\n} from '@mui/material'\n\nimport { useMatch } from 'react-router-dom'\n\nimport useMediaQuery from '../hooks/useMediaQuery.js'\nimport SidebarContent from './SidebarContent.js'\n\nimport classes from './Sidebar.module.css'\n\nconst SidebarContext = createContext({})\n\nfunction useSidebarContext() {\n  return useContext(SidebarContext)\n}\n\nfunction SidebarProvider({ children }){\n  const [open, setOpen] = useState(true)\n\n  const matchesStartpage = useMatch('/')\n  const realOpen = matchesStartpage ? false : open\n\n  const toggleSidebar = useCallback(() => {\n    setOpen(oldOpen => !oldOpen)\n  }, [ setOpen ])\n\n  return (\n    <SidebarContext.Provider value={{\n      open: realOpen,\n      setOpen,\n      toggleSidebar,\n    }}>\n      {children}\n    </SidebarContext.Provider>\n  )\n}\n\nconst sidebarWidth = 320\n\nfunction Sidebar() {\n  const { open, toggleSidebar } = useSidebarContext()\n\n  const iOS = (typeof navigator !== 'undefined' && /iPad|iPhone|iPod/.test(navigator.userAgent))\n  const isDesktop = useMediaQuery('(min-width: 960px)')\n\n  if (open) {\n    return <SwipeableDrawer\n      variant={isDesktop ? 'permanent' : 'temporary'}\n      anchor=\"left\"\n      open={open}\n      onOpen={toggleSidebar}\n      onClose={toggleSidebar}\n      disableBackdropTransition={!iOS}\n      disableDiscovery={iOS}\n      sx={{\n        width: sidebarWidth,\n        flexShrink: 0,\n        [`& .MuiDrawer-paper`]: {\n          width: sidebarWidth,\n          boxSizing: 'border-box',\n          backgroundColor: 'var(--background)',\n          color: 'var(--on-background)',\n        },\n      }}\n      PaperProps={{\n        sx: {\n          background: 'var(--background-contrast)',\n          color: 'var(--on-background)',\n        }\n      }}\n    >\n      <SidebarContent />\n    </SwipeableDrawer>\n  }\n\n  return null\n}\nfunction Main({ children }) {\n  const { open } = useSidebarContext()\n\n  return <main\n    className={`${classes.main} ${open ? classes.open : ''}`}\n    style={{\n      '--sidebarWidth': sidebarWidth+'px',\n    }}\n  >\n    {children}\n  </main>\n}\n\nexport {\n  SidebarContext,\n  useSidebarContext,\n  SidebarProvider,\n  SidebarContent,\n  Sidebar,\n  Main,\n}\n\n/*\n      <Drawer\n        variant={isDesktop ? 'permanent' : ''}\n        anchor=\"left\"\n        open={open}\n        sx={{\n          width: drawerWidth,\n          flexShrink: 0,\n          [`& .MuiDrawer-paper`]: {\n            width: drawerWidth,\n            boxSizing: 'border-box',\n            backgroundColor: 'var(--background)',\n            color: 'var(--on-background)',\n          },\n        }}\n        PaperProps={{\n          sx: {\n            background: 'var(--background-contrast)',\n            color: 'var(--on-background)',\n          }\n        }}\n      >\n        <Sidebar />\n      </Drawer>\n      */\n","// import { useCallback } from 'react'\n\n// import {\n//   useHistory,\n// } from 'react-router-dom'\n\nimport {\n  Paper,\n  MenuList,\n  MenuItem,\n  Divider,\n  ListItemIcon,\n  ListItemText,\n  // List,\n  // ListSubheader,\n} from '@mui/material'\n\nimport {\n  Close as CloseIcon,\n  // PreviewSharp as ViewIcon,\n  // EditSharp as EditIcon,\n} from '@mui/icons-material'\n\nimport { Localized } from '../fluent/Localized.js'\n\nimport Popover from './Popover.js'\n\nfunction HeaderMenu ({\n  block,\n  trigger,\n  items,\n}) {\n  // const history = useHistory()\n\n  // const { _id = '' } = block\n\n  // const viewBlock = useCallback(() => {\n  //   history.push(`/view/${_id}`)\n  // }, [ _id, history ])\n\n  // const editBlock = useCallback(() => {\n  //   history.push(`/edit/${_id}`)\n  // }, [ _id, history ])\n\n  return <>\n  <Popover\n    trigger={trigger}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'left',\n    }}\n  >\n    {({closePopover, ...popoverProps}) => (\n        <Paper\n          {...popoverProps}\n          sx={{\n            maxWidth: 380,\n            height: 'auto',\n            maxHeight: 'calc(100vh - 32px)',\n            overflow: 'auto',\n            background: 'var(--background-contrast)',\n            color: 'var(--on-background)',\n          }}\n          elevation={8}\n        >\n          <MenuList\n            autoFocus={true}\n            style={{\n              width: '100%',\n              maxWidth: '100%',\n              marginTop: '-8px',\n            }}\n          >\n            {items.map(item => (\n              <MenuItem style={{marginTop:'8px'}} onClick={item.onClick}>\n                <ListItemText>\n                  {item.label}\n                </ListItemText>\n              </MenuItem>\n            ))}\n\n            <Divider style={{opacity: 0.2}} />\n\n            <MenuItem style={{marginTop:'8px'}} onClick={closePopover}>\n              <ListItemIcon>\n                <CloseIcon />\n              </ListItemIcon>\n              <ListItemText>\n                <Localized id=\"block_menu_close_menu\" />\n              </ListItemText>\n            </MenuItem>\n\n          </MenuList>\n        </Paper>\n    )}\n  </Popover>\n  </>\n}\n\nexport default HeaderMenu\n","import classes from './Header.module.css'\n\nimport {\n  Menu as MenuIcon,\n  MoreHoriz as MoreHorizIcon,\n} from '@mui/icons-material'\n\nimport HeaderMenu from './HeaderMenu.js'\nimport { useSidebarContext } from './Sidebar.js'\n\nexport default function Header({ title, block = {}, rightActions, notificationBanner }) {\n  const { open, toggleSidebar } = useSidebarContext()\n\n  const blockId = block ? block._id : null\n\n  const leftActions = <>\n    {\n      !open\n      ? <button onClick={toggleSidebar} className=\"text hasIcon\" style={{ margin: '0' }}>\n          <MenuIcon className=\"icon\" />\n        </button>\n      : null\n    }\n\n    <div style={{ flexGrow: '1' }}>\n    {\n      blockId\n        ? <>\n          <HeaderMenu\n            trigger={triggerProps => (\n              <button {...triggerProps} className=\"text\" style={{ margin: 'calc(-2 * var(--basis))' }}>\n                <MoreHorizIcon style={{ verticalAlign: 'middle' }} />\n              </button>\n            )}\n            items={[\n              {onClick: () => {}, label: 'Volt NRW'},\n              {onClick: () => {}, label: 'Volt Deutschland'},\n              {onClick: () => {}, label: 'Volt Europa'},\n            ]}\n          />\n          <span style={{ margin: 'var(--basis_x2)', opacity: 'var(--alpha)' }}>/</span>\n        </>\n        : null\n    }\n\n    {\n      true\n        ? <>\n          <HeaderMenu\n            trigger={triggerProps => (\n              <button {...triggerProps} className=\"text\" style={{ margin: 'calc(-2 * var(--basis))' }}>\n                <span style={{ fontWeight: 'bold' }}>\n                  {title}\n                </span>\n              </button>\n            )}\n            items={[\n              {onClick: () => {}, label: 'Volt Bonn Welcome'},\n            ]}\n          />\n        </>\n        : <span style={{ fontWeight: 'bold' }}>\n            {title}\n          </span>\n    }\n    </div>\n\n    {/*\n      <div>\n        <button class=\"text\">Home</button>\n        <ChevronRightIcon style={{\n          verticalAlign: 'middle',\n          height: 'var(--basis_x8)',\n          width: 'var(--basis_x8)',\n          margin: '0 calc(-2 * var(--basis))',\n          opacity: 'var(--alpha-more)',\n        }} />\n        <button class=\"text\">Title</button>\n      </div>\n    */}\n  </>\n\n  return <header className={classes.header}>\n    <div className={classes.headerBar}>\n      {leftActions}\n      {rightActions}\n    </div>\n    {\n      !!notificationBanner\n        ? <div className={classes.notificationBanner}>{notificationBanner}</div>\n        : null\n    }\n  </header>\n}\n","import { useCallback, useState } from 'react'\n\nconst url_regex = /^([A-Z0-9+-.]+:(?:\\/\\/)?)[\\w\\u00C0-\\u00FF_.-]+(?:\\.[\\w\\u00C0-\\u00FF_.-]+)+[\\w\\u00C0-\\u00FF_~:/?#[\\]!%$&'()@*+,;=.-]+$/gui\nconst email_regex = /^(?:(?:[^<>()[\\]\\\\.,;:\\s@\"]+(?:\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(?:\".+\"))@(?:(?:\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(?:(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,})\\.?)$/gui\nconst is_email_not_url_regex = /^[^:/]+@.+$/gui\n\nfunction UrlInput({\n  defaultValue = '',\n  onChange,\n  onBlur,\n  onError,\n  placeholder = 'https://',\n  style,\n  className\n}) {\n  const [text, setText] = useState(defaultValue)\n\n  const handleTextChange = useCallback((event) => {\n    const value = event.target.value ||''\n    // let isSubmittable = false\n    let error = ''\n\n    if (value !== '') {\n      const schema_parts = value.split(':')\n      const schema = schema_parts.shift()\n      const after_schema = schema_parts.join(':')\n\n      if (schema === 'tel') {\n        // isSubmittable = true\n      } else if (schema === 'mailto' || value.match(is_email_not_url_regex)) {\n        if (after_schema.match(email_regex)) {\n          // isSubmittable = true\n        } else {\n          error = 'invalid_mailto_url'\n        }\n      } else {\n        if (value.match(url_regex)) {\n          // isSubmittable = true\n        } else {\n          error = 'invalid_url'\n        }\n      }\n    }\n\n    if (onChange) {\n      onChange(value)\n    }\n\n    if (onError) {\n      onError(error)\n    }\n\n    setText(value)\n  }, [onChange, onError])\n\n  const handleBlur = useCallback(() => {\n    if (onBlur) {\n      onBlur(text)\n    }\n  }, [onBlur, text])\n\n  return <input\n    type=\"url\"\n    onChange={handleTextChange}\n    onBlur={handleBlur}\n    defaultValue={defaultValue}\n    placeholder={placeholder}\n    style={style}\n    className={className}\n  />\n}\n\nexport default UrlInput\n","import { useState } from 'react'\n\nimport { Localized } from '../../fluent/Localized.js'\nimport classes from './FancyInput.module.css'\n\nfunction FancyInput({ children, className, style, ...props }) {\n  const [error, setError] = useState('')\n\n  return <div\n    className={className}\n    style={style}\n  >\n    {children({ setError })}\n    {error ? <div className={classes.error}><Localized id={'error_'+error} /></div> : null}\n  </div>\n}\n\nexport default FancyInput\n","import React, { useState, useCallback } from 'react'\nimport classes from './Shortcode.module.css'\n\nimport { useNavigate } from 'react-router-dom'\n\nimport { withLocalization, Localized } from '../fluent/Localized.js'\nimport useKeyPress from '../hooks/useKeyPress.js'\nimport Header from '../components/Header.js'\nimport UrlInput from '../components/edit/UrlInput.js'\nimport FancyInput from '../components/edit/FancyInput.js'\n\nfunction Redirect({ getString, rightHeaderActions }) {\n  const navigate = useNavigate()\n  const [redirectLink, setRedirectLink] = useState('')\n  const [isSubmittable, setIsSubmittable] = useState(false)\n  const [error, setError] = useState('')\n\n  useKeyPress(['Enter'], () => {\n    if (isSubmittable) {\n      generateRedirectLink()\n    }\n  })\n\n  const handleRedirectLink = useCallback(value => {\n    setRedirectLink(value)\n\n    if (value === '') {\n      setIsSubmittable(false)\n    } else {\n      setIsSubmittable(true)\n    }\n  }, [setRedirectLink, setIsSubmittable])\n\n  const generateRedirectLink = useCallback(() => {\n    if (isSubmittable) {\n      const data = {\n        use_as: 'redirect',\n        redirect: redirectLink,\n      }\n\n      fetch(`${window.domains.backend}set_redirect`, {\n        mode: 'cors',\n        credentials: 'include',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json;charset=utf-8'\n        },\n        body: JSON.stringify(data)\n      })\n        .then(r => r.json())\n        .then(async data => {\n          if (typeof data.error === 'string') {\n            console.error(data.error)\n            setError(data.error)\n          } else if (typeof data.code === 'string') {\n            navigate(`/edit/${data.code}`)\n          } else {\n            setError('Undefined Error. Please contact thomas.rosen@volteuropa.org')\n          }\n        })\n        .catch(async error => {\n          console.error(error)\n          setError(error)\n        })\n    }\n  }, [isSubmittable, redirectLink, navigate])\n\n  return <div>\n    <Header\n      title={<Localized id=\"create_shortcode_headline\" />}\n      rightActions={rightHeaderActions || null}\n    />\n\n    <p><Localized id=\"create_shortcode_info\" /></p>\n\n    <div className={`${classes.input} ${isSubmittable === true ? '' : classes.hideSubmitButton }`}>\n      <FancyInput\n        style={{ flexGrow: '1', display: 'flex', flexDirection: 'column' }}\n      >\n        {({ setError }) => (\n          <UrlInput\n            onError={setError}\n            placeholder={getString('create_shortcode_url_placeholder')}\n            onChange={handleRedirectLink}\n          />\n        )}\n      </FancyInput>\n      {\n        isSubmittable === true\n          ? <button className=\"green\" onClick={generateRedirectLink}>\n              <Localized id=\"create_shortcode_url_submit\" />\n            </button>\n          : null\n      }\n    </div>\n\n    {\n      error !== ''\n        ? <>\n          <h3 className=\"red\"><Localized id=\"headline_errors\" /></h3>\n          <p>{error}</p>\n        </>\n        : null\n    }\n  </div>\n}\n\nexport default withLocalization(Redirect)\n","import { useEffect } from 'react'\n\nexport default function useKeyPress(keys, callback) {\n  useEffect(() => {\n    function onKeyup(event) {\n      if (keys.includes(event.key)) {\n        callback(event)\n      }\n    }\n    window.addEventListener('keyup', onKeyup)\n    return () => window.removeEventListener('keyup', onKeyup)\n  }, [keys, callback])\n}\n","import { useCallback } from 'react'\n\nimport { useLocalization } from '../fluent/Localized.js'\n\nimport { useApolloClient } from '@apollo/client'\nimport { getBlock_Query } from '../graphql/queries'\n\nimport { useSnackbar } from 'notistack'\n\nfunction useLoadBlock() {\n  const { getString } = useLocalization()\n\n  const apollo_client = useApolloClient()\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar()\n\n  const handleLoadBlock = useCallback(_id => {\n    return new Promise(final_resolve => {\n    let snackbarKey = null\n\n    if (!_id || _id === '') {\n      final_resolve({\n        type: 'text',\n      })\n    } else {\n      const loadingDataPromise = new Promise(resolve => {\n        apollo_client.query({\n          query: getBlock_Query,\n          variables: {\n            _id,\n          },\n        })\n          .then(async ({ data }) => {\n            resolve('got-data')\n\n            if (snackbarKey !== null) {\n              closeSnackbar(snackbarKey)\n            }\n\n            if (typeof data.error === 'string' || !data.block) {\n              if (data.error === 'no_edit_permission') {\n                enqueueSnackbar(getString('path_editor_edit_permission_error'), {\n                  variant: 'error',\n                  preventDuplicate: true,\n                  autoHideDuration: 5000,\n                })\n              } else {\n                enqueueSnackbar('' + data.error, {\n                  variant: 'error',\n                  preventDuplicate: true,\n                  autoHideDuration: 5000,\n                })\n              }\n            }else{\n              const loadedBlock = data.block\n              final_resolve(loadedBlock)\n            }\n          })\n          .catch(async error => {\n            console.error('error', error)\n            resolve('got-error')\n\n            if (snackbarKey !== null) {\n              closeSnackbar(snackbarKey)\n            }\n\n            enqueueSnackbar('[could not load data] '+error.message, {\n              variant: 'error',\n              preventDuplicate: true,\n              autoHideDuration: 2000,\n            })\n          })\n      })\n\n      // Show a loading-info-snackbar if loading the data takes too long.\n      Promise.race([\n        new Promise(resolve => {\n          setTimeout(() => {\n            resolve('show-loading')\n          }, 300)\n        }),\n        loadingDataPromise,\n      ])\n        .then(response => {\n          if (response === 'show-loading') {\n            snackbarKey = enqueueSnackbar(getString('path_editor_status_started_loading'), {\n              persist: true,\n              preventDuplicate: true,\n            })\n          }\n        })\n        .catch(error => console.error)\n    }\n    })\n  }, [\n    enqueueSnackbar,\n    closeSnackbar,\n    apollo_client,\n    getString,\n  ])\n\n  return handleLoadBlock\n}\n\nexport default useLoadBlock\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n  createContext,\n  useContext,\n} from 'react'\n\nimport { Localized, useLocalization } from '../../fluent/Localized.js'\nimport { fluentByArray } from '../../fluent/fluentBy.js'\n\nimport {\n  Paper,\n  MenuList,\n  MenuItem,\n  Divider,\n  ListItemIcon,\n  ListItemText,\n  List,\n  ListSubheader,\n} from '@mui/material'\n\nimport {\n  CloseSharp as CloseIcon,\n  Visibility as ShowIcon,\n  VisibilityOff as HideIcon,\n} from '@mui/icons-material'\n\nimport Popover from '../Popover.js'\n\nimport classes from './TranslatedInput.module.css'\n\nconst TranslatedInputContext = createContext({\n  locale: 'en',\n  showTranslations: false,\n})\n\n\nfunction TranslatedInputProvider({ children }){\n  const {\n    userLocales = [],\n    defaultLocale = 'en',\n  } = useLocalization()\n\n  const thisDefaultLocale = (!!userLocales[0] ? userLocales[0] : defaultLocale)\n\n  const [locales, setLocales] = useState([thisDefaultLocale])\n  const [currentLocale, setCurrentLocale] = useState(thisDefaultLocale)\n\n  const setLocalesCallback = useCallback(newLocales => {\n    if (Array.isArray(newLocales)) {\n      setLocales(newLocales)\n      if (currentLocale === null && newLocales.length > 0) {\n        setCurrentLocale(newLocales[0])\n      }\n    }\n  }, [\n    currentLocale,\n    setLocales,\n    setCurrentLocale,\n  ])\n\n  const filterByLocale = useCallback(textArray => {\n    const filtered = fluentByArray(textArray, locales, 'locale')\n\n    if (Array.isArray(filtered)) {\n      return filtered\n    }\n\n    return []\n  }, [\n    locales,\n  ])\n\n  const [showTranslations, setShowTranslations] = useState(false)\n\n  const toggleShowTranslations = useCallback(() => {\n    setShowTranslations(oldShowTranslations => !oldShowTranslations)\n  }, [ setShowTranslations ])\n\n  const setCurrentLocaleExternal = useCallback(newLocale => {\n    setCurrentLocale(newLocale)\n    setShowTranslations(true)\n  }, [ setCurrentLocale, setShowTranslations ])\n\n  return (\n    <TranslatedInputContext.Provider value={{\n      currentLocale,\n      setCurrentLocale: setCurrentLocaleExternal,\n      locales,\n      setLocales: setLocalesCallback,\n      filterByLocale,\n      showTranslations,\n      toggleShowTranslations,\n    }}>\n      {children}\n    </TranslatedInputContext.Provider>\n  )\n}\n\nfunction useTranslatedInputContext() {\n  return useContext(TranslatedInputContext)\n}\n\nfunction LocalesMenu({ trigger }) {\n  const { getString } = useLocalization()\n\n  const {\n    locales,\n    setLocales,\n    currentLocale,\n    setCurrentLocale,\n    showTranslations,\n    toggleShowTranslations,\n  } = useTranslatedInputContext()\n\n  const {\n    supportedLocales = [],\n  } = useLocalization()\n\n  const setLocale = useCallback(newLocale => {\n    if (typeof setCurrentLocale === 'function') {\n      setCurrentLocale(newLocale)\n    }\n  }, [ setCurrentLocale ])\n\n  const addLocale = useCallback(newLocale => {\n    setLocales([...locales, newLocale])\n    setLocale(newLocale)\n  }, [\n    locales,\n    setLocales,\n    setLocale,\n  ])\n\n  return <>\n  <Popover trigger={trigger}>\n    {({closePopover, ...popoverProps}) => (\n        <Paper\n          {...popoverProps}\n          sx={{\n            maxWidth: 380,\n            height: 'auto',\n            maxHeight: 'calc(100vh - 32px)',\n            overflow: 'auto',\n            background: 'var(--background-contrast)',\n            color: 'var(--on-background)',\n          }}\n          elevation={8}\n        >\n          <MenuList\n            autoFocus={true}\n            style={{\n              width: '100%',\n              maxWidth: '100%',\n              marginTop: '-8px',\n            }}\n          >\n            <List\n              style={{\n                width: '100%',\n                maxWidth: '100%',\n                marginTop: '-8px',\n              }}\n            >\n              <ListSubheader\n                style={{\n                  whiteSpace: 'nowrap',\n                  lineHeight: '1',\n                  margin: '-4px 0 0 0',\n                  padding: '12px 16px 12px',\n                  backgroundColor: 'var(--background-contrast)',\n                  color: 'var(--on-background)',\n                }}\n              >\n                {/* <Localized id=\"locale_menu_choose_locale_label\" /> */}\n                View in Locale\n              </ListSubheader>\n\n              <div style={{height: '4px'}}></div>\n\n              {\n                locales\n                .map((thisLocale, index) => (\n                  <MenuItem\n                    key={thisLocale}\n                    selected={thisLocale === currentLocale}\n                    onClick={() => setLocale(thisLocale)}\n                  >\n                    {getString('locale_'+thisLocale)}\n                  </MenuItem>\n              ))}\n            </List>\n\n            <Divider style={{opacity: 0.2}} />\n\n            <List\n              style={{\n                width: '100%',\n                maxWidth: '100%',\n                // marginTop: '-8px',\n              }}\n            >\n              <ListSubheader\n                style={{\n                  whiteSpace: 'nowrap',\n                  lineHeight: '1',\n                  margin: '-4px 0 0 0',\n                  padding: '12px 16px 12px',\n                  backgroundColor: 'var(--background-contrast)',\n                  color: 'var(--on-background)',\n                }}\n              >\n                {/* <Localized id=\"locale_menu_choose_locale_label\" /> */}\n                Add Locales\n              </ListSubheader>\n\n              {/* <div style={{height: '4px'}}></div> */}\n\n              {\n                supportedLocales\n                .filter(locale => !locales.includes(locale))\n                .map((thisLocale, index) => (\n                  <MenuItem\n                    key={thisLocale}\n                    selected={thisLocale === currentLocale}\n                    onClick={() => addLocale(thisLocale)}\n                  >\n                    {getString('locale_'+thisLocale)}\n                  </MenuItem>\n              ))}\n            </List>\n\n            <Divider style={{opacity: 0.2}} />\n\n            <MenuItem style={{marginTop:'8px'}} onClick={toggleShowTranslations}>\n              <ListItemIcon>\n                {\n                  showTranslations\n                  ? <HideIcon />\n                  : <ShowIcon />\n                }\n              </ListItemIcon>\n              <ListItemText>\n                {\n                  showTranslations\n                  ? <Localized id=\"locale_menu_hide_translation_help_label\" />\n                  : <Localized id=\"locale_menu_show_translation_help_label\" />\n                }\n              </ListItemText>\n            </MenuItem>\n\n            <Divider style={{opacity: 0.2}} />\n\n            <MenuItem style={{marginTop:'8px'}} onClick={closePopover}>\n              <ListItemIcon>\n                <CloseIcon />\n              </ListItemIcon>\n              <ListItemText>\n                <Localized id=\"block_menu_close_menu\" />\n              </ListItemText>\n            </MenuItem>\n\n          </MenuList>\n        </Paper>\n    )}\n  </Popover>\n  </>\n}\n\nfunction TranslatedInput({\n  defaultValue,\n  onChange,\n  onBlur,\n  children = null,\n  style = {},\n}) {\n  const [arrayWithLocales, setArrayWithLocales] = useState([])\n\n  useEffect(() => {\n    if (Array.isArray(defaultValue)) {\n      setArrayWithLocales(defaultValue)\n    } else {\n      setArrayWithLocales([])\n    }\n  }, [defaultValue, setArrayWithLocales])\n\n  // useEffect(() => {\n  //   if (defaultValue !== arrayWithLocales) {\n  //     setArrayWithLocales(defaultValue)\n  //   }\n  // }, [ arrayWithLocales, defaultValue, setArrayWithLocales ])\n\n  const {\n    currentLocale,\n    filterByLocale,\n    showTranslations,\n  } = useTranslatedInputContext()\n\n  const notEmptyTexts = [...arrayWithLocales].filter(t => t.value !== '')\n  let currentText = notEmptyTexts.filter(t => t.locale === currentLocale)\n  if (currentText.length > 0) {\n    currentText = currentText[0].value\n  // } else if (notEmptyTexts.length > 0) {\n  //   currentText = notEmptyTexts[0].value\n  } else {\n    currentText = ''\n  }\n\n  const handleChange = useCallback(newTextValue => {\n    let newValue = [...arrayWithLocales]\n    if (arrayWithLocales.length > 0) {\n      if (newValue.findIndex(t => t.locale === currentLocale) > -1) {\n        newValue = newValue\n          .map(t => {\n            if (t.locale === currentLocale) {\n              return {\n                ...t,\n                value: newTextValue,\n              }\n            }\n            return t\n          })\n          .filter(t => t.value !== '')\n      } else {\n        newValue = [\n          ...newValue,\n          {locale: currentLocale, value: newTextValue},\n        ]\n        .filter(t => t.value !== '')\n      }\n    } else {\n      newValue = [{locale: currentLocale, value: newTextValue}]\n    }\n\n    setArrayWithLocales(newValue)\n\n    if (onChange) {\n      onChange(newValue)\n    }\n  }, [setArrayWithLocales, arrayWithLocales, currentLocale, onChange])\n\n  const handleBlur = useCallback(() => {\n    if (onBlur) {\n      onBlur(arrayWithLocales)\n    }\n  }, [onBlur, arrayWithLocales])\n\n  const best = filterByLocale(arrayWithLocales.filter(t => t.locale !== currentLocale))\n\n  if (typeof children === 'function') {\n    return <div className={classes.translatedInput} style={style}>\n      {/* <div className={classes.content}> */}\n        <div style={{ flexGrow: '1', width: '100%' }}>\n          {children({\n            key: currentLocale,\n            defaultValue: currentText,\n            onChange: handleChange,\n            onBlur: handleBlur,\n          })}\n        </div>\n        {\n          showTranslations === true && best.length > 0\n            ? <div className={classes.translationHelp}>\n                {\n                  best\n                  .map(t => <p key={t.locale}>\n                    <strong>{t.locale.toUpperCase()}:</strong> {t.value}\n                  </p>)\n                }\n              </div>\n            : null\n        }\n      {/* </div> */}\n      {/* {locales_menu} */}\n    </div>\n  }\n\n  return null\n}\n\nexport {\n  LocalesMenu,\n  TranslatedInputContext,\n  TranslatedInputProvider,\n  useTranslatedInputContext,\n  TranslatedInput,\n  TranslatedInput as default,\n}\n","import { useCallback } from 'react'\n\nimport {\n  useNavigate,\n} from 'react-router-dom'\n\nimport {\n  Paper,\n  MenuList,\n  MenuItem,\n  Divider,\n  ListItemIcon,\n  ListItemText,\n  List,\n  ListSubheader,\n} from '@mui/material'\n\nimport {\n  Visibility as VisibilityIcon,\n  VisibilityOff as VisibilityOffIcon,\n  // Delete as DeleteIcon,\n  Close as CloseIcon,\n  VerticalAlignTop as VerticalAlignTopIcon,\n  VerticalAlignBottom as VerticalAlignBottomIcon,\n\n  InsertDriveFileSharp as PageIcon,\n  // LinkSharp as RedirectIcon,\n  PersonSharp as PersonIcon,\n  Crop75Sharp as ButtonIcon,\n  TitleSharp as HeadlineIcon,\n  NotesSharp as TextIcon,\n  Remove as DividerIcon,\n  CheckBox as CheckboxIcon,\n  AutoAwesomeSharp as ActionIcon,\n\n  PreviewSharp as ViewIcon,\n  EditSharp as EditIcon,\n} from '@mui/icons-material'\n\nimport { Localized, withLocalization } from '../../fluent/Localized.js'\n\nimport Popover from '../Popover.js'\n\nfunction BlockMenu ({\n  block,\n  getString,\n\n  trigger,\n\n  setType,\n\n  toggle_active = null,\n  active = null,\n  onRemoveRow = null,\n  addRowBefore = null,\n  addRowAfter = null,\n}) {\n  const navigate = useNavigate()\n\n  const { _id = '', type = '' } = block\n\n  const handleAddRowBefore = useCallback(() => {\n\n    // const newBlock = {\n    //   type,\n    // }\n\n    const newBlockId = ''\n\n    addRowBefore({\n      blockId: newBlockId,\n    })\n  }, [ addRowBefore ])\n\n  const viewBlock = useCallback(() => {\n    navigate(`/view/${_id}`)\n  }, [ _id, navigate ])\n\n  const editBlock = useCallback(() => {\n    navigate(`/edit/${_id}`)\n  }, [ _id, navigate ])\n\n  return <>\n  <Popover\n    trigger={trigger}\n  >\n    {({closePopover, ...popoverProps}) => (\n        <Paper\n          {...popoverProps}\n          sx={{\n            maxWidth: 380,\n            height: 325,\n            maxHeight: 'calc(100vh - 32px)',\n            overflow: 'auto',\n            background: 'var(--background-contrast)',\n            color: 'var(--on-background)',\n          }}\n          elevation={8}\n        >\n          <MenuList\n            autoFocus={true}\n            style={{\n              width: '100%',\n              maxWidth: '100%',\n              marginTop: '-8px',\n            }}\n          >\n            <List\n              style={{\n                width: '100%',\n                maxWidth: '100%',\n                marginTop: '-8px',\n              }}\n            >\n              <ListSubheader\n                style={{\n                  whiteSpace: 'nowrap',\n                  lineHeight: '1',\n                  margin: '-4px 0 0 0',\n                  padding: '12px 16px 12px',\n                  backgroundColor: 'var(--background-contrast)',\n                  color: 'var(--on-background)',\n                }}\n              >\n                <Localized id=\"block_menu_choose_type_label\" />\n              </ListSubheader>\n\n              <div style={{height: '4px'}}></div>\n\n              {\n                [\n                  { value: 'page', icon: <PageIcon />, label: getString('block_menu_type_label_page') },\n                  // { value: 'redirect', icon: <RedirectIcon />, label: getString('block_menu_type_label_redirect') },\n                  { value: 'person', icon: <PersonIcon />, label: getString('block_menu_type_label_person') },\n                  { value: 'button', icon: <ButtonIcon />, label: getString('block_menu_type_label_button') },\n                  { value: 'headline', icon: <HeadlineIcon />, label: getString('block_menu_type_label_headline') },\n                  // { value: 'headline3', label: getString('block_menu_type_label_headline3') },\n                  { value: 'text', icon: <TextIcon />, label: getString('block_menu_type_label_text') },\n                  { value: 'divider', icon: <DividerIcon />, label: getString('block_menu_type_label_divider') },\n                  { value: 'checkbox', icon: <CheckboxIcon />, label: getString('block_menu_type_label_checkbox') },\n                  { value: 'action', icon: <ActionIcon />, label: getString('block_menu_type_label_action') },\n                ]\n                .map(option => (\n                  <MenuItem\n                    key={option.value}\n                    selected={option.value === type}\n                    onClick={() => setType(option.value)}\n                  >\n                    <ListItemIcon>\n                      {option.icon}\n                    </ListItemIcon>\n                    <ListItemText>\n                      {option.label}\n                    </ListItemText>\n                  </MenuItem>\n              ))}\n            </List>\n\n            {\n              (\n                addRowBefore\n                || addRowAfter\n                || (typeof active === 'boolean' && toggle_active)\n                || onRemoveRow\n              )\n                ? <Divider style={{opacity: 0.2}} />\n                : null\n            }\n\n            {\n              addRowBefore\n                ? <MenuItem style={{marginTop:'8px'}} onClick={handleAddRowBefore}>\n                    <ListItemIcon>\n                      <VerticalAlignTopIcon />\n                    </ListItemIcon>\n                    <ListItemText>\n                      <Localized id=\"block_menu_add_before\" />\n                    </ListItemText>\n                  </MenuItem>\n                : null\n            }\n\n            {\n              addRowAfter\n                ? <MenuItem style={{marginTop:'8px'}} onClick={addRowAfter}>\n                    <ListItemIcon>\n                      <VerticalAlignBottomIcon />\n                    </ListItemIcon>\n                    <ListItemText>\n                      <Localized id=\"block_menu_add_after\" />\n                    </ListItemText>\n                  </MenuItem>\n                : null\n            }\n\n            {\n              typeof active === 'boolean' && toggle_active\n                ? <MenuItem style={{marginTop:'8px'}} onClick={toggle_active}>\n                    <ListItemIcon>\n                      {\n                        active\n                        ? <VisibilityOffIcon />\n                        : <VisibilityIcon />\n                      }\n                    </ListItemIcon>\n                    <ListItemText>\n                      {\n                        active\n                        ? <Localized id=\"block_menu_hide\" />\n                        : <Localized id=\"block_menu_show\" />\n                      }\n                    </ListItemText>\n                  </MenuItem>\n                : null\n            }\n\n            {/*\n              onRemoveRow\n                ? <MenuItem style={{marginTop:'8px'}} onClick={onRemoveRow}>\n                    <ListItemIcon>\n                      <DeleteIcon />\n                    </ListItemIcon>\n                    <ListItemText>\n                      <Localized id=\"block_menu_delete\" />\n                    </ListItemText>\n                  </MenuItem>\n                : null\n            */}\n\n            {\n              typeof _id === 'string' && _id !== ''\n                ? <div style={{ marginTop:'8px', marginBottom:'8px' }}>\n                    <Divider style={{opacity: 0.2}} />\n                    <MenuItem style={{marginTop:'8px'}} onClick={viewBlock}>\n                      <ListItemIcon>\n                        <ViewIcon />\n                      </ListItemIcon>\n                      <ListItemText>\n                        <Localized id=\"view_block\" />\n                      </ListItemText>\n                    </MenuItem>\n                    <MenuItem style={{marginTop:'8px'}} onClick={editBlock}>\n                      <ListItemIcon>\n                        <EditIcon />\n                      </ListItemIcon>\n                      <ListItemText>\n                        <Localized id=\"edit_block\" />\n                      </ListItemText>\n                    </MenuItem>\n                  </div>\n                : null\n            }\n\n            <Divider style={{opacity: 0.2}} />\n\n            <MenuItem style={{marginTop:'8px'}} onClick={closePopover}>\n              <ListItemIcon>\n                <CloseIcon />\n              </ListItemIcon>\n              <ListItemText>\n                <Localized id=\"block_menu_close_menu\" />\n              </ListItemText>\n            </MenuItem>\n\n          </MenuList>\n        </Paper>\n    )}\n  </Popover>\n  </>\n}\n\nexport default withLocalization(BlockMenu)\n","import React, { useCallback, useRef, useState, useEffect } from 'react'\n\nimport {\n  offset as getCaretOffset,\n  getOffset,\n} from 'caret-pos'\n\nimport classes from './HtmlInput.module.css'\n\n\nfunction getRangeLengthWithLinebreaks(element){\n  element.normalize()\n\n  if (!window.getSelection) {\n    return 0;\n  }\n\n  const selection = window.getSelection()\n  const range = selection.rangeCount > 0 ? selection.getRangeAt(0) : null;\n\n  if (!range) {\n    return 0;\n  }\n\n  const clonedRange = range.cloneRange()\n  clonedRange.selectNodeContents(element)\n  clonedRange.setEnd(range.endContainer, range.endOffset)\n  const content = clonedRange.cloneContents()\n\n  let rangeLength = 0\n  for (const node of content.childNodes) {\n    if (node.nodeType === 3) { // node type = 3 is a text node\n      rangeLength += node.textContent.length\n    } else if (node.nodeType === 1 && node.nodeName === 'BR') { // node type = 1 is an element node\n      rangeLength += 1\n    }\n  }\n\n  clonedRange.detach()\n\n  return rangeLength\n}\n\nfunction getInLineRangeLength(element, whichLine){\n  element.normalize()\n\n  if (!window.getSelection) {\n    return 0;\n  }\n\n  const selection = window.getSelection()\n  const range = selection.rangeCount > 0 ? selection.getRangeAt(0) : null;\n\n  if (!range) {\n    return 0;\n  }\n\n  const clonedRange = range.cloneRange()\n  clonedRange.selectNodeContents(element)\n  clonedRange.setEnd(range.endContainer, range.endOffset)\n  const content = clonedRange.cloneContents()\n\n  let rangeLength = 0\n  if (content.childNodes.length > 0) {\n    if (whichLine === 'first') {\n      if (content.childNodes[0].nodeType === 3) {\n        rangeLength = content.childNodes[0].length\n      } else {\n        rangeLength = 0\n      }\n    } else if (whichLine === 'last') {\n      if (content.childNodes[content.childNodes.length-1].nodeType === 3) {\n        rangeLength = content.childNodes[content.childNodes.length-1].length\n      } else {\n        if (content.childNodes.length > 1) {\n          if (content.childNodes[content.childNodes.length-2].nodeType === 3) {\n            rangeLength = content.childNodes[content.childNodes.length-2].length\n          } else {\n            rangeLength = 0\n          }\n        } else {\n          rangeLength = 0\n        }\n      }\n    }\n  }\n\n  clonedRange.detach()\n\n  return rangeLength\n}\n\nfunction getCaretPosition(element){\n  // get element height without padding and border\n  const cs = getComputedStyle(element)\n  const paddingY = parseFloat(cs.paddingTop) + parseFloat(cs.paddingBottom)\n  const borderY = parseFloat(cs.borderTopWidth) + parseFloat(cs.borderBottomWidth)\n  const elementHeight = element.offsetHeight - paddingY - borderY\n\n  // get caret position\n  const offset = getOffset(element)\n  const caretOffset = getCaretOffset(element)\n  caretOffset.top = caretOffset.top - offset.top\n  caretOffset.left = caretOffset.left - offset.left\n\n  // check if caret is in the first line\n  let inFirstLine = caretOffset.top < caretOffset.height\n\n  // check if caret is in the last line\n  let inLastLine = elementHeight - caretOffset.top < caretOffset.height\n\n  // define caret position from start of text\n  const caretPositionFromStart = getRangeLengthWithLinebreaks(element)\n\n  // calc caret position from end of text\n  let textLength = element.innerText.length ||0\n  if (textLength < 0) {\n    textLength = 0\n  }\n  const caretPositionFromEnd = textLength - caretPositionFromStart\n\n  return {\n    inFirstLine,\n    inLastLine,\n    left: caretOffset.left,\n    top: caretOffset.top,\n    height: caretOffset.height,\n    positionFromLineStart: getInLineRangeLength(element, (inFirstLine ? 'first' : 'last')),\n    positionFromStart: caretPositionFromStart,\n    positionFromEnd: caretPositionFromEnd,\n  }\n}\n\nfunction HtmlInput({\n  defaultValue = '',\n  children,\n  className,\n  onChange,\n  onBlur,\n  onError,\n  linebreaks,\n  style,\n  placeholder = '',\n\n  onInputRef,\n  onGoToPrevInput,\n  onGoToNextInput,\n  onSplitText,\n  onMergeToPrevInput,\n  onMergeToNextInput,\n\n  ...props\n}) {\n  const inputRef = useRef(null)\n  const [text, setText] = useState('')\n  const [fakeDefaultValue, setFakeDefaultValue] = useState({ __html: '' })\n\n  useEffect(() => {\n    setText(old_text => {\n      if (old_text !== defaultValue) {\n        setFakeDefaultValue((old_fakeDefaultValue) => {\n          const newHtmlValue = defaultValue\n            // .replace(/\\t/g, '&emsp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            // .replace(/\\n/g, '<br />')\n\n          if (old_fakeDefaultValue.__html !== newHtmlValue) {\n            return {__html: newHtmlValue}\n          }\n          return old_fakeDefaultValue\n        })\n\n        return defaultValue\n      }\n      return old_text\n    })\n  }, [defaultValue, setText, setFakeDefaultValue])\n\n  const handleTextChange = useCallback((event) => {\n    let value = event.target.innerHTML || ''\n    // .replace(/&emsp;/g, '\\t')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n\n    if (linebreaks === false) {\n      value = value.replace(/<\\/? ?br ?\\/?>/g, ' ')\n    } else {\n      value = value.replace(/<\\/? ?br ?\\/?>/g, '\\n')\n    }\n\n    value = value.trim()\n    setText(value)\n\n    if (onChange) {\n      onChange(value)\n    }\n  }, [onChange, setText, linebreaks])\n\n  const handleTextBlur = useCallback(() => {\n    if (onBlur) {\n      onBlur(text)\n    }\n  }, [onBlur, text])\n\n  const keyDownHandler = useCallback(event => {\n    if (event.key === 'Enter' && event.shiftKey === true) {\n      // source: StackOverflow (https://stackoverflow.com/a/61237402)\n      if (linebreaks !== false) {\n        document.execCommand('insertLineBreak')\n      }\n      event.preventDefault()\n    } else if (event.key === 'Tab') {\n      document.execCommand('insertText', false, '\\t')\n      event.preventDefault()\n    } else if (event.key === 'ArrowUp') {\n      if (onGoToPrevInput) {\n        const caret = getCaretPosition(inputRef.current)\n        if (caret.inFirstLine) {\n          onGoToPrevInput({ caret })\n          event.preventDefault()\n        }\n      }\n    } else if (event.key === 'ArrowLeft') {\n      if (onGoToPrevInput) {\n        const caret = getCaretPosition(inputRef.current)\n        if (caret.inFirstLine && caret.positionFromStart <= 0) {\n          caret.positionFromLineStart = -1\n          onGoToPrevInput({ caret })\n          event.preventDefault()\n        }\n      }\n    } else if (event.key === 'ArrowDown') {\n      if (onGoToNextInput) {\n        const caret = getCaretPosition(inputRef.current)\n        if (caret.inLastLine) {\n          onGoToNextInput({ caret })\n          event.preventDefault()\n        }\n      }\n    } else if (event.key === 'ArrowRight') {\n      if (onGoToNextInput) {\n        const caret = getCaretPosition(inputRef.current)\n        if (caret.inLastLine && caret.positionFromEnd <= 1) {\n          caret.positionFromLineStart = 0\n          onGoToNextInput({ caret })\n          event.preventDefault()\n        }\n      }\n    } else if (event.key === 'Enter') {\n      if (onSplitText) {\n        const caret = getCaretPosition(inputRef.current)\n\n        const innerText = inputRef.current.innerText\n        const start = innerText.slice(0, caret.positionFromStart)\n        const end = innerText.slice(caret.positionFromStart)\n\n        onSplitText({\n          texts: [start, end],\n        })\n        event.preventDefault()\n      }\n    } else if (event.key === 'Backspace') {\n      if (onMergeToPrevInput) {\n        const caret = getCaretPosition(inputRef.current)\n        if (caret.positionFromStart === 0 && caret.inFirstLine) {\n          onMergeToPrevInput({\n            caret,\n            text: inputRef.current.innerText,\n          })\n          event.preventDefault()\n        }\n      }\n    } else if (event.key === 'Delete') {\n      if (onMergeToNextInput) {\n        const caret = getCaretPosition(inputRef.current)\n        if (caret.positionFromEnd === 0 && caret.inLastLine) {\n          onMergeToNextInput({\n            caret,\n            text: inputRef.current.innerText,\n          })\n          event.preventDefault()\n        }\n      }\n    }\n  }, [inputRef, linebreaks, onGoToPrevInput, onGoToNextInput, onSplitText, onMergeToPrevInput, onMergeToNextInput])\n\n  useEffect(() => {\n    if (onInputRef) {\n      onInputRef(inputRef)\n    }\n  }, [onInputRef, inputRef])\n\n  const handlePaste = useCallback(event => {\n    // only accept plain text\n\n    // cancel paste\n    event.preventDefault()\n\n    // get text representation of clipboard\n    let text = (event.originalEvent || event).clipboardData.getData('text/plain')\n\n    if (linebreaks === false) {\n      text = text.replace(/\\n/g, ' ')\n    }\n\n    // insert text manually\n    document.execCommand('insertText', false, text)\n  }, [linebreaks])\n\n  return <div\n    ref={inputRef}\n    onKeyDown={keyDownHandler}\n    onInput={handleTextChange}\n    onBlur={handleTextBlur}\n    onPaste={handlePaste}\n    className={`${classes.rebuild_textarea} ${text.length === 0 ? classes.show_placeholder : ''} ${className}`}\n    contentEditable={true}\n    dangerouslySetInnerHTML={fakeDefaultValue}\n    style={style}\n    placeholder={placeholder}\n  />\n}\n\nexport default HtmlInput\n","import React, { useEffect, useState, useCallback }from 'react'\n\nimport {\n  Modal,\n} from '@mui/material'\nimport {\n  QrCodeSharp as QrCodeIcon,\n  AssessmentSharp as AssessmentIcon,\n  ContentCopySharp as CopyIcon,\n} from '@mui/icons-material'\n\nimport { Localized } from '../../fluent/Localized.js' // useLocalization\n\nimport classes from './SharingEditor.module.css'\n\nimport HtmlInput from './HtmlInput.js'\n\nfunction fallbackCopyTextToClipboard(text) {\n  // Source: https://stackoverflow.com/questions/400212/how-do-i-copy-to-the-clipboard-in-javascript\n  var textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n\n  // Avoid scrolling to bottom\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    var successful = document.execCommand('copy');\n    var msg = successful ? 'successful' : 'unsuccessful';\n    console.log('Fallback: Copying text command was ' + msg);\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err);\n  }\n\n  document.body.removeChild(textArea);\n}\n\nfunction copyTextToClipboard(text) {\n  // Source: https://stackoverflow.com/questions/400212/how-do-i-copy-to-the-clipboard-in-javascript\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text);\n    return;\n  }\n  navigator.clipboard.writeText(text).then(function() {\n    console.log('Async: Copying to clipboard was successful!');\n  }, function(err) {\n    console.error('Async: Could not copy text: ', err);\n  });\n}\n\nfunction SharingEditor({\n  defaultBlock = {},\n  open = false,\n  onChange,\n  onClose,\n}) {\n  const [ path, setPath ] = useState('')\n\n  useEffect(() => {\n    const properties = defaultBlock.properties || {}\n    const initialPath = (properties.trigger || {}).path || ''\n\n    setPath(initialPath)\n  }, [ defaultBlock, setPath ])\n\n  const savePath = useCallback(newPath => {\n    const newProperties = {...(defaultBlock.properties || {})}\n\n    if (newPath === '') {\n      if (newProperties.hasOwnProperty('trigger')) {\n        delete newProperties.trigger\n      }\n      if (newProperties.hasOwnProperty('action')) {\n        delete newProperties.action\n      }\n    } else {\n      newProperties.trigger = {\n\t\t  \ttype: 'path',\n\t\t  \tpath: newPath,\n\t\t  }\n\t\t  newProperties.action = {\n\t\t  \ttype: 'render_block',\n\t\t  }\n    }\n\n    setPath(newPath)\n    onChange(newProperties)\n  }, [\n    defaultBlock,\n    onChange,\n    setPath,\n  ])\n\n  const viewStatistics = () => {\n    const a = document.createElement('a')\n    a.href = `https://umami.qiekub.org/share/s0ZHBZbb/volt.link?url=%2F${path}`\n    a.target = '_blank'\n    a.rel = 'noreferrer'\n    a.click()\n  }\n\n  const gotoQrcodePage = () => {\n    const a = document.createElement('a')\n    a.href = `https://qrcode.volt.link/?c=volt.link/${path}`\n    a.target = '_blank'\n    a.rel = 'noreferrer'\n    a.click()\n  }\n\n  const copyUrl = () => {\n    copyTextToClipboard(`https://volt.link/${path}`)\n  }\n\n  if (!open) {\n    return null\n  }\n\n  return (\n    <Modal\n      open={open}\n      onClose={onClose}\n      hideBackdrop={true}\n      // BackdropComponent={<Backdrop open={true} className={classes.backdrop} />}\n      // aria-labelledby=\"modal-modal-title\"\n      // aria-describedby=\"modal-modal-description\"\n    >\n      <>\n        <div className={classes.backdrop} onClick={onClose}></div>\n\n        <div className={classes.dialog}>\n\n            <h1 style={{ margin: '0 0 var(--basis_x4) 0' }}>Share the link</h1>\n            {/* <p>Enter @volteuropa.org addresses to give editing rights.<br/>Groups addresses are not supported.</p> */}\n\n            {/* <hr style={{ opacity: 0.2 }} /> */}\n\n            <div className={classes.inputWrapper}>\n             <span style={{ paddingRight: 'var(--basis)' }}>volt.link/</span>\n             <HtmlInput\n                defaultValue={path}\n                onBlur={savePath}\n                linebreak={false}\n                className={classes.input}\n                style={{ margin: '0' }}\n              />\n            </div>\n\n            <hr style={{ opacity: 0.2 }} />\n\n            <div className={classes.actions}>\n              {\n                path !== ''\n                ? <div>\n                    <button className=\"text hasIcon\" onClick={gotoQrcodePage} style={{ marginInlineStart: '0' }}>\n                      <QrCodeIcon className=\"icon\" />\n                      <span className=\"hideOnSmallScreen\"><Localized id=\"sharing_qrcode\" /></span>\n                    </button>\n                    <button className=\"text hasIcon\" onClick={viewStatistics}>\n                      <AssessmentIcon className=\"icon\" />\n                      <span className=\"hideOnSmallScreen\"><Localized id=\"sharing_statistics\" /></span>\n                    </button>\n                    <button className=\"text hasIcon\" onClick={copyUrl}>\n                      <CopyIcon className=\"icon\" />\n                      <span className=\"hideOnSmallScreen\"><Localized id=\"sharing_copy_url\" /></span>\n                    </button>\n                  </div>\n                : <div></div>\n              }\n\n              <button onClick={onClose} className=\"green\" style={{ marginInlineEnd: '0' }}>Done</button>\n            </div>\n        </div>\n      </>\n    </Modal>\n  )\n}\n\nexport default SharingEditor\n","import { useCallback } from 'react'\n\nconst email_regex = /^(?:(?:[^<>()[\\]\\\\.,;:\\s@\"]+(?:\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(?:\".+\"))@(?:(?:\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(?:(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,})\\.?)$/gui // is surrounded by start and end tags\nconst emails_regex = /((?:(?:[^<>()[\\]\\\\.,;:\\s@\"]+(?:\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(?:\".+\"))@(?:(?:\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(?:(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,})\\.?))/gui // is surrounded by a group\n\nfunction EmailInput({ multiple = false, onChange, onError, ...props }) {\n  const handleTextChange = useCallback((event) => {\n    if (onChange ||onError) {\n      let value = event.target.value ||''\n      let isSubmittable = false\n      let error = ''\n\n      if (value !== '') {\n        if (multiple === true) {\n          const emails = value.match(emails_regex)\n          if (emails) {\n            value = emails\n            isSubmittable = true\n          } else {\n            error = 'Invalid email(s) format'\n          }\n        } else {\n          if (value.match(email_regex)) {\n            isSubmittable = true\n          } else {\n            error = 'invalid_email'\n          }\n        }\n      }\n\n      if (onChange) {\n        if (isSubmittable) {\n          onChange(value)\n        } else {\n          if (multiple === true) {\n            onChange([])\n          } else {\n            onChange('')\n          }\n        }\n      }\n\n      if (onError) {\n        onError(error)\n      }\n    }\n  }, [multiple, onChange, onError])\n\n  return <input\n    type=\"email\"\n    onChange={handleTextChange}\n    {...props}\n  />\n}\n\nexport default EmailInput\n","import React, { useState, useCallback, useEffect } from 'react'\n\nimport {\n  Modal,\n  Menu,\n  MenuItem,\n  Divider,\n  ListItemIcon,\n  ListItemText,\n} from '@mui/material'\nimport {\n  KeyboardArrowDown as KeyboardArrowDownIcon,\n  Delete as DeleteIcon,\n  Close as CloseIcon,\n  Visibility as ViewerIcon,\n  Edit as EditorIcon,\n} from '@mui/icons-material'\nimport { v4 as uuidv4 } from 'uuid'\n\nimport { Localized, useLocalization } from '../../fluent/Localized.js'\n\nimport useUser from '../../hooks/useUser.js'\n\nimport FancyInput from './FancyInput.js'\nimport EmailInput from './EmailInput.js'\n\nimport classes from './PermissionsEditor.module.css'\n\nfunction addTmpIds(array) {\n  return [...array].map(obj => {\n    const obj_new = { ...obj }\n    obj_new.tmp_id = uuidv4()\n    return obj_new\n  })\n}\n\nfunction LocalizedRole({ role }) {\n  return <Localized id={'role-'+role} />\n}\n\nfunction RolesMenu({\n  role,\n  trigger,\n  changeRole,\n  removePermission,\n}){\n  const [anchorEl, setAnchorEl] = React.useState(null)\n  const open = Boolean(anchorEl)\n  const handleOpen = event => {\n    setAnchorEl(event.currentTarget)\n  }\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  return <>\n    {trigger({\n      onClick: handleOpen,\n    })}\n\n    <Menu\n      anchorEl={anchorEl}\n      open={open}\n      onClose={handleClose}\n      MenuListProps={{\n        style: {\n          maxWidth: '100%',\n        },\n      }}\n    >\n        {\n          role === 'editor'\n          ? <MenuItem onClick={() => changeRole('viewer')}>\n              <ListItemIcon>\n                <ViewerIcon />\n              </ListItemIcon>\n              <ListItemText>\n                <LocalizedRole role=\"viewer\" />\n              </ListItemText>\n            </MenuItem>\n          : <MenuItem onClick={() => changeRole('editor')}>\n              <ListItemIcon>\n                <EditorIcon />\n              </ListItemIcon>\n              <ListItemText>\n                <LocalizedRole role=\"editor\" />\n              </ListItemText>\n            </MenuItem>\n        }\n\n        {\n          typeof removePermission === 'function'\n          ? <MenuItem onClick={removePermission}>\n              <ListItemIcon>\n                <DeleteIcon />\n              </ListItemIcon>\n              <ListItemText>\n                Remove\n              </ListItemText>\n            </MenuItem>\n          : null\n        }\n\n        <Divider style={{opacity: 0.2}} />\n\n        <MenuItem onClick={handleClose}>\n          <ListItemIcon>\n            <CloseIcon />\n          </ListItemIcon>\n          <ListItemText>\n            Close\n          </ListItemText>\n        </MenuItem>\n    </Menu>\n  </>\n}\n\nfunction sortPermissions(permissions) {\n  const owner = permissions\n    .filter(p => p.role === 'owner')\n    .sort((a, b) => a.email.localeCompare(b.email))\n\n  const special = permissions\n    .filter(p => p.email === '@volteuropa.org' || p.email === '@public')\n    .sort((a, b) => a.email.localeCompare(b.email))\n\n  const other = permissions\n    .filter(p => p.role !== 'owner' && p.email !== '@volteuropa.org' && p.email !== '@public')\n    .sort((a, b) => a.email.localeCompare(b.email))\n\n  return [\n    ...owner,\n    ...special,\n    ...other,\n  ]\n}\n\nfunction PermissionsEditor({\n  defaultPermissions,\n  open = false,\n  onChange,\n  onClose,\n}) {\n  const { getString } = useLocalization()\n\n  const { email: user_email = '' } = useUser()\n\n  const [inputRepaintKey, setInputRepaintKey] = useState(0)\n  const [permissions, setPermissions] = useState([])\n  const [newEmails, setNewEmails] = useState([])\n  const [newRole, setNewRole] = useState('editor')\n\n  const setNewPermission = useCallback(newPermissions => {\n    if (user_email !== '') {\n      newPermissions = addTmpIds(newPermissions || [])\n\n      const doesNotHaveOwner = newPermissions.filter(permission => permission.role === 'owner').length === 0\n      if (doesNotHaveOwner) {\n        newPermissions.unshift({ tmp_id: uuidv4(), email: user_email, role: 'owner' })\n      }\n\n      setPermissions(newPermissions)\n    }\n  }, [ user_email, setPermissions ])\n\n  useEffect(() => {\n    if (Array.isArray(defaultPermissions)) {\n      setNewPermission(defaultPermissions)\n    } else {\n      setNewPermission([])\n    }\n  }, [ setNewPermission, defaultPermissions ])\n\n  const removePermission = useCallback(email => {\n    let newPermissions = permissions.filter(p => p.email !== email)\n    if (email === '@volteuropa.org') {\n      newPermissions = newPermissions.filter(p => p.email !== '@public')\n    }\n\n    const doesNotHaveOwner = permissions.filter(p => p.role === 'owner').length === 0\n    if (doesNotHaveOwner) {\n      newPermissions.unshift({ tmp_id: uuidv4(), email: user_email, role: 'owner' })\n    }\n\n    setPermissions(newPermissions)\n    onChange(newPermissions)\n  }, [permissions, user_email, setPermissions, onChange])\n\n  const changeRole = useCallback((email, newRole) => {\n    const newPermissions = permissions.map(permission => {\n      if (permission.email === email) {\n        return {\n          ...permission,\n          role: newRole,\n        }\n      }\n      return permission\n    })\n\n    setPermissions(newPermissions)\n    onChange(newPermissions)\n  }, [permissions, setPermissions, onChange])\n\n  const addPermissions = useCallback((newEmails, newRole) => {\n    if (newEmails.includes('@public')) {\n      newEmails.push('@volteuropa.org')\n    }\n    let newPermissions = permissions.filter(permission => !newEmails.includes(permission.email))\n    for (const newEmail of newEmails) {\n      newPermissions.unshift({ tmp_id: uuidv4(), email: newEmail, role: newRole })\n    }\n\n    setPermissions(newPermissions)\n    onChange(newPermissions)\n  }, [permissions, setPermissions, onChange])\n\n  const addNewPermissionFromInput = useCallback(() => {\n    addPermissions(newEmails, newRole)\n    setNewEmails([]) // reset the email-input | don't reset the role-input so it can be reused when entering multiple emails after each other // setNewRole('editor')\n    setInputRepaintKey(oldInputRepaintKey => oldInputRepaintKey + 1) // redraw the email-input\n  }, [ newEmails, newRole, addPermissions ])\n\n  if (!open) {\n    return null\n  }\n\n  const doesNotHaveVoltEuropa = permissions.filter(permission => permission.email === '@volteuropa.org').length === 0\n  const doesNotHavePublic = permissions.filter(permission => permission.email === '@public').length === 0\n\n  return (\n    <Modal\n      open={open}\n      onClose={onClose}\n      hideBackdrop={true}\n      // BackdropComponent={<Backdrop open={true} className={classes.backdrop} />}\n      // aria-labelledby=\"modal-modal-title\"\n      // aria-describedby=\"modal-modal-description\"\n    >\n      <>\n        <div className={classes.backdrop} onClick={onClose}></div>\n\n        <div className={classes.dialogsWrapper}>\n\n        <div className={classes.dialog}>\n          <h1 style={{ margin: '0 0 var(--basis_x4) 0' }}>Give viewing and editing rights</h1>\n          <p>Enter @volteuropa.org addresses to give editing rights.<br/>Groups addresses are not supported.</p>\n          <div className={classes.inputWrapper} key={inputRepaintKey}>\n            <FancyInput className={classes.emailInput}>\n              {({ setError }) => (\n                <EmailInput\n                  multiple={true}\n                  onError={setError}\n                  defaultValue=\"\"\n                  onChange={setNewEmails}\n                  aria-label={getString('path_editor_permissions_edit_label')}\n                  placeholder={getString('path_editor_permissions_edit_placeholder')}\n                  style={{\n                    flexGrow: '1',\n                    // margin: '0',\n                    margin: 'var(--basis) 0',\n                    width: 'calc(100% - var(--basis_x2))',\n                  }}\n                />\n              )}\n            </FancyInput>\n            <RolesMenu\n              role={newRole}\n              changeRole={setNewRole}\n              trigger={triggerProps => <button className={classes.menuButton} {...triggerProps}><LocalizedRole role={newRole} /> <KeyboardArrowDownIcon/></button>}\n            />\n          </div>\n\n          {\n            newEmails.length > 0 && newEmails[0].length > 0\n            ? <>\n                <hr />\n\n                <div className={classes.actions}>\n                  <button onClick={addNewPermissionFromInput} className=\"green\" style={{margin: '0'}}>\n                    {\n                      newEmails.length > 1\n                      ? <>Add People</>\n                      : <>Add Person</>\n                    }\n                  </button>\n                </div>\n              </>\n            : <>\n                {\n                  doesNotHaveVoltEuropa || doesNotHavePublic\n                  ? <div style={{ marginTop: 'var(--basis_x2)' }}>\n                    Make visible for\n                    {\n                      doesNotHaveVoltEuropa\n                      ? <button onClick={() => addPermissions(['@volteuropa.org'], 'viewer')}>Volt Europa</button>\n                      : null\n                    }\n                    {\n                      doesNotHavePublic\n                      ? <button onClick={() => addPermissions(['@public'], 'viewer')}>Public</button>\n                      : null\n                    }\n                  </div>\n                  : null\n                }\n\n                {\n                  permissions.length === 0\n                   ? null\n                   : <hr style={{ opacity: 0.2 }} />\n                }\n\n                {\n                  sortPermissions(permissions)\n                  .map(p => <div key={p.tmp_id} className={classes.permissionRow}>\n                    {\n                      p.email === '@public'\n                        ? <strong>Public</strong>\n                        : (\n                          p.email === '@volteuropa.org'\n                            ? <strong>Volt Europa</strong>\n                            : <span>{p.email}</span>\n                        )\n                    }\n\n                    {\n                      p.role === 'owner'\n                      ? <strong className={`type_button ${classes.ownerInfo}`}><LocalizedRole role={p.role} /></strong>\n                      : <RolesMenu\n                          role={p.role}\n                          removePermission={() => removePermission(p.email)}\n                          changeRole={(newRole) => changeRole(p.email, newRole)}\n                          trigger={triggerProps => <button className={classes.menuButton} {...triggerProps}><LocalizedRole role={p.role} /> <KeyboardArrowDownIcon/></button>}\n                        />\n                    }\n                  </div>)\n                }\n\n                <hr style={{ opacity: 0.2 }} />\n\n                <div className={classes.actions}>\n                  <button onClick={onClose} className=\"green\" style={{margin: '0'}}>Done</button>\n                </div>\n              </>\n          }\n        </div>\n\n        </div>\n      </>\n    </Modal>\n  )\n}\n\nexport default PermissionsEditor\n","import { useCallback, useState } from 'react'\n\nimport {\n  CheckBox as CheckBoxIcon,\n  CheckBoxOutlineBlank as CheckBoxOutlineBlankIcon,\n} from '@mui/icons-material'\n\nfunction CheckboxInput({\n  defaultValue = '',\n  onChange,\n  onBlur,\n  style,\n  className,\n  disabled = false,\n}) {\n  // TODO: make ARIA compatible\n\n  const [ checked, setChecked ] = useState(Boolean(defaultValue))\n\n  const publishChanges = useCallback(() => {\n    if (onChange) {\n      onChange(checked)\n    }\n    if (onBlur) {\n      onBlur(checked)\n    }\n  }, [ onChange, onBlur, checked ])\n\n  const checkBlock = useCallback(() => {\n    if (disabled === true) {\n      return\n    }\n    publishChanges()\n    setChecked(true)\n  }, [ disabled, publishChanges, setChecked ])\n\n  const uncheckBlock = useCallback(() => {\n    if (disabled === true) {\n      return\n    }\n    publishChanges()\n    setChecked(false)\n  }, [ disabled, publishChanges, setChecked ])\n\n  return <div\n    style={{\n      display: 'inline-block',\n      padding: 'var(--basis)',\n      cursor: disabled === true ? 'default' : 'pointer',\n      verticalAlign: 'middle',\n      ...style,\n    }}\n    className={className}\n  >\n    {\n      checked\n      ? <CheckBoxIcon onClick={uncheckBlock} />\n      : <CheckBoxOutlineBlankIcon onClick={checkBlock} />\n    }\n  </div>\n}\n\nexport default CheckboxInput\n","import { useState, useCallback, useEffect } from 'react'\n\nfunction MultiButton({ ariaLabel, items, defaultValue, onChange, style, className }) {\n  const [choosen, setChoosen] = useState()\n\n  useEffect(() => setChoosen(defaultValue), [defaultValue, setChoosen])\n\n  const handleClick = useCallback(event => {\n    const newValue = event.target.dataset.value\n    setChoosen(newValue)\n    if (onChange) {\n      onChange(newValue)\n    }\n  }, [setChoosen, onChange])\n\n  return <div\n    aria-label={ariaLabel}\n    className={'buttonRow ' + (className ||'')}\n    style={{\n      display: 'inline-block',\n      ...style\n    }}\n  >\n    {\n      items.map(item => {\n        const value = item.value\n        const title = item.title\n        const icon = item.icon || null\n        return <button\n          key={value+'_'+title}\n          className={`${choosen === value ? 'choosen' : ''} ${!!icon ? 'hasIcon' : ''}`}\n          onClick={handleClick}\n          data-value={value}\n        >\n          <span style={{pointerEvents: 'none'}}>\n            {!!icon ? icon : null}\n            {!!title ? <span style={{verticalAlign: 'middle'}}>{title}</span> : null}\n          </span>\n        </button>\n      })\n    }\n  </div>\n}\n\nexport default MultiButton\n","export default __webpack_public_path__ + \"static/media/20200912_Plakatschlange_Koeln_Matteo Sant_Unione_011.3f9289d0.png\";","export default __webpack_public_path__ + \"static/media/Aktion.89c1bcdf.png\";","export default __webpack_public_path__ + \"static/media/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.6824f6ef.png\";","export default __webpack_public_path__ + \"static/media/Welcome-to-Volt.39e04eca.png\";","\nimport classes from './CoverphotoPicker.module.css'\n\nimport Popover from '../Popover.js'\n\nimport { Paper } from '@mui/material'\n\nimport { Localized, withLocalization } from '../../fluent/Localized.js'\n\nimport MultiButton from '../MultiButton.js'\nimport FancyInput from './FancyInput.js'\nimport UrlInput from './UrlInput.js'\n\nimport plakatschlange_thumb from '../../images/coverphotos/thumbs/20200912_Plakatschlange_Koeln_Matteo Sant_Unione_011.png'\nimport aktion_thumb from '../../images/coverphotos/thumbs/Aktion.png'\nimport volt_bonn_thumb from '../../images/coverphotos/thumbs/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.png'\nimport welcome_to_volt_thumb from '../../images/coverphotos/thumbs/Welcome-to-Volt.png'\n\n\nfunction CoverphotoPicker({ getString, defaultValue, iconValue, onChange, className = '', style = {} }) {\n  const isAbsoluteUrlRegexp = new RegExp('^(?:[a-z]+:)?//', 'i')\n\n  let defaultValueIsUrl = false\n  if (\n    typeof defaultValue === 'string'\n    && defaultValue.length > 0\n    && isAbsoluteUrlRegexp.test(defaultValue)\n  ) {\n    defaultValueIsUrl = true\n  }\n\n  let iconValueIsUrl = false\n  if (\n    typeof iconValue === 'string'\n    && iconValue.length > 0\n    && isAbsoluteUrlRegexp.test(iconValue)\n  ) {\n    iconValueIsUrl = true\n  }\n\n  return <div\n    className={`\n      ${classes.root}\n      ${defaultValueIsUrl ? classes.coverphotoIsSet : classes.coverphotoIsNotSet}\n      ${iconValueIsUrl ? classes.iconIsSet : classes.iconIsNotSet}\n      ${className}\n    `}\n    style={style}\n  >\n    <Popover\n      trigger={(triggerProps) => (\n        <div\n          className={classes.coverphoto}\n          style={{\n            backgroundImage: defaultValueIsUrl ? `url(${window.domains.backend}download_url?url=${encodeURIComponent(defaultValue)})` : '',\n          }}\n        >\n          <div className={classes.button_wrapper}>\n            <button {...triggerProps} className={classes.changeCoverphotoButton}>Set Coverphoto</button>\n          </div>\n        </div>\n      )}\n    >\n      {({closePopover, ...popoverProps}) => (\n        <Paper\n          {...popoverProps}\n          sx={{\n            maxWidth: 'calc(calc(100vw - 32px) - var(--basis_x8))',\n            maxHeight: 'calc(calc(100vh - 32px) - var(--basis_x8))',\n            overflow: 'auto',\n            padding: 'var(--basis_x4)',\n            background: 'var(--background-contrast)',\n            color: 'var(--on-background)',\n          }}\n          elevation={8}\n        >\n          <h3><Localized id=\"path_editor_coverphoto_label\" /></h3>\n\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}>\n            <Localized id=\"path_editor_coverphoto_info\" />\n          </em>\n\n          <FancyInput>\n            {({ setError }) => (\n              <UrlInput\n                onError={setError}\n                onChange={onChange}\n                defaultValue={defaultValue}\n                style={{\n                  marginRight: '0',\n                  marginLeft: '0',\n                  width: '100%'\n                }}\n              />\n            )}\n          </FancyInput>\n\n          <MultiButton\n            onChange={onChange}\n            ariaLabel={getString('path_editor_coverphoto_label')}\n            defaultValue={defaultValue || ''}\n            items={[\n              {\n                value: '',\n                title: getString('path_editor_no_coverphoto'),\n              },\n              ...[\n                {\n                  value: 'https://assets.volteuropa.org/styles/scale_2880x/public/inline-images/tYADz4UyUAAcV5WlmWLlkXD9LG8W02U9LbQd8rxzQ2bt99lxwK.jpg',\n                  icon: volt_bonn_thumb,\n                },\n                {\n                  value: 'https://assets.volteuropa.org/styles/scale_1920x/public/2020-11/Welcome-to-Volt.jpg',\n                  icon: welcome_to_volt_thumb,\n                },\n                {\n                  value: 'https://assets.volteuropa.org/styles/scale_1920x/public/2021-07/20200912_Plakatschlange_Ko%CC%88ln_Matteo%20Sant_Unione_011.jpeg',\n                  icon: plakatschlange_thumb,\n                },\n                {\n                  value: 'https://assets.volteuropa.org/styles/scale_1920x/public/2021-05/Aktion.jpeg',\n                  icon: aktion_thumb,\n                },\n                // 'https://www.volteuropa.org/stripes/hero-desktop-green.jpg',\n                // 'https://www.volteuropa.org/stripes/hero-desktop-red.jpg',\n                // 'https://www.volteuropa.org/stripes/hero-desktop-blue.jpg',\n                // 'https://www.volteuropa.org/stripes/hero-desktop-yellow.jpg',\n                // 'https://assets.volteuropa.org/styles/scale_1920x/public/2021-05/Colours-Background-Big.jpeg',\n                // 'https://www.volteuropa.org/stripes/intermediate-green.jpg',\n                // 'https://www.volteuropa.org/stripes/intermediate-red.jpg',\n                // 'https://www.volteuropa.org/stripes/intermediate-blue.jpg',\n                // 'https://www.volteuropa.org/stripes/intermediate-yellow.jpg',\n                // 'https://www.volteuropa.org/og-default.png',\n                // 'https://www.volteuropa.org/hero-default.jpg',\n              ]\n              .map(({value = '', icon = ''}) => ({\n                value,\n                icon: <img alt=\"\" src={icon} className=\"icon image\" />\n              }))\n            ]}\n          />\n\n          <hr />\n\n          <button onClick={closePopover} style={{ margin: 0 }}>\n            Close\n          </button>\n        </Paper>\n      )}\n    </Popover>\n  </div>\n}\n\nexport default withLocalization(CoverphotoPicker)\n","\nimport classes from './IconPicker.module.css'\n\nimport Popover from '../Popover.js'\n\nimport { Paper } from '@mui/material'\n\nimport { Localized, withLocalization } from '../../fluent/Localized.js'\n\nimport FancyInput from './FancyInput.js'\nimport UrlInput from './UrlInput.js'\n\nfunction IconPicker({ defaultValue, coverphotoValue, onChange, className, style }) {\n  const isAbsoluteUrlRegexp = new RegExp('^(?:[a-z]+:)?//', 'i')\n\n  let defaultValueIsUrl = false\n  if (\n    typeof defaultValue === 'string'\n    && defaultValue.length > 0\n    && isAbsoluteUrlRegexp.test(defaultValue)\n  ) {\n    defaultValueIsUrl = true\n  }\n\n  let coverphotoValueIsUrl = false\n  if (\n    typeof coverphotoValue === 'string'\n    && coverphotoValue.length > 0\n    && isAbsoluteUrlRegexp.test(coverphotoValue)\n  ) {\n    coverphotoValueIsUrl = true\n  }\n\n  return <div\n    className={`\n      ${classes.root}\n      ${defaultValueIsUrl ? classes.iconIsSet : classes.iconIsNotSet}\n      ${coverphotoValueIsUrl ? classes.coverphotoIsSet : classes.coverphotoIsNotSet}\n      ${className}\n    `}\n    style={style}\n  >\n    <Popover\n      trigger={(triggerProps) => (<div className={classes.iconWrapper}>\n        <div\n          className={`${classes.icon} ${!defaultValueIsUrl ? classes.no_image : ''}`}\n          style={{\n            backgroundImage: defaultValueIsUrl ? `url(${window.domains.backend}download_url?url=${encodeURIComponent(defaultValue)})` : '',\n          }}\n        ></div>\n        <button {...triggerProps} className={classes.changeIconButton}>Set Icon</button>\n      </div>)}\n    >\n      {({closePopover, ...popoverProps}) => (\n        <Paper\n          {...popoverProps}\n          sx={{\n            maxWidth: 'calc(calc(100vw - 32px) - var(--basis_x8))',\n            maxHeight: 'calc(calc(100vh - 32px) - var(--basis_x8))',\n            overflow: 'auto',\n            padding: 'var(--basis_x4)',\n            background: 'var(--background-contrast)',\n            color: 'var(--on-background)',\n          }}\n          elevation={8}\n        >\n          <h3><Localized id=\"path_editor_icon_label\" /></h3>\n\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}>\n            <Localized id=\"path_editor_icon_info\" />\n          </em>\n\n          <FancyInput>\n            {({ setError }) => (\n              <UrlInput\n                onError={setError}\n                onBlur={onChange}\n                defaultValue={defaultValue}\n                style={{\n                  marginRight: '0',\n                  marginLeft: '0',\n                  width: '100%'\n                }}\n              />\n            )}\n          </FancyInput>\n\n          <hr />\n\n          <button onClick={closePopover} style={{ margin: 0 }}>\n            Close\n          </button>\n        </Paper>\n      )}\n    </Popover>\n  </div>\n}\n\nexport default withLocalization(IconPicker)\n","import { useState, useCallback, useEffect } from 'react'\n\n// import FancyInput from './FancyInput.js'\n// import UrlInput from './UrlInput.js'\nimport HtmlInput from './HtmlInput.js'\n\nimport { useLocalization } from '../../fluent/Localized.js'\n\nfunction TriggerInput({\n  defaultValue,\n  className,\n  style,\n  onChange,\n}) {\n  const { getString } = useLocalization()\n\n  const [properties, setProperties] = useState({})\n\n  useEffect(() => {\n    setProperties(defaultValue)\n  }, [\n    defaultValue,\n    setProperties,\n  ])\n\n  const updateProperty = useCallback((propertyKey, newPropertyValue) => {\n    const propertyTypes = {\n      type: 'string',\n      path: 'string',\n      url: 'string',\n      cron: 'string',\n      blockId: 'string',\n    }\n\n    const newProperties = { ...properties }\n\n    if (propertyTypes.hasOwnProperty(propertyKey)) {\n      switch (propertyTypes[propertyKey]) {\n        case 'array':\n          if (newPropertyValue.length > 0) {\n            newProperties[propertyKey] = newPropertyValue\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        case 'string':\n          if (newPropertyValue !== '') {\n            newProperties[propertyKey] = newPropertyValue\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        case 'boolean':\n          if (newPropertyValue === true) {\n            newProperties[propertyKey] = true\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        case 'object':\n          if (\n            typeof newPropertyValue === 'object'\n            && newPropertyValue !== null\n            && Object.keys(newPropertyValue).length > 0\n          ) {\n            newProperties[propertyKey] = newPropertyValue\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        default:\n          newProperties[propertyKey] = newPropertyValue\n      }\n\n      if (JSON.stringify(newProperties) !== JSON.stringify(properties)) {\n        setProperties(newProperties)\n        if (onChange) {\n          onChange(newProperties)\n        }\n      }\n    }\n  }, [\n    properties,\n    setProperties,\n    onChange,\n  ])\n\n  const type = properties.type || ''\n\n  let morePropsInput = null\n  if (type === 'click') {\n    morePropsInput = null\n  } else if (type === 'path') {\n    morePropsInput = <>\n      <HtmlInput\n        placeholder={getString('trigger_input_path_placeholder')}\n        defaultValue={properties.path}\n        onBlur={newValue => updateProperty('path', newValue)}\n        linebreak={false}\n        style={{\n          flexGrow: '1',\n          margin: '0',\n          minWidth: '300px',\n        }}\n        className=\"show_border_on_active\"\n      />\n    </>\n  // } else if (type === 'cron') {\n  //   morePropsInput = <>cron: String</>\n  // } else if (type === 'block_change') {\n  //   morePropsInput = <>blockId: ID</>\n  }\n\n  return <div\n    className={className}\n    style={{\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'flex-start',\n      maxWidth: '100%',\n      flexWrap: 'wrap',\n      gap: 'var(--basis)',\n      ...style\n    }}\n  >\n    <select\n      key={properties.type}\n      onChange={event => updateProperty('type', event.target.value)}\n      defaultValue={properties.type || ''}\n      style={{\n        margin: '0',\n      }}\n    >\n      <option value=\"\">No Trigger</option>\n      <option value=\"path\">Path</option>\n      <option value=\"click\">Click</option>\n      {/* <option value=\"cron\">Cron</option> */}\n      {/* <option value=\"block_change\">Block Change</option> */}\n    </select>\n\n    {morePropsInput}\n  </div>\n}\n\nexport default TriggerInput\n","import { useState, useCallback, useEffect } from 'react'\n\nimport FancyInput from './FancyInput.js'\nimport UrlInput from './UrlInput.js'\nimport HtmlInput from './HtmlInput.js'\n\nimport { useLocalization } from '../../fluent/Localized.js'\n\nfunction ActionInput({\n  defaultValue,\n  className,\n  style,\n  onChange,\n}) {\n  const { getString } = useLocalization()\n\n  const [properties, setProperties] = useState({})\n\n  useEffect(() => {\n    setProperties(defaultValue)\n  }, [\n    defaultValue,\n    setProperties,\n  ])\n\n  const updateProperty = useCallback((propertyKey, newPropertyValue) => {\n    const propertyTypes = {\n      type: 'string',\n      path: 'string',\n      url: 'string',\n      cron: 'string',\n      blockId: 'string',\n    }\n\n    const newProperties = { ...properties }\n\n    if (propertyTypes.hasOwnProperty(propertyKey)) {\n      switch (propertyTypes[propertyKey]) {\n        case 'array':\n          if (newPropertyValue.length > 0) {\n            newProperties[propertyKey] = newPropertyValue\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        case 'string':\n          if (newPropertyValue !== '') {\n            newProperties[propertyKey] = newPropertyValue\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        case 'boolean':\n          if (newPropertyValue === true) {\n            newProperties[propertyKey] = true\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        case 'object':\n          if (\n            typeof newPropertyValue === 'object'\n            && newPropertyValue !== null\n            && Object.keys(newPropertyValue).length > 0\n          ) {\n            newProperties[propertyKey] = newPropertyValue\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        default:\n          newProperties[propertyKey] = newPropertyValue\n      }\n\n      if (JSON.stringify(newProperties) !== JSON.stringify(properties)) {\n        setProperties(newProperties)\n        if (onChange) {\n          onChange(newProperties)\n        }\n      }\n    }\n  }, [\n    properties,\n    setProperties,\n    onChange,\n  ])\n\n  const type = properties.type || ''\n\n  let morePropsInput = null\n  if (\n    type === 'open_url'\n    || type === 'send_payload'\n  ) {\n    morePropsInput = <>\n      <FancyInput\n        style={{\n          flexGrow: '1',\n          margin: '0',\n          minWidth: '300px',\n        }}\n      >\n        {({ setError }) => (\n          <UrlInput\n            onError={setError}\n            onBlur={newValue => updateProperty('url', newValue)}\n            defaultValue={properties.url}\n            placeholder={getString('action_input_url_placeholder')}\n            type=\"text\"\n            style={{\n              flexGrow: 1,\n              margin: '0',\n              width: '100%'\n            }}\n            className=\"show_border_on_active\"\n          />\n        )}\n      </FancyInput>\n    </>\n  } else if (\n    type === 'render_block'\n    || type === 'run_block'\n  ) {\n    morePropsInput = <HtmlInput\n        placeholder=\"blockId\"\n        defaultValue={properties.blockId}\n        onBlur={newValue => updateProperty('blockId', newValue)}\n        linebreak={false}\n        style={{\n          flexGrow: '1',\n          margin: '0',\n          minWidth: '300px',\n        }}\n        className=\"show_border_on_active\"\n      />\n  }\n\n  return <div\n    className={className}\n    style={{\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'flex-start',\n      maxWidth: '100%',\n      flexWrap: 'wrap',\n      gap: 'var(--basis)',\n      ...style\n    }}\n  >\n    <select\n      key={properties.type}\n      onChange={event => updateProperty('type', event.target.value)}\n      defaultValue={properties.type || ''}\n      style={{\n        margin: '0',\n      }}\n    >\n      <option value=\"\">No Action</option>\n      <option value=\"open_url\">Open URL</option>\n      <option value=\"render_block\">Render Block</option>\n      {/* <option value=\"run_block\">Run Block</option> */}\n      {/* <option value=\"send_payload\">Send Payload</option> */}\n    </select>\n\n    {morePropsInput}\n  </div>\n}\n\nexport default ActionInput\n\n\n/*\n\n  let morePropsInput = null\n  if (\n    type === 'open_url'\n    || type === 'send_payload'\n  ) {\n    morePropsInput = <>\n      <UrlInput />\n    </>\n  } else if (\n    type === 'render_block'\n    || type === 'run_block'\n  ) {\n    morePropsInput = <>blockId: ID</>\n  }\n\n\n      <option key=\"editor\" value=\"\"></option>\n      <option key=\"editor\" value=\"open_url\">Open URL</option>\n      <option key=\"viewer\" value=\"render_block\">Render Block</option>\n      <option key=\"viewer\" value=\"run_block\">Run Block</option>\n      <option key=\"viewer\" value=\"send_payload\">Send Payload</option>\n      */\n","import { useState, useCallback, useEffect } from 'react'\n\nimport { v4 as uuidv4 } from 'uuid'\n\nimport classes from './PropertiesEditor.module.css'\n\nimport { Localized, withLocalization } from '../../fluent/Localized.js'\nimport UrlInput from './UrlInput.js'\nimport CheckboxInput from './CheckboxInput.js'\nimport HtmlInput from './HtmlInput.js'\nimport FancyInput from './FancyInput.js'\nimport CoverphotoPicker from './CoverphotoPicker.js'\nimport IconPicker from './IconPicker.js'\nimport TranslatedInput from './TranslatedInput.js'\nimport TriggerInput from './TriggerInput.js'\nimport ActionInput from './ActionInput.js'\n\n// function stripTmpIds(array){\n//   return [...array].map(obj => {\n//     const obj_new = { ...obj }\n//     delete obj_new._id\n//     return obj_new\n//   })\n// }\n\nfunction addTmpIds(array) {\n  return [...(array || [])].map(obj => {\n    if (!obj.tmp_id) {\n      const obj_new = { ...obj }\n      obj_new.tmp_id = uuidv4()\n      return obj_new\n    }\n\n    return obj\n  })\n}\n\nfunction PropertiesEditor({ getString, type, defaultProperties = {}, onChange }) {\n  const [properties, setProperties] = useState({})\n\n  // const [coverphoto, setCoverphoto] = useState('')\n  // const [imprint, setImprint] = useState('')\n  // const [privacy_policy, setPrivacyPolicy] = useState('')\n  // const [link, setLink] = useState('')\n\n  // let [voltTeams, setVoltTeams] = useState([])\n  // voltTeams = voltTeams.map(({ id, name }) => ({ value: id, label: name }))\n\n  // const [voltTeamInfos, setVoltTeamInfos] = useState({\n  //   id: null,\n  //   name: ''\n  // })\n  // const setVoltTeamInfosFromSelect = useCallback((data) => {\n  //   setVoltTeamInfos({\n  //     id: data.value,\n  //     name: data.label,\n  //   })\n  // }, [setVoltTeamInfos])\n\n\n  const updateProperty = useCallback((propertyKey, newPropertyValue) => {\n    const propertyTypes = {\n      text: 'array',\n      description: 'array',\n      coverphoto: 'string',\n      icon: 'string',\n      imprint: 'string',\n      privacy_policy: 'string',\n      tags: 'string',\n      checked: 'boolean',\n      trigger: 'object',\n      action: 'object',\n    }\n\n    const newProperties = { ...properties }\n\n    if (propertyTypes.hasOwnProperty(propertyKey)) {\n      switch (propertyTypes[propertyKey]) {\n        case 'array':\n          if (newPropertyValue.length > 0) {\n            newProperties[propertyKey] = newPropertyValue\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        case 'string':\n          if (newPropertyValue !== '') {\n            newProperties[propertyKey] = newPropertyValue\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        case 'boolean':\n          if (newPropertyValue === true) {\n            newProperties[propertyKey] = true\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        case 'object':\n          if (\n            typeof newPropertyValue === 'object'\n            && newPropertyValue !== null\n            && Object.keys(newPropertyValue).length > 0\n          ) {\n            newProperties[propertyKey] = newPropertyValue\n          } else if (newProperties.hasOwnProperty(propertyKey)) {\n            delete newProperties[propertyKey]\n          }\n        break\n        default:\n          newProperties[propertyKey] = newPropertyValue\n      }\n\n      if (JSON.stringify(newProperties) !== JSON.stringify(properties)) {\n        setProperties(newProperties)\n        if (onChange) {\n          onChange(newProperties)\n        }\n      }\n    }\n  }, [\n    properties,\n    setProperties,\n    onChange,\n  ])\n\n  useEffect(() => {\n    setProperties({\n      ...defaultProperties,\n      text: addTmpIds(defaultProperties.text || []),\n      description: addTmpIds(defaultProperties.description || []),\n    })\n  }, [\n    defaultProperties,\n    setProperties,\n  ])\n\n\n  // useEffect(() => {\n  //   fetch(`${window.domains.backend}teams_simple.json`, {\n  //     mode: 'cors',\n  //     credentials: 'include',\n  //   })\n  //     .then(response => response.json())\n  //     .then(data => {\n  //       if (typeof data.error === 'string') {\n  //         setVoltTeams([])\n  //       } else {\n  //         setVoltTeams(data)\n  //       }\n  //     })\n  //     .catch(error => {\n  //       console.error(error)\n  //       setVoltTeams([])\n  //     })\n  // }, [ setVoltTeams ])\n\n  let propertiesFrameContent = null\n  if (type === 'page') {\n    propertiesFrameContent = <>\n      <div className={classes.properties_row}>\n      <h3><Localized id=\"properties_editor_imprint_label\" /></h3>\n      <div>\n      <FancyInput>\n        {({ setError }) => (\n          <UrlInput\n            onError={setError}\n            onBlur={newValue => updateProperty('imprint', newValue)}\n            defaultValue={properties.imprint}\n            type=\"text\"\n            style={{\n              margin: '0',\n              width: '100%'\n            }}\n            className=\"show_border_on_active\"\n          />\n        )}\n      </FancyInput>\n      </div>\n      </div>\n\n      <div className={classes.properties_row}>\n      <h3><Localized id=\"properties_editor_privacy_policy_label\" /></h3>\n      <div>\n      <FancyInput>\n        {({ setError }) => (\n          <UrlInput\n            onError={setError}\n            onBlur={newValue => updateProperty('privacy_policy', newValue)}\n            defaultValue={properties.privacy_policy}\n            type=\"text\"\n            style={{\n              margin: '0',\n              width: '100%'\n            }}\n            className=\"show_border_on_active\"\n          />\n        )}\n      </FancyInput>\n      </div>\n      </div>\n    </>\n  // } else if (type === 'redirect') {\n  //   propertiesFrameContent = <>\n  //     <div className={classes.properties_row}>\n  //     <h3><Localized id=\"path_editor_redirect_label\" /></h3>\n  //     <FancyInput>\n  //       {({ setError }) => (\n  //         <UrlInput\n  //           onError={setError}\n  //           onBlur={newValue => updateProperty('link', newValue)}\n  //           type=\"text\"\n  //           placeholder={getString('path_editor_redirect_placeholder')}\n  //           aria-label={getString('path_editor_redirect_label')}\n  //           defaultValue={properties.link}\n  //           style={{\n  //             marginRight: '0',\n  //             marginLeft: '0',\n  //             width: '100%'\n  //           }}\n  //           className=\"show_border_on_active\"\n  //         />\n  //       )}\n  //     </FancyInput>\n  //     </div>\n  //   </>\n  } else if (type === 'checkbox') {\n    propertiesFrameContent = <>\n      <div className={classes.properties_row}>\n        <h3><Localized id=\"properties_editor_checked_label\" /></h3>\n        <CheckboxInput\n          onChange={newValue => updateProperty('checked', newValue)}\n          defaultValue={Boolean(properties.checked)}\n          style={{\n            marginRight: '0',\n            marginLeft: '0',\n            width: '100%'\n          }}\n        />\n      </div>\n    </>\n  } else if (type === 'button') {\n    propertiesFrameContent = <>\n      <div className={classes.properties_row}>\n        <h3><Localized id=\"properties_editor_action_label\" /></h3>\n        <ActionInput\n          onChange={newValue => updateProperty('action', newValue)}\n          defaultValue={properties.action || {}}\n          style={{\n            marginRight: '0',\n            marginLeft: '0',\n            width: '100%'\n          }}\n        />\n      </div>\n    </>\n  } else if (type === 'action') {\n    propertiesFrameContent = <>\n      <div className={classes.properties_row}>\n        <h3><Localized id=\"properties_editor_trigger_label\" /></h3>\n        <TriggerInput\n          onChange={newValue => updateProperty('trigger', newValue)}\n          defaultValue={properties.trigger || {}}\n          style={{\n            marginRight: '0',\n            marginLeft: '0',\n            width: '100%'\n          }}\n        />\n      </div>\n      <div className={classes.properties_row}>\n        <h3><Localized id=\"properties_editor_action_label\" /></h3>\n        <ActionInput\n          onChange={newValue => updateProperty('action', newValue)}\n          defaultValue={properties.action || {}}\n          style={{\n            marginRight: '0',\n            marginLeft: '0',\n            width: '100%'\n          }}\n        />\n      </div>\n    </>\n  }\n\n  return <>\n    {\n      type === 'page' ||type === 'person'\n      ? <>\n          <CoverphotoPicker\n            defaultValue={properties.coverphoto}\n            iconValue={properties.icon}\n            onChange={newValue => updateProperty('coverphoto', newValue)}\n          />\n          <IconPicker\n            defaultValue={properties.icon}\n            coverphotoValue={properties.coverphoto}\n            onChange={newValue => updateProperty('icon', newValue)}\n          />\n        </>\n      : null\n    }\n\n    <div className={classes.main_headline}>\n      <TranslatedInput\n        defaultValue={properties.text}\n        onBlur={newValue => updateProperty('text', newValue)}\n      >\n        {(translatedInputProps) => {\n          return (\n          <HtmlInput\n            placeholder={getString('placeholder_main_headline')}\n            style={{ margin: '0' }}\n            linebreaks={true}\n            className={`show_border_on_active type_h1`}\n            {...translatedInputProps}\n          />\n          )\n        }}\n      </TranslatedInput>\n\n      <TranslatedInput\n        defaultValue={properties.description}\n        onBlur={newValue => updateProperty('description', newValue)}\n      >\n        {(translatedInputProps) => {\n          return (\n          <HtmlInput\n            aria-label={getString('path_editor_description_label')}\n            placeholder={getString('path_editor_description_placeholder')}\n            style={{ margin: '0' }}\n            linebreaks={true}\n            className={`show_border_on_active type_text`}\n            {...translatedInputProps}\n          />\n          )\n        }}\n      </TranslatedInput>\n    </div>\n\n    <div className={classes.propertiesFrame} style={\n      propertiesFrameContent === null\n        ? { display: 'none' }\n        : null\n    }>\n      {propertiesFrameContent}\n\n      {/* <div className={classes.properties_row}>\n        <h3><Localized id=\"path_editor_tags_label\" /></h3>\n        <HtmlInput\n          onBlur={newValue => updateProperty('tags', newValue)}\n          type=\"text\"\n          placeholder={getString('path_editor_tags_placeholder')}\n          aria-label={getString('path_editor_tags_label')}\n          defaultValue={properties.tags}\n          style={{\n            marginRight: '0',\n            marginLeft: '0',\n            width: 'calc(100% - var(--basis_x2))'\n          }}\n        />\n      </div> */}\n\n      {/*\n        voltTeams && voltTeams.length > 0\n        ? <>\n          <h3><Localized id=\"path_editor_belongs_to_team_label\" /></h3>\n          <em className=\"body2\" style={{ display: 'block', marginBottom: 'var(--basis)' }}><Localized id=\"path_editor_belongs_to_team_info\" /></em>\n          <Select\n            defaultValue={{\n              value: voltTeamInfos !== null ? voltTeamInfos.id || null : null,\n              label: voltTeamInfos !== null ? voltTeamInfos.name || '' : '',\n            }}\n            defaultInputValue={voltTeamInfos !== null ? voltTeamInfos.name || '' : ''}\n            onChange={setVoltTeamInfosFromSelect}\n            ariaLabel={getString('path_editor_belongs_to_team_search_placeholder')}\n            label={getString('path_editor_belongs_to_team_search_placeholder')}\n            placeholder={getString('path_editor_belongs_to_team_search_placeholder')}\n            options={voltTeams}\n            styles={custom_react_select_styles}\n            theme={custom_react_select_theme}\n          />\n        </>\n        : null\n      */}\n    </div>\n  </>\n}\n\nexport default withLocalization(PropertiesEditor)\n","import React, { useState, useEffect, useCallback } from 'react'\n\nimport { withLocalization } from '../../fluent/Localized.js'\n\n// import { v4 as uuidv4 } from 'uuid'\n\nimport HtmlInput from './HtmlInput.js'\nimport TranslatedInput from './TranslatedInput.js'\n// import TranslationRepeater from '../TranslationRepeater.js'\n\nfunction InlineEditorBlockTextRaw({\n  getString,\n  block = {},\n  onChange,\n  onSaveBlock,\n\n  onInputRef,\n  onGoToPrevInput,\n  onGoToNextInput,\n  // onSplitText,\n  onMergeToPrevInput,\n  onMergeToNextInput,\n\n  onAddRowAfter,\n}) {\n  // const defaultLocale = getString('default_locale')\n  // const currentLocale = 'en'\n\n  const properties = block.properties || {}\n  const [text, setText] = useState([])\n  // const [key, setKey] = useState(0)\n\n  useEffect(() => {\n    setText(properties.text || [])\n  }, [properties.text, setText])\n\n  const publishTextChange = useCallback(() => {\n    if (onChange) {\n      onChange({\n        ...block,\n        properties: {\n          ...block.properties,\n          text,\n        },\n      })\n    }\n  }, [onChange, block, text])\n\n  // const handleSplitText = useCallback(({ texts })=>{\n  //   if (onAddRowAfter) {\n  //     let firstNewTextValue = text\n  //     if (text.length > 0) {\n  //       if (firstNewTextValue.findIndex(t => t.locale === currentLocale) > -1) {\n  //         firstNewTextValue = firstNewTextValue.map(t => {\n  //           if (t.locale === currentLocale) {\n  //             return {\n  //               ...t,\n  //               value: texts[0],\n  //             }\n  //           }\n  //           return t\n  //         })\n  //       } else {\n  //         firstNewTextValue = [\n  //           ...firstNewTextValue,\n  //           {locale: currentLocale, value: texts[0]},\n  //         ]\n  //       }\n  //     } else {\n  //       firstNewTextValue = [{locale: currentLocale, value: texts[0]}]\n  //     }\n  //\n  //     // const firstBlock = {\n  //     //   ...block,\n  //     //   properties: {\n  //     //     ...block.properties,\n  //     //     text: firstNewTextValue,\n  //     //   },\n  //     // }\n  //\n  //     const secondBlock = {\n  //       type: block.type,\n  //       properties: {\n  //         text: [{\n  //           locale: currentLocale,\n  //           value: texts[1],\n  //         }],\n  //       },\n  //     }\n  //\n  //     setText(firstNewTextValue)\n  //     setKey(key + 1)\n  //\n  //     onSaveBlock(secondBlock, blockId => {\n  //       onAddRowAfter({\n  //         blockId,\n  //       })\n  //     })\n  //   }\n  // }, [key, setKey, setText, onSaveBlock, onAddRowAfter, block, text, currentLocale])\n\n  const handleMergeToPrevInput = useCallback(()=>{\n    if (onMergeToPrevInput) {\n      onMergeToPrevInput(block)\n    }\n  }, [onMergeToPrevInput, block])\n\n  const handleMergeToNextInput = useCallback(()=>{\n    if (onMergeToNextInput) {\n      onMergeToNextInput(block)\n    }\n  }, [onMergeToNextInput, block])\n\n  return <TranslatedInput\n    defaultValue={text}\n    onChange={setText}\n    onBlur={publishTextChange}\n    // key={key}\n  >\n    {(translatedInputProps) => {\n      return (\n      <HtmlInput\n        placeholder={getString('placeholder_text')}\n        style={{ margin: '0' }}\n        linebreaks={true}\n        className=\"hide_border type_text\"\n\n        onInputRef={onInputRef}\n        onGoToPrevInput={onGoToPrevInput}\n        onGoToNextInput={onGoToNextInput}\n        onMergeToPrevInput={handleMergeToPrevInput}\n        onMergeToNextInput={handleMergeToNextInput}\n        // onSplitText={handleSplitText}\n\n        {...translatedInputProps}\n      />\n      )\n    }\n    }\n  </TranslatedInput>\n}\n\nconst InlineEditorBlockText = withLocalization(InlineEditorBlockTextRaw)\n\nexport default InlineEditorBlockText\n\n/*\nreturn <TranslationRepeater\n    onChange={handleChange}\n    defaultValue={text}\n    addDefaultValue={() => ({ tmp_id: uuidv4(), locale: defaultLocale, value: '' })}\n    addButtonText={getString('path_editor_add_translation')}\n    input={InputWithLocal_props => {\n      const { onChange, ...InputWithLocal_rest } = InputWithLocal_props\n      return <HtmlInput\n        placeholder={getString('placeholder_text')}\n        {...InputWithLocal_rest}\n        onBlur={onChange}\n        style={{ ...InputWithLocal_props.style, margin: '0' }}\n        linebreaks={true}\n        className=\"hide_border type_text\"\n      />\n    }}\n  />\n*/\n","import React, { useState, useCallback } from 'react'\n\nimport { withLocalization } from '../../fluent/Localized.js'\n\nimport FancyInput from './FancyInput.js'\nimport HtmlInput from './HtmlInput.js'\nimport UrlInput from './UrlInput.js'\nimport TranslatedInput from './TranslatedInput.js'\n\nfunction InlineEditorBlockButtonRaw({\n  getString,\n  block = {},\n  onChange,\n\n  onInputRef,\n  onGoToPrevInput,\n  onGoToNextInput,\n  // onSplitText,\n  // onMergeToPrevInput,\n  // onMergeToNextInput,\n}) {\n  const properties = block.properties || {}\n  const [text, setText] = useState(properties.text || [])\n  const {\n    action = {}\n  } = properties\n  const [link, setLink] = useState(action.url || '')\n\n  const publishChanges = useCallback(() => {\n    if (onChange) {\n      const newBlock = {\n        ...block,\n        properties: {\n          ...block.properties,\n          text: text,\n        },\n      }\n\n      if (link === '') {\n        if (newBlock.properties.hasOwnProperty('trigger')) {\n          delete newBlock.properties.trigger\n        }\n        if(newBlock.properties.hasOwnProperty('action')) {\n          delete newBlock.properties.action\n        }\n      } else {\n        newBlock.properties.trigger = {\n          type: 'click'\n        }\n        newBlock.properties.action = {\n\t\t\t\t  type: 'open_url',\n\t\t\t\t  url: link,\n\t\t\t  }\n      }\n\n      onChange(newBlock)\n    }\n  }, [onChange, block, text, link])\n\n  return <div style={{\n    padding: 'var(--basis) 0',\n  }}>\n    <TranslatedInput\n      defaultValue={text}\n      onChange={setText}\n      onBlur={publishChanges}\n    >\n      {(translatedInputProps) => {\n        return (\n        <HtmlInput\n          placeholder={getString('placeholder_button')}\n          style={{ margin: '0' }}\n          linebreaks={true}\n          className=\"hide_border type_button\"\n\n          onInputRef={onInputRef}\n          onGoToPrevInput={onGoToPrevInput}\n          onGoToNextInput={onGoToNextInput}\n\n          {...translatedInputProps}\n        />\n        )\n      }\n      }\n    </TranslatedInput>\n\n    <FancyInput>\n      {({ setError }) => (\n        <UrlInput\n          onError={setError}\n          onChange={setLink}\n          onBlur={publishChanges}\n          type=\"text\"\n          defaultValue={link}\n          placeholder={getString('path_editor_item_link_label')}\n          style={{\n            margin: 'var(--basis) 0',\n            width: '100%',\n          }}\n        />\n      )}\n    </FancyInput>\n  </div>\n}\n\nconst InlineEditorBlockButton = withLocalization(InlineEditorBlockButtonRaw)\n\nexport default InlineEditorBlockButton\n","import React, { useState, useEffect, useCallback } from 'react'\n\nimport { withLocalization } from '../../fluent/Localized.js'\n\nimport HtmlInput from './HtmlInput.js'\nimport TranslatedInput from './TranslatedInput.js'\n\nfunction InlineEditorBlockHeadlineRaw({\n  getString,\n  block = {},\n  onChange,\n  onSaveBlock,\n\n  onInputRef,\n  onGoToPrevInput,\n  onGoToNextInput,\n  // onSplitText,\n  onMergeToPrevInput,\n  onMergeToNextInput,\n\n  onAddRowAfter,\n}) {\n  const properties = block.properties || {}\n  const [text, setText] = useState([])\n\n  useEffect(() => {\n    setText(properties.text || [])\n  }, [properties.text, setText])\n\n  const publishTextChange = useCallback(() => {\n    if (onChange) {\n      onChange({\n        ...block,\n        properties: {\n          ...block.properties,\n          text,\n        },\n      })\n    }\n  }, [onChange, block, text])\n\n  const handleMergeToPrevInput = useCallback(()=>{\n    if (onMergeToPrevInput) {\n      onMergeToPrevInput(block)\n    }\n  }, [onMergeToPrevInput, block])\n\n  const handleMergeToNextInput = useCallback(()=>{\n    if (onMergeToNextInput) {\n      onMergeToNextInput(block)\n    }\n  }, [onMergeToNextInput, block])\n\n  return <TranslatedInput\n    defaultValue={text}\n    onChange={setText}\n    onBlur={publishTextChange}\n  >\n    {(translatedInputProps) => {\n      return (\n      <HtmlInput\n        placeholder={getString('placeholder_headline')}\n        style={{ margin: '0' }}\n        linebreaks={true}\n        className=\"hide_border type_h2\"\n\n        onInputRef={onInputRef}\n        onGoToPrevInput={onGoToPrevInput}\n        onGoToNextInput={onGoToNextInput}\n        onMergeToPrevInput={handleMergeToPrevInput}\n        onMergeToNextInput={handleMergeToNextInput}\n\n        {...translatedInputProps}\n      />\n      )\n    }\n    }\n  </TranslatedInput>\n}\n\nconst InlineEditorBlockHeadline = withLocalization(InlineEditorBlockHeadlineRaw)\n\nexport default InlineEditorBlockHeadline\n","export default function InlineEditorBlockDivider() {\n  return <hr style={{\n    margin: 'calc(3.4 * var(--basis)) 0',\n  }} />\n}\n","import React, { useState, useCallback, useRef } from 'react'\n\nimport { withLocalization } from '../../fluent/Localized.js'\n\nimport HtmlInput from './HtmlInput.js'\nimport CheckboxInput from './CheckboxInput.js'\nimport TranslatedInput from './TranslatedInput.js'\n\nfunction InlineEditorBlockCheckboxRaw({\n  getString,\n  block = {},\n  onChange,\n\n  onInputRef,\n  onGoToPrevInput,\n  onGoToNextInput,\n  // onSplitText,\n  // onMergeToPrevInput,\n  // onMergeToNextInput,\n}) {\n  const properties = block.properties || {}\n  const [text, setText] = useState(properties.text || [])\n  const checked = useRef(Boolean(properties.checked))\n\n  const publishChanges = useCallback(() => {\n    if (onChange) {\n      onChange({\n        ...block,\n        properties: {\n          ...block.properties,\n          text,\n          checked: checked.current,\n        },\n      })\n    }\n  }, [onChange, block, text])\n\n  const saveChecked = useCallback(newValue => {\n    checked.current = newValue\n    publishChanges()\n  }, [ publishChanges ])\n\n  return <div style={{ display: 'flex' }}>\n    <CheckboxInput\n      checked={checked.current}\n      onChange={saveChecked}\n    />\n\n    <TranslatedInput\n      defaultValue={text}\n      onChange={setText}\n      onBlur={publishChanges}\n      style={{\n        flexGrow: '1',\n        width: '100%',\n      }}\n    >\n      {(translatedInputProps) => {\n        return (\n        <HtmlInput\n          placeholder={getString('placeholder_text')}\n          style={{ margin: '0' }}\n          linebreaks={true}\n          className=\"hide_border type_text\"\n\n          onInputRef={onInputRef}\n          onGoToPrevInput={onGoToPrevInput}\n          onGoToNextInput={onGoToNextInput}\n\n          {...translatedInputProps}\n        />\n        )\n      }\n      }\n    </TranslatedInput>\n  </div>\n}\n\nconst InlineEditorBlockCheckbox = withLocalization(InlineEditorBlockCheckboxRaw)\n\nexport default InlineEditorBlockCheckbox\n","import React, { useState, useCallback } from 'react'\n\nimport { withLocalization } from '../../fluent/Localized.js'\n\nimport {\n  Face as PersonPlaceholderIcon,\n} from '@mui/icons-material'\n\nimport HtmlInput from './HtmlInput.js'\nimport TranslatedInput from './TranslatedInput.js'\n\nfunction InlineEditorBlockPersonRaw({\n  getString,\n  block = {},\n  onChange,\n\n  onInputRef,\n  onGoToPrevInput,\n  onGoToNextInput,\n  // onSplitText,\n  // onMergeToPrevInput,\n  // onMergeToNextInput,\n}) {\n  const properties = block.properties || {}\n  const [text, setText] = useState(properties.text || [])\n\n  const publishChanges = useCallback(() => {\n    if (onChange) {\n      onChange({\n        ...block,\n        properties: {\n          ...block.properties,\n          text,\n        },\n      })\n    }\n  }, [onChange, block, text])\n\n  return <div style={{ display: 'flex' }}>\n    <PersonPlaceholderIcon\n      style={{\n        margin: 'var(--basis)',\n      }}\n    />\n\n    <TranslatedInput\n      defaultValue={text}\n      onChange={setText}\n      onBlur={publishChanges}\n      style={{\n        flexGrow: '1',\n        width: '100%',\n      }}\n    >\n      {(translatedInputProps) => {\n        return (\n        <HtmlInput\n          placeholder={getString('placeholder_text')}\n          style={{\n            margin: '0',\n            fontWeight: 'bold',\n          }}\n          linebreaks={true}\n          className=\"hide_border type_text\"\n\n          onInputRef={onInputRef}\n          onGoToPrevInput={onGoToPrevInput}\n          onGoToNextInput={onGoToNextInput}\n\n          {...translatedInputProps}\n        />\n        )\n      }\n      }\n    </TranslatedInput>\n  </div>\n}\n\nconst InlineEditorBlockPerson = withLocalization(InlineEditorBlockPersonRaw)\n\nexport default InlineEditorBlockPerson\n","import React, { useState, useCallback, useEffect } from 'react'\n\nimport { withLocalization } from '../../fluent/Localized.js'\n\nimport BlockMenu from './BlockMenu.js'\nimport useSaveBlock from '../../hooks/useSaveBlock.js'\nimport useLoadBlock from '../../hooks/useLoadBlock.js'\n\nimport InlineEditorBlockText from './InlineEditorBlockText.js'\nimport InlineEditorBlockButton from './InlineEditorBlockButton.js'\nimport InlineEditorBlockHeadline from './InlineEditorBlockHeadline.js'\nimport InlineEditorBlockDivider from './InlineEditorBlockDivider.js'\nimport InlineEditorBlockCheckbox from './InlineEditorBlockCheckbox.js'\nimport InlineEditorBlockPerson from './InlineEditorBlockPerson.js'\n\nimport classes from './InlineEditorBlock.module.css'\n\n// function addIds(array){\n//   if (Array.isArray(array)) {\n//     return array.map(item => {\n//       let new_item = { ...item }\n//       if (!new_item.hasOwnProperty('_id')) {\n//         new_item._id = uuidv4()\n//       }\n//       return new_item\n//     })\n//   }\n//   return array\n// }\n\n// function stripIDs(array){\n//   return [...array].map(obj => {\n//     const obj_new = { ...obj }\n//     delete obj_new._id\n//     return obj_new\n//   })\n// }\n\nfunction InlineEditorBlockInbetweenComponent({ type = 'text', ...props }){\n  let component = null\n\n  switch (type) {\n    case 'button':\n      component = <InlineEditorBlockButton {...props} />\n    break;\n    case 'headline':\n      component = <InlineEditorBlockHeadline {...props} />\n    break;\n    case 'divider':\n      component = <InlineEditorBlockDivider {...props} />\n    break;\n    case 'checkbox':\n      component = <InlineEditorBlockCheckbox {...props} />\n    break;\n    case 'person':\n      component = <InlineEditorBlockPerson {...props} />\n    break;\n    default:\n      component = <InlineEditorBlockText {...props} />\n  }\n\n  return component\n}\n\nfunction InlineEditorBlockRaw({\n  fluentByObject,\n  getString,\n  defaultContentConfig = {},\n  className,\n  onChange,\n  reorderHandle,\n  onRemoveRow,\n  actionButton,\n  dataset = {},\n  addRowBefore,\n  addRowAfter,\n  permissions = [],\n\n  onInputRef,\n  onGoToPrevInput,\n  onGoToNextInput,\n  onSplitText,\n  onMergeToPrevInput,\n  onMergeToNextInput,\n}) {\n  const saveBlock = useSaveBlock()\n  const loadBlock = useLoadBlock()\n\n  // const defaultLocale = getString('default_locale')\n\n  const [block, setBlock] = useState({\n    _id: defaultContentConfig.blockId || null,\n  })\n  const properties = block.properties || {}\n  const active = typeof properties.active === 'boolean' ? properties.active : true\n\n  useEffect(() => {\n    if (Object.keys(block).length === 1 && block.hasOwnProperty('_id')) {\n      loadBlock(block._id)\n        .then(loadedBlock => {\n          setBlock(loadedBlock)\n        })\n    }\n  }, [\n    loadBlock,\n    setBlock,\n    block,\n  ])\n\n  const handleChange_Type = useCallback(newValue => {\n    const newBlock = {\n      ...block,\n      type: newValue,\n    }\n\n    saveBlock(newBlock)\n      .then((newBlock) => {\n        setBlock(newBlock)\n        if (!block._id || block._id !== newBlock._id) {\n          onChange({\n            blockId: newBlock._id,\n          })\n        }\n      })\n  }, [setBlock, block, saveBlock, onChange])\n\n  // const handleChange = useCallback(newBlock => {\n  //   setBlock(newBlock)\n\n  //   if (onChange) {\n  //     const target = wrapperDiv.current\n  //     target.value = newBlock\n  //     onChange({ target })\n  //   }\n  // }, [setBlock, onChange])\n\n  const toggle_active = useCallback(() => {\n    const newBlock = {\n      ...block,\n      properties: {\n        ...block.properties,\n        active: !active,\n      },\n    }\n\n    saveBlock(newBlock)\n      .then((newBlock) => {\n        setBlock(newBlock)\n        if (!block._id || block._id !== newBlock._id) {\n          onChange({\n            blockId: newBlock._id,\n          })\n        }\n      })\n  }, [block, active, saveBlock, setBlock, onChange])\n\n  const handleSaveBlock = useCallback(newBlock => {\n    if (JSON.stringify(newBlock) !== JSON.stringify(block)) {\n      saveBlock(newBlock)\n        .then((newBlock) => {\n          setBlock(newBlock)\n          if (!block._id || block._id !== newBlock._id) {\n            onChange({\n              blockId: newBlock._id,\n            })\n          }\n        })\n    }\n  }, [saveBlock, block, onChange])\n\n  return <div\n    className={`${classes.block} ${className}`}\n    {...dataset}\n  >\n\n    <BlockMenu\n      {...{\n        block,\n        setType: handleChange_Type,\n        toggle_active,\n        active,\n        onRemoveRow,\n        addRowBefore,\n        addRowAfter,\n      }}\n\n      trigger={props => (\n        <div\n          {...props}\n          className={classes.reorderHandle}\n        >\n          {reorderHandle}\n        </div>\n      )}\n    />\n\n    <div className={`${classes.block_input} ${(active ? classes.form_active : classes.form_deactivated)}`}>\n      <InlineEditorBlockInbetweenComponent\n        type={block.type}\n        block={block}\n        onChange={handleSaveBlock}\n        onSaveBlock={handleSaveBlock}\n\n        onInputRef={onInputRef}\n        onGoToPrevInput={onGoToPrevInput}\n        onGoToNextInput={onGoToNextInput}\n        onSplitText={onSplitText}\n        onMergeToPrevInput={onMergeToPrevInput}\n        onMergeToNextInput={onMergeToNextInput}\n\n        onAddRowAfter={addRowAfter}\n      />\n    </div>\n\n  </div>\n}\n\nconst InlineEditorBlock = withLocalization(InlineEditorBlockRaw)\n\nexport default InlineEditorBlock\n","import { useState, useEffect, useCallback } from 'react'\n\nimport { v4 as uuidv4 } from 'uuid'\n\nimport {\n  Add as AddIcon,\n} from '@mui/icons-material'\nimport {\n  Tooltip,\n} from '@mui/material'\n\nimport { Localized } from '../../fluent/Localized.js'\nimport InlineEditorBlock from './InlineEditorBlock.js'\n\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd'\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator'\n\nimport classes from './ContentEditor.module.css'\n\n// function stripTmpIds(array){\n//   return [...array].map(obj => {\n//     const obj_new = { ...obj }\n//     delete obj_new._id\n//     return obj_new\n//   })\n// }\n\nfunction addTmpIds(array) {\n  return [...array].map(obj => {\n    const obj_new = { ...obj }\n    obj_new.tmp_id = uuidv4()\n    return obj_new\n  })\n}\n\nfunction getFirstLineStartNode(element){\n  element.normalize()\n\n  const childNodes = element.childNodes\n  if (childNodes.length > 0) {\n    return childNodes[0]\n  }\n\n  return element\n}\n\nfunction getLastLineStartNode(element) {\n  element.normalize()\n\n  const childNodes = [...element.childNodes].reverse()\n  if (childNodes.length > 0) {\n    let lastLineNode = element\n    if (childNodes[0].nodeType === 3) {\n      for (const childNode of childNodes) {\n        if (childNode.nodeType === 3) {\n          lastLineNode = childNode\n        } else if (childNode.nodeType === 1) {\n          break\n        }\n      }\n    } else {\n      if (childNodes.length > 1) {\n        if (childNodes[1].nodeType === 3) {\n          const thisChildNodes = childNodes.slice(1)\n          for (const childNode of thisChildNodes) {\n            if (childNode.nodeType === 3) {\n              lastLineNode = childNode\n            } else if (childNode.nodeType === 1) {\n              break\n            }\n          }\n        }\n      }\n    }\n\n    return lastLineNode\n  }\n\n  return element\n}\n\nfunction moveCursorToOffsetInLine(contentEditableElement, lastLineStartNode, offset = 0) {\n  contentEditableElement.focus()\n\n  // If this function exists... (IE 9+)\n  if (window.getSelection) {\n    const lastLineStartNodeLength = (\n      lastLineStartNode.nodeType === 3\n        ? lastLineStartNode.length\n        : lastLineStartNode.innerText.length\n    )\n\n    if (offset === -1 || offset > lastLineStartNodeLength) {\n      offset = lastLineStartNodeLength\n    }\n\n    const range = document.createRange()\n    range.setStart(lastLineStartNode, 0)\n    range.setEnd(lastLineStartNode, offset)\n    range.collapse(false) // false = collapse to end\n    const sel = window.getSelection()\n    sel.removeAllRanges()\n    sel.addRange(range)\n  }\n}\n\nfunction reorder(list, startIndex, endIndex) {\n  const result = Array.from(list)\n  const [removed] = result.splice(startIndex, 1)\n  result.splice(endIndex, 0, removed)\n\n  return result\n}\n\nfunction ContentEditor({ defaultValue = [], onChange }) {\n  const [contentConfigs, setContentConfigs] = useState([])\n  const [inputRefs, setInputRefs] = useState({})\n\n  useEffect(()=>{\n    if (contentConfigs.length === 0) {\n      if (defaultValue.length > 0) {\n        let newContentConfigs = addTmpIds(defaultValue)\n        setContentConfigs(newContentConfigs)\n      }\n    }\n  }, [contentConfigs, defaultValue, setContentConfigs])\n\n  const saveInputRef = useCallback((keys, inputRef) => {\n    const newInputRefs = {...inputRefs}\n\n    if (\n      !newInputRefs.hasOwnProperty(keys.tmp_id)\n      || newInputRefs[keys.tmp_id] !== inputRef\n    ) {\n      newInputRefs[keys.tmp_id] = inputRef\n      setInputRefs(newInputRefs)\n    }\n  }, [ inputRefs, setInputRefs ])\n\n  const goToPrevInput = useCallback((keys, { caret }) => {\n    const index = keys.index\n\n    let prevInputRef = null\n    for (let thisIndex = contentConfigs.length-1; thisIndex >= 0; thisIndex--) {\n      const tmp_id = contentConfigs[thisIndex].tmp_id\n      if (thisIndex < index && inputRefs[tmp_id] && inputRefs[tmp_id].current) {\n        prevInputRef = inputRefs[tmp_id]\n        break\n      }\n    }\n\n    if (prevInputRef) {\n      const lastLineStartNode = getLastLineStartNode(prevInputRef.current)\n      moveCursorToOffsetInLine(prevInputRef.current, lastLineStartNode, caret.positionFromLineStart)\n    }\n  }, [ contentConfigs, inputRefs ])\n\n  const goToNextInput = useCallback((keys, { caret }) => {\n    const index = keys.index\n\n    let nextInputRef = null\n    for (let thisIndex = 0; thisIndex < contentConfigs.length; thisIndex++) {\n      const tmp_id = contentConfigs[thisIndex].tmp_id\n      if (thisIndex > index && inputRefs[tmp_id] && inputRefs[tmp_id].current) {\n        nextInputRef = inputRefs[tmp_id]\n        break\n      }\n    }\n\n    if (nextInputRef) {\n      const firstLineStartNode = getFirstLineStartNode(nextInputRef.current)\n      moveCursorToOffsetInLine(nextInputRef.current, firstLineStartNode, caret.positionFromLineStart)\n    }\n  }, [ contentConfigs, inputRefs ])\n\n  const focusLastLine = useCallback(() => {\n    let lastInputRef = null\n    for (let thisIndex = contentConfigs.length-1; thisIndex >= 0; thisIndex--) {\n      const tmp_id = contentConfigs[thisIndex].tmp_id\n      if (inputRefs[tmp_id] && inputRefs[tmp_id].current) {\n        lastInputRef = inputRefs[tmp_id]\n        break\n      }\n    }\n\n    if (lastInputRef) {\n      const lastLineStartNode = getLastLineStartNode(lastInputRef.current)\n      moveCursorToOffsetInLine(lastInputRef.current, lastLineStartNode, -1)\n    }\n  }, [ contentConfigs, inputRefs ])\n\n  /*const splitText = useCallback((keys, { blocks: replacerBlocks }) => {\n    // const index = keys.index\n\n    // const newBlocks = [...blocks].splice(index, 0, ...replacerBlocks)\n    // setContentConfigs(newBlocks)\n\n    // let nextInputRef = null\n    // for (let thisIndex = 0; thisIndex < blocks.length; thisIndex++) {\n    //   const tmp_id = blocks[thisIndex].tmp_id\n    //   if (thisIndex > index + 1 && inputRefs[tmp_id] && inputRefs[tmp_id].current) {\n    //     nextInputRef = inputRefs[tmp_id]\n    //     break\n    //   }\n    // }\n\n    // if (nextInputRef) {\n    //   const firstLineStartNode = getFirstLineStartNode(nextInputRef.current)\n    //   moveCursorToOffsetInLine(nextInputRef.current, firstLineStartNode, caret.positionFromLineStart)\n    // }\n  }, []) // blocks, inputRefs\n  */\n\n  const handleRowChange = useCallback((keys, newContentConfig) => {\n    const newContentConfigs = [...contentConfigs]\n      .map(oldContentConfig => {\n        if (oldContentConfig.tmp_id === keys.tmp_id) {\n          return {\n            ...oldContentConfig,\n            ...newContentConfig,\n          }\n        }\n        return oldContentConfig\n      })\n\n    setContentConfigs(newContentConfigs)\n    onChange(newContentConfigs)\n  }, [contentConfigs, setContentConfigs, onChange])\n\n  const addRowByIndex = useCallback((index, offset = 0, newValue) => {\n    if (typeof newValue === 'object') {\n      newValue = {\n        tmp_id: uuidv4(),\n        ...newValue,\n      }\n    } else {\n      newValue = newValue || { tmp_id: uuidv4() }\n    }\n\n    if (typeof index === 'number' && !isNaN(index)) {\n      let new_rows = [...contentConfigs]\n      new_rows.splice(index + offset, 0, newValue)\n      setContentConfigs(new_rows)\n      onChange(new_rows)\n    }\n  }, [contentConfigs, setContentConfigs, onChange])\n\n\n  function onDragEnd(result) {\n    if (!result.destination) {\n      return\n    }\n\n    if (result.destination.index === result.source.index) {\n      return\n    }\n\n    const newContentConfigs = reorder(\n      contentConfigs,\n      result.source.index,\n      result.destination.index\n    )\n\n    setContentConfigs(newContentConfigs)\n    onChange(newContentConfigs)\n  }\n\n  const filteredContentConfigs = contentConfigs\n    .filter(contentConfig => contentConfig.tmp_id)\n\n  return <>\n  <div\n    style={{\n      position: 'relative',\n      width: '1000px',\n      maxWidth: '100%',\n      margin: 'var(--basis_x8) auto 0 auto',\n    }}\n  >\n    <div>\n      <button\n        onClick={() => addRowByIndex(0, 0, {})}\n        className=\"text hasIcon\"\n        style={{\n          margin: '0 0 var(--basis_x2) 0',\n        }}\n      >\n        <span style={{pointerEvents: 'none'}}>\n          <AddIcon className=\"icon\" />\n          <span style={{marginInlineStart: 'var(--basis_x2)', verticalAlign: 'middle'}}>\n            <Localized id=\"add_content_before\" />\n          </span>\n        </span>\n      </button>\n    </div>\n\n    <DragDropContext onDragEnd={onDragEnd}>\n      <Droppable\n        droppableId=\"list\"\n        isDropDisabled={false}\n      >\n        {provided => (\n          <div ref={provided.innerRef} {...provided.droppableProps}>\n            {\n              filteredContentConfigs\n              .filter(contentConfig => !!contentConfig)\n              .map(\n                (contentConfig, index) => {\n                  const tmp_id = contentConfig.tmp_id\n                  const keys = {\n                    index,\n                    tmp_id,\n                  }\n\n                  return <Draggable\n                    key={tmp_id}\n                    draggableId={tmp_id}\n                    index={index}\n                    isDragDisabled={false}\n                    disableInteractiveElementBlocking={true}\n                    shouldRespectForcePress={true}\n                  >\n                    {provided => (\n                      <div\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n\n                        key={tmp_id}\n                        className={classes.row}\n                      >\n                      <div className={classes.form}>\n                        <InlineEditorBlock\n                          key={tmp_id}\n                          className={classes.item}\n                          dataset={{\n                            'data-index': index,\n                            'data-id': tmp_id,\n                          }}\n                          defaultContentConfig={contentConfig}\n\n                          reorderHandle={\n                            <Tooltip title={<div style={{ textAlign: 'center' }}>\n                              <strong>Drag</strong> to move.<br />\n                              <strong>Click</strong> to open menu.\n                            </div>}>\n                              <button\n                                className={`text ${classes.inlineRowButton} ${classes.dragHandleButton}`}\n                                {...provided.dragHandleProps}\n                              >\n                                <DragIndicatorIcon />\n                              </button>\n                            </Tooltip>\n                          }\n\n                          onRemoveRow={ () => {/*handleRemoveRow(index)*/} }\n                          addRowBefore={ (newValue) => addRowByIndex(index, 0, newValue) }\n                          addRowAfter={ (newValue) => addRowByIndex(index, 1, newValue) }\n\n                          onInputRef={(inputRef) => saveInputRef(keys, inputRef)}\n                          onGoToPrevInput={(attr) => goToPrevInput(keys, attr)}\n                          onGoToNextInput={(attr) => goToNextInput(keys, attr)}\n                          // onSplitText={(attr) => splitText(keys, attr)}\n                          onChange={(attr) => handleRowChange(keys, attr)}\n                          // onSplitText,\n                          // onMergeToPrevInput,\n                          // onMergeToNextInput,\n                          // {...repeater_props}\n                        />\n                      </div>\n                    </div>\n                    )}\n                  </Draggable>\n                }\n              )\n            }\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </DragDropContext>\n  </div>\n\n  <div\n    style={{\n      position: 'relative',\n      height: '50vh',\n      cursor: (filteredContentConfigs.length === 0 ? 'default' : 'text'),\n    }}\n    onClick={filteredContentConfigs.length === 0 ? null : focusLastLine}\n  ></div>\n  </>\n}\n\nexport default ContentEditor\n","import { useRef, useState, useCallback, useEffect } from 'react'\n\nimport {\n  useParams,\n} from 'react-router-dom'\n\nimport useSaveBlock from '../hooks/useSaveBlock.js'\nimport useLoadBlock from '../hooks/useLoadBlock.js'\n\n// import Select from 'react-select'\n\nimport {\n  TranslateSharp as TranslateIcon,\n  IosShareSharp as ShareIcon,\n  LockSharp as PermissionsIcon,\n  SaveSharp as SaveIcon,\n  MoreHorizSharp as BlockMenuIcon,\n} from '@mui/icons-material'\n\nimport classes from './Editor.module.css'\n\nimport { Localized, useLocalization } from '../fluent/Localized.js'\nimport { useTranslatedInputContext, LocalesMenu } from '../components/edit/TranslatedInput.js'\n\nimport Header from '../components/Header.js'\nimport BlockMenu from '../components/edit/BlockMenu.js'\nimport SharingEditor from '../components/edit/SharingEditor.js'\nimport PermissionsEditor from '../components/edit/PermissionsEditor.js'\nimport PropertiesEditor from '../components/edit/PropertiesEditor.js'\nimport ContentEditor from '../components/edit/ContentEditor.js'\n\n// const custom_react_select_styles = {\n//   menu: (provided, state) => ({\n//     ...provided,\n//     background: 'var(--purple)',\n//   }),\n// }\n// const custom_react_select_theme = theme => ({\n//   ...theme,\n//   borderRadius: 0,\n//   colors: {\n//     ...theme.colors,\n//     primary: 'var(--green)',\n//     primary25: 'var(--purple-dark)',\n//   },\n// })\n\nfunction Editor() {\n  const { getString, fluentByAny } = useLocalization()\n\n  const saveBlock = useSaveBlock()\n  const loadBlock = useLoadBlock()\n\n  const { currentLocale, setLocales } = useTranslatedInputContext()\n\n  const [ isSharingEditorOpen, setIsSharingEditorOpen ] = useState(false)\n  const openSharingEditor = useCallback(() => setIsSharingEditorOpen(true), [ setIsSharingEditorOpen ])\n  const closeSharingEditor = useCallback(() => setIsSharingEditorOpen(false), [ setIsSharingEditorOpen ])\n\n  const [ isPermissionsEditorOpen, setIsPermissionsEditorOpen ] = useState(false)\n  const openPermissionsEditor = useCallback(() => setIsPermissionsEditorOpen(true), [ setIsPermissionsEditorOpen ])\n  const closePermissionsEditor = useCallback(() => setIsPermissionsEditorOpen(false), [ setIsPermissionsEditorOpen ])\n\n  const loadedTheBlock = useRef(false)\n  let { id = '' } = useParams()\n\n  const [block, setBlock] = useState({\n    type: 'page',\n    properties: {},\n    content: [],\n  })\n  const type = block.type\n  const properties = block.properties\n  const content = block.content\n  const permissions = block.permissions\n\n  useEffect(() => {\n    if (\n      typeof id === 'string'\n      && id !== ''\n      && (\n        !loadedTheBlock.current\n        || id !== block._id\n      )\n    ) {\n      loadBlock(id)\n        .then(loadedBlock => {\n          loadedTheBlock.current = true\n\n          // get locales from text and description\n          // TODO: also look at the locales from sub-blocks\n          if (\n            loadedBlock.properties\n            && (\n              loadedBlock.properties.text\n              || loadedBlock.properties.description\n            )\n          ) {\n            setLocales([...new Set([\n              ...(loadedBlock.properties.text ? loadedBlock.properties.text.map(t => t.locale) : []),\n              ...(loadedBlock.properties.description ? loadedBlock.properties.description.map(t => t.locale) : []),\n            ])])\n          }\n\n          setBlock(loadedBlock)\n        })\n    }\n  }, [\n    id,\n    block,\n    loadBlock,\n    setBlock,\n    setLocales,\n  ])\n\n  const saveType = useCallback(newType => {\n    if (newType !== block.type) {\n      const newBlock = {\n        ...block,\n        type: newType,\n      }\n\n      saveBlock(newBlock)\n        .then(gottenBlock => {\n          setBlock(gottenBlock)\n        })\n    }\n  }, [block, saveBlock, setBlock])\n\n  const saveProperties = useCallback(newProperties => {\n    if (newProperties !== block.properties) {\n      const newBlock = {\n        ...block,\n        properties: newProperties,\n      }\n\n      saveBlock(newBlock)\n        .then(gottenBlock => {\n          setBlock(gottenBlock)\n        })\n    }\n  }, [block, saveBlock, setBlock])\n\n  const saveContent = useCallback(newContent => {\n    if (newContent !== block.content) {\n      const newBlock = {\n        ...block,\n        content: newContent,\n      }\n\n      saveBlock(newBlock)\n        .then(gottenBlock => {\n          setBlock(gottenBlock)\n        })\n    }\n  }, [block, saveBlock, setBlock])\n\n  const savePermissions = useCallback(newPermissions => {\n    if (newPermissions !== block.permissions) {\n      const newBlock = {\n        ...block,\n        permissions: newPermissions,\n      }\n\n      saveBlock(newBlock)\n        .then(gottenBlock => {\n          setBlock(gottenBlock)\n        })\n    }\n  }, [block, saveBlock, setBlock])\n\n  const manuallySaveEverything = useCallback(() => {\n    saveBlock(block)\n      .then(gottenBlock => {\n        if (gottenBlock._id !== block._id) {\n          setBlock(gottenBlock)\n        }\n      })\n  }, [saveBlock, block, setBlock])\n\n  // const isFirstRun = useRef(true)\n  // useEffect(() => {\n  //   if (isFirstRun.current) {\n  //     isFirstRun.current = false\n  //     return;\n  //   }\n  //\n  //   if (\n  //     Object.keys(block).length > 0\n  //     && JSON.stringify(initialBlock) !== JSON.stringify(block)\n  //   ) {\n  //     console.log('initialBlock', initialBlock)\n  //     console.log('block', block)\n  //   }\n  // }, [isFirstRun, initialBlock, block])\n\n  const rightHeaderActions = <div className=\"buttonRow\" style={{ whiteSpace: 'nowrap' }}>\n    {/* <button className=\"text\"><Localized id=\"path_editor_share\"/></button> */}\n\n\n    <LocalesMenu\n      trigger={triggerProps => (\n        <button {...triggerProps} className=\"text hasIcon\">\n          <TranslateIcon className=\"icon\" />\n          <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}>\n            {/* <Localized id=\"path_editor_translate\" /> */}\n            {getString('locale_'+currentLocale)}\n          </span>\n        </button>\n      )}\n    />\n\n    {\n      isSharingEditorOpen\n      ? <SharingEditor\n          defaultBlock={block}\n          open={isSharingEditorOpen}\n          onClose={closeSharingEditor}\n          onChange={saveProperties}\n        />\n      : null\n    }\n    <button className=\"text hasIcon\" onClick={openSharingEditor}>\n      <ShareIcon className=\"icon\" />\n      <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}><Localized id=\"path_editor_share\" /></span>\n    </button>\n\n    {\n      isPermissionsEditorOpen\n      ? <PermissionsEditor\n          defaultPermissions={permissions}\n          open={isPermissionsEditorOpen}\n          onClose={closePermissionsEditor}\n          onChange={savePermissions}\n        />\n      : null\n    }\n    <button className=\"text hasIcon\" onClick={openPermissionsEditor}>\n      <PermissionsIcon className=\"icon\" />\n      <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}><Localized id=\"path_editor_permissions\" /></span>\n    </button>\n\n    <button className=\"text hasIcon\" onClick={manuallySaveEverything}>\n      <SaveIcon className=\"icon\" />\n      <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}><Localized id=\"path_editor_publish\" /></span>\n    </button>\n\n    <BlockMenu\n      {...{\n        block,\n        setType: saveType,\n      }}\n\n      trigger={props => (\n        <button\n          {...props}\n          className=\"white hasIcon\"\n        >\n          <BlockMenuIcon className=\"icon\" />\n        </button>\n      )}\n    />\n  </div>\n\n\n  const pagetitle = fluentByAny(block.properties.text, 'Editor')\n  const title = pagetitle\n\n  return <div key={block._id} className={`hasHeader ${classes.editor}`}>\n    <Header\n      block={block}\n      // title={<a href={`https://volt.link/${slug}`} target=\"_blank\" rel=\"noopener noreferrer\"><span className=\"hideOnSmallScreen\">volt.link</span>/{slug}</a>}\n      title={title}\n      rightActions={rightHeaderActions}\n    />\n\n    <PropertiesEditor\n      type={type}\n      defaultProperties={properties}\n      onChange={saveProperties}\n    />\n\n    <ContentEditor\n      onChange={saveContent}\n      defaultValue={content}\n    />\n  </div>\n}\n\nexport default Editor\n","import { useCallback } from 'react'\n\nimport { useApolloClient } from '@apollo/client'\nimport { getBlocks_Query } from '../graphql/queries'\n\nfunction useLoadBlocksByIds() {\n  const apollo_client = useApolloClient()\n\n  const handleLoadBlocksByIds = useCallback(ids => {\n    return new Promise(resolve => {\n      if (Array.isArray(ids) || ids.length > 0) {\n        apollo_client.query({\n          query: getBlocks_Query,\n          variables: {\n            ids,\n          },\n        })\n          .then(async ({ data }) => {\n            if (typeof data.error === 'string' || !data.blocks) {\n              console.error(data.error)\n              resolve([])\n            }else{\n              resolve(data.blocks || [])\n            }\n          })\n          .catch(async error => {\n            console.error('error', error)\n            resolve([])\n          })\n      } else {\n        resolve([])\n      }\n    })\n  }, [apollo_client])\n\n  return handleLoadBlocksByIds\n}\n\nexport default useLoadBlocksByIds\n","import { useRef, useState, useEffect } from 'react'\n\nimport {\n  useParams,\n  Link,\n} from 'react-router-dom'\n\nimport { useLocalization, Localized } from '../fluent/Localized.js'\nimport useLoadBlock from '../hooks/useLoadBlock.js'\nimport useLoadBlocksByIds from '../hooks/useLoadBlocksByIds.js'\nimport useUser from '../hooks/useUser.js'\n\nimport Header from '../components/Header.js'\nimport ViewerAuto from '../components/view/ViewerAuto.js'\n\nimport classes from './Viewer.module.css'\n\nimport {\n  EditSharp as EditIcon,\n} from '@mui/icons-material'\n\nfunction Viewer () {\n  const loadingTheBlock = useRef(false)\n\n  const { loggedIn } = useUser()\n\n  const loadBlock = useLoadBlock()\n  const loadBlocksByIds = useLoadBlocksByIds()\n\n  const { fluentByAny } = useLocalization()\n\n  let { id = '' } = useParams()\n\n  const [block, setBlock] = useState({\n    type: 'page',\n    properties: {},\n    content: [],\n  })\n  const [contentBlocks, setContentBlocks] = useState([])\n\n  useEffect(() => {\n    if (\n      loadingTheBlock.current === false\n      && typeof id === 'string'\n      && id !== ''\n      && id !== block._id\n    ) {\n      loadingTheBlock.current = true\n      loadBlock(id)\n        .then(loadedBlock => {\n          setBlock(loadedBlock)\n          const ids = loadedBlock.content.map(content => content.blockId)\n          loadBlocksByIds(ids)\n            .then(loadedContentBlocks => {\n              const contentBlocksOrdered = [...ids].map(id => loadedContentBlocks.find(block => block._id === id))\n              setContentBlocks([...contentBlocksOrdered])\n              loadingTheBlock.current = false\n            })\n        })\n    }\n  }, [\n    id,\n    block._id,\n    loadBlock,\n    setBlock,\n    loadBlocksByIds,\n    setContentBlocks,\n  ])\n\n  const type = block.type || null\n\n  const title = fluentByAny(block.properties.text, '')\n  const description = fluentByAny(block.properties.description, '')\n  const coverphoto_url = block.properties.coverphoto || ''\n  const icon_url = block.properties.icon || ''\n\n  const rightHeaderActions = <div className=\"buttonRow\" style={{ whiteSpace: 'nowrap' }}>\n    <Link to={`/edit/${block._id}`}>\n      <button className=\"text hasIcon\">\n        <EditIcon className=\"icon\" />\n        <span className=\"hideOnSmallScreen\" style={{verticalAlign: 'middle'}}><Localized id=\"edit_block\" /></span>\n      </button>\n    </Link>\n  </div>\n\n  return <>\n    <Header\n      block={block}\n      title={title}\n      rightActions={loggedIn ? rightHeaderActions : null}\n    />\n\n    <div className={`basis_x1 ${classes.app} ${classes.spine_aligned}`} dir=\"auto\">\n      {\n      (type === 'page' ||type === 'person')\n      && coverphoto_url !== ''\n          ? <div style={{ backgroundImage: `url(${window.domains.backend}download_url?url=${encodeURIComponent(coverphoto_url)})` }} className={classes.coverphoto}></div>\n          : null\n      }\n      <main className={`${classes.contentWrapper}`}>\n        {\n          (type === 'page' ||type === 'person')\n          && icon_url !== ''\n            ? <div\n                style={{\n                  backgroundImage: `url(${window.domains.backend}download_url?url=${encodeURIComponent(icon_url)})`\n                }}\n                className={`${classes.icon} ${coverphoto_url === '' ? classes.coverphotoIsNotSet : classes.coverphotoIsSet}`}\n              ></div>\n            : null\n        }\n        { title !== '' ? <h1 dir=\"auto\">{title}</h1> : null }\n        { description !== '' ? <p dir=\"auto\">{description.split(/\\n/g).flatMap(i => [i, <br key={i}/>])}<br/></p> : null }\n        <div className={classes.items}>\n          {\n            contentBlocks\n            .filter(block => !!block)\n            .map(contentBlock => <ViewerAuto key={contentBlock._id} block={contentBlock} />)\n          }\n        </div>\n      </main>\n    </div>\n  </>\n}\n\nexport default Viewer\n","import React, { useState, useEffect } from 'react'\n\nimport classes from './App.module.css'\n\nimport {\n  Routes,\n  Route,\n  useLocation,\n  useMatch,\n} from 'react-router-dom'\n\nimport {\n  Login as LoginIcon,\n} from '@mui/icons-material'\n\nimport Localized from '../fluent/Localized.js'\nimport useUser from '../hooks/useUser.js'\nimport { SidebarProvider, Sidebar, SidebarContent, Main } from '../components/Sidebar.js'\nimport Shortcode from './Shortcode.js'\nimport Editor from './Editor.js'\nimport Viewer from './Viewer.js'\n\nfunction App() {\n  const { loggedIn } = useUser()\n\n  const matchesStartpage = useMatch('/')\n  const location = useLocation()\n\n  const [customLocation, setCustomLocation] = useState({})\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(location.search)\n    const real_path = urlParams.get('real_path')\n\n    if (\n      customLocation.pathname !== real_path\n    ) {\n      if (\n        typeof real_path === 'string'\n        && real_path.length > 0\n      ) {\n        window.history.replaceState(null, '', location.pathname)\n        setCustomLocation({\n          pathname: real_path,\n        })\n      } else {\n        setCustomLocation(location)\n      }\n    }\n  }, [ location, customLocation, setCustomLocation ])\n\n  return (<>\n    <div className={classes.app}>\n      <SidebarProvider>\n        {\n          matchesStartpage\n          ? null\n          : <Sidebar />\n        }\n        <Main>\n        {\n          loggedIn\n          ? <Routes location={customLocation}>\n              <Route path=\"/view/:id\" element={<Viewer />} />\n              <Route path=\"/edit/:id\" element={<Editor />} />\n              <Route path=\"/shortcode\" element={<Shortcode />} />\n              <Route path=\"/\" element={<SidebarContent />} />\n            </Routes>\n          : <Routes location={customLocation}>\n              <Route path=\"/view/:id\" element={<Viewer />} />\n              <Route path=\"/\" element={<>\n                <h1>Login to view content</h1>\n                <a href={`${window.domains.backend}login?redirect_to=${encodeURIComponent(window.location.toString())}`}>\n                  <button className=\"hasIcon\" style={{ margin: 'var(--basis_x4) 0 0 0' }}>\n                    <LoginIcon className=\"icon\" />\n                    <span>\n                      <Localized id=\"login\" />\n                    </span>\n                  </button>\n                </a>\n              </>} />\n            </Routes>\n        }\n        </Main>\n      </SidebarProvider>\n    </div>\n  </>)\n}\n\nexport default App\n","import React, { useEffect, useState } from 'react'\n\n// https://projectfluent.org/play/\n\n// import { LocalizationProvider, Localized } from '@fluent/react' // '@fluent/react/compat'\nimport { ReactLocalization, LocalizationProvider } from '@fluent/react'\nimport { FluentBundle, FluentResource } from '@fluent/bundle'\nimport { negotiateLanguages } from '@fluent/langneg'\n\n\nexport const locales = {\n  de: 'Deutsch',\n  en: 'English',\n  // es: 'Espaol',\n  // pt: 'Portugus',\n  fr: 'Franais',\n  // it: 'Italiano',\n  // nl: 'Dutch',\n  // pl: 'Polska',\n  // ru: 'P',\n}\n\nconst _supportedLocales_ = Object.keys(locales)\nconst _defaultLocale_ = 'en'\n\n\nasync function fetchMessages(locale) {\n  const path = await import('../locales/' + locale + '.ftl')\n\n  const response = await fetch(path.default)\n  const messages = await response.text()\n\n  return { [locale]: new FluentResource(messages) }\n}\n\nfunction getDefaultBundles() {\n  const bundle = new FluentBundle('')\n  bundle.addResource(new FluentResource(''))\n  return new ReactLocalization([bundle])\n}\n\nasync function createMessagesGenerator(currentLocales) {\n  const fetched = await Promise.all(\n    currentLocales.map(fetchMessages)\n  )\n  const messages = fetched.reduce(\n    (obj, cur) => Object.assign(obj, cur)\n  )\n\n  return function* generateBundles() {\n    for (const locale of currentLocales) {\n      const bundle = new FluentBundle(locale)\n      bundle.addResource(messages[locale])\n      yield bundle\n    }\n  }\n}\n\nexport function AppLocalizationProvider({ userLocales, children, onLocaleChange }) {\n  const [bundles, setBundles] = useState(getDefaultBundles())\n\n  useEffect(() => {\n    async function loadBundles() {\n      const currentLocales = negotiateLanguages(\n        userLocales,\n        _supportedLocales_,\n        { defaultLocale: _defaultLocale_ }\n      )\n\n      if (!!onLocaleChange) {\n        onLocaleChange(currentLocales)\n      }\n\n      const generateBundles = await createMessagesGenerator(currentLocales)\n\n      const new_bundles = new ReactLocalization(generateBundles())\n      new_bundles.userLocales = userLocales\n      new_bundles.defaultLocale = _defaultLocale_\n      new_bundles.supportedLocales = _supportedLocales_\n      setBundles(new_bundles)\n    }\n    loadBundles()\n  }, [userLocales, onLocaleChange])\n\n  if (!bundles) {\n    // Show a loader.\n    return <div>Loading texts</div>\n  }\n\n  return <LocalizationProvider l10n={bundles}>\n    {children}\n  </LocalizationProvider>\n}\n\n","import React, { useState, useEffect, useCallback } from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\n\nimport snackbarClasses from './Snackbar.module.css'\n\nimport App from './pages/App.js'\n// import reportWebVitals from './reportWebVitals'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport 'intl-pluralrules'\nimport { AppLocalizationProvider, locales } from './fluent/l10n.js'\nimport { TranslatedInputProvider } from './components/edit/TranslatedInput.js'\n\nimport useMediaQuery from '@mui/material/useMediaQuery'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\n\nimport { SnackbarProvider } from 'notistack'\n\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n} from '@apollo/client'\n\nwindow.domains = {\n  // frontend: 'http://localhost:3000/',\n  backend: 'https://api.volt.link/',\n  // backend: 'http://localhost:4004/',\n  frontend: 'https://beta.volt.link/',\n}\n\nconst client = new ApolloClient({\n  uri: window.domains.backend+'graphql/v1/',\n  cache: new InMemoryCache(),\n  credentials: 'include',\n  defaultOptions: {\n    watchQuery: {\n      fetchPolicy: 'cache-and-network',\n    },\n  },\n})\n\n// client\n//   .query({\n//     query: gql`\n//       query GetRates {\n//         rates(currency: \"USD\") {\n//           currency\n//         }\n//       }\n//     `\n//   })\n//   .then(result => console.info(result));\n\nfunction Start() {\n  // const [userLocales, setUserLocales] = useState(['de'])\n  const [userLocales, setUserLocales] = useState(navigator.languages)\n  const [currentLocale, setCurrentLocale] = useState(null)\n\n  useEffect(() => {\n    if (!!window.umami) {\n      let systemLocales = navigator.languages\n      if (!!systemLocales || Array.isArray(systemLocales)) {\n        for (let locale of systemLocales) {\n          locale = locale.toLowerCase() // Not really correct but the system locales sadly don't conform to the standard.\n\n          const language = locale.split('-')[0]\n          if (language !== locale) {\n            window.umami.trackEvent('L: ' + language) // Log just the language.\n          }\n          window.umami.trackEvent('L: ' + locale) // Log the full locale.\n        }\n      }\n    }\n  }, [])\n\n  const handleLanguageChange = useCallback(event => {\n    setUserLocales([event.target.dataset.locale])\n  }, [setUserLocales])\n\n  const handleCurrentLocalesChange = useCallback(currentLocales => {\n    setCurrentLocale(currentLocales.length > 0 ? currentLocales[0] : '')\n  }, [setCurrentLocale])\n\n\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)')\n\n  const theme = React.useMemo(\n    () =>\n      createTheme({\n        palette: {\n          mode: prefersDarkMode ? 'dark' : 'light',\n        },\n      }),\n    [prefersDarkMode],\n  )\n\n  return <>\n  <div\n    id=\"react-notification\"\n    key=\"react-notification\"\n    style={{zIndex: '10000'}}\n  ></div>\n\n  <AppLocalizationProvider\n    key=\"AppLocalizationProvider\"\n    userLocales={userLocales}\n    onLocaleChange={handleCurrentLocalesChange}\n  >\n    <ApolloProvider client={client}>\n      <ThemeProvider theme={theme}>\n        <SnackbarProvider\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          style={{ minWidth: 'unset' }}\n          classes={{\n            variantSuccess: `${snackbarClasses.snackbar} ${snackbarClasses.success}`,\n            variantError: `${snackbarClasses.snackbar} ${snackbarClasses.error}`,\n            variantWarning: `${snackbarClasses.snackbar} ${snackbarClasses.warning}`,\n            variantInfo: `${snackbarClasses.snackbar} ${snackbarClasses.info}`,\n          }}\n          domRoot={document.getElementById('react-notification')}\n        >\n          <TranslatedInputProvider>\n            <Router>\n              <App locales={locales} currentLocale={currentLocale} onLanguageChange={handleLanguageChange} />\n            </Router>\n          </TranslatedInputProvider>\n        </SnackbarProvider>\n      </ThemeProvider>\n    </ApolloProvider>\n  </AppLocalizationProvider>\n  </>\n}\n\nReactDOM.render(<Start />, document.getElementById('root'))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.info))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coverphoto\":\"ViewerActionCard_coverphoto__3octg\",\"icon\":\"ViewerActionCard_icon__3zy8N\",\"title\":\"ViewerActionCard_title__1HxR6\",\"iconLine\":\"ViewerActionCard_iconLine__1TXjK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsWrapper\":\"PermissionsEditor_dialogsWrapper__1xVvi\",\"dialog\":\"PermissionsEditor_dialog__2rpyk\",\"backdrop\":\"PermissionsEditor_backdrop__1dRPN\",\"inputWrapper\":\"PermissionsEditor_inputWrapper__4DGsr\",\"emailInput\":\"PermissionsEditor_emailInput__1uH8s\",\"permissionRow\":\"PermissionsEditor_permissionRow__2HaWO\",\"menuButton\":\"PermissionsEditor_menuButton__2jIMI\",\"ownerInfo\":\"PermissionsEditor_ownerInfo__EEKXP\",\"actions\":\"PermissionsEditor_actions__k4oBn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"IconPicker_root__2okyv\",\"iconIsSet\":\"IconPicker_iconIsSet__SnQwA\",\"coverphotoIsSet\":\"IconPicker_coverphotoIsSet__3m9Dw\",\"icon\":\"IconPicker_icon__JWgfX\",\"iconWrapper\":\"IconPicker_iconWrapper__1zo6g\",\"sizing_pixel\":\"IconPicker_sizing_pixel__3TeE0\",\"iconIsNotSet\":\"IconPicker_iconIsNotSet__1T0Zd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"snackbar\":\"Snackbar_snackbar__119_w\",\"default\":\"Snackbar_default__31-eU\",\"success\":\"Snackbar_success__zvTW8\",\"error\":\"Snackbar_error__3XeD6\",\"warning\":\"Snackbar_warning__2CBXt\",\"info\":\"Snackbar_info__EuVSN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_headline\":\"PropertiesEditor_main_headline__3wy7R\",\"propertiesFrame\":\"PropertiesEditor_propertiesFrame__1uBEz\",\"properties_row\":\"PropertiesEditor_properties_row__2tX7M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coverphoto\":\"CoverphotoPicker_coverphoto__1mWB4\",\"root\":\"CoverphotoPicker_root__3T8t9\",\"coverphotoIsNotSet\":\"CoverphotoPicker_coverphotoIsNotSet__1O3-S\",\"button_wrapper\":\"CoverphotoPicker_button_wrapper__2oEjh\",\"coverphotoIsSet\":\"CoverphotoPicker_coverphotoIsSet__2o24A\",\"iconIsSet\":\"CoverphotoPicker_iconIsSet__D_4uA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"Viewer_app__1_jMF\",\"spine_aligned\":\"Viewer_spine_aligned__2mJuq\",\"coverphoto\":\"Viewer_coverphoto__16R-U\",\"icon\":\"Viewer_icon__219E5\",\"coverphotoIsSet\":\"Viewer_coverphotoIsSet__26PSP\",\"contentWrapper\":\"Viewer_contentWrapper__1HLN8\",\"items\":\"Viewer_items__2FgjF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coverphoto\":\"ViewerPageCard_coverphoto__tOV8d\",\"icon\":\"ViewerPageCard_icon__Vn_YM\",\"title\":\"ViewerPageCard_title__Lgi9t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"SharingEditor_dialog__22jfY\",\"backdrop\":\"SharingEditor_backdrop__1Gra9\",\"inputWrapper\":\"SharingEditor_inputWrapper__1UyBD\",\"input\":\"SharingEditor_input__brkXK\",\"actions\":\"SharingEditor_actions__2zz6x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"InlineEditorBlock_block__14-zd\",\"block_input\":\"InlineEditorBlock_block_input__2I1iu\",\"form_deactivated\":\"InlineEditorBlock_form_deactivated__2oktp\",\"form_active\":\"InlineEditorBlock_form_active__hi5HC\",\"reorderHandle\":\"InlineEditorBlock_reorderHandle__2_s23\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"ContentEditor_row__JonRI\",\"form\":\"ContentEditor_form__wtoB9\",\"item\":\"ContentEditor_item__3U0XE\",\"inlineRowButton\":\"ContentEditor_inlineRowButton__2pw6r\",\"dragHandleButton\":\"ContentEditor_dragHandleButton__1Y_RP\"};"],"sourceRoot":""}